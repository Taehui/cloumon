(function(){monitor_app={};var X=this,K=document,la=navigator.userAgent,qa="uki"+ +new Date,T=Math.max,ea=Math.min,za=Math.floor,ta=Math.ceil;X.uki=X.uki||function(e,b){if(typeof e==="string"){var d=e.match(/^#((?:[\w\u00c0-\uFFFF_-]|\\.)+)$/),f=d&&uki._ids[d[1]];if(d&&!b)return new uki.Collection(f?[f]:[]);return uki.find(e,b)}if(e.length===undefined)e=[e];if(e.length>0&&uki.isFunction(e[0].typeName))return new uki.Collection(e);return uki.build(e)};uki.version="0.3.8";uki.guid=1;uki.F=function(){return false};
uki._ids={};uki.registerId=function(e){uki._ids[uki.attr(e,"id")]=e};uki.unregisterId=function(e){uki._ids[uki.attr(e,"id")]=undefined};(function(){function e(){}var b=Object.prototype.toString,d=String.prototype.trim,f=Array.prototype.slice,j=/^\s+|\s+$/g,h={attr:function(k,m,n){if(n!==undefined){if(k[m]&&k[m].apply)k[m](n);else k[m]=n;return k}else return k[m]&&k[m].apply?k[m]():k[m]},proxy:function(k,m){var n=f.call(arguments,2),s=function(){return k.apply(m,n.concat(f.call(arguments,0)))};s.huid=
k.huid=k.huid||uki.guid++;return s},isFunction:function(k){return b.call(k)==="[object Function]"},isArray:function(k){return b.call(k)==="[object Array]"},trim:function(k){k=k||"";return d?d.call(k):k.replace(j,"")},escapeHTML:function(k){var m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"};return(k+"").replace(/[&<>\"\']/g,function(n){return m[n]})},each:function(k,m,n){var s,v=0,r=k.length;if(r===undefined)for(s in k){if(!(!s||k[s]===undefined||!k.hasOwnProperty(s)))if(m.call(n||
k[s],s,k[s])===false)break}else for(s=k[0];v<r&&m.call(n||s,v,s)!==false;s=k[++v]);return k},inArray:function(k,m){for(var n=0,s=m.length;n<s;n++)if(m[n]===k)return n;return-1},unique:function(k){if(k.length&&(typeof k[0]=="object"||typeof k[0]=="function")){var m=[],n;for(n=0;n<k.length;n++){k[n].__uki_marked||(m[m.length]=k[n]);k[n].__uki_marked=true}for(n=0;n<m.length;n++)delete m[n].__uki_marked;return m}else{m=[];var s={};n=0;for(var v=k.length;n<v;n++){var r=k[n];if(!s[r]){s[r]=true;m.push(k[n])}}return m}},
grep:function(k,m){for(var n=[],s=0,v=k.length;s<v;s++)m(k[s],s)&&n.push(k[s]);return n},map:function(k,m,n){for(var s=[],v=uki.isFunction(m)?m:function(t){return uki.attr(t,m)},r=0,w=k.length;r<w;r++){var g=v.call(n||k[r],k[r],r);if(g!=null)s[s.length]=g}return s},reduce:function(k,m,n,s){for(var v=0,r=m.length;v<r;v++)k=n.call(s||m[v],k,m[v],v);return k},extend:function(){for(var k=arguments[0]||{},m=1,n=arguments.length,s;m<n;m++)if((s=arguments[m])!=null)for(var v in s){var r=s[v];if(r!==undefined)k[v]=
r}return k},newClass:function(){var k=function(){this.init.apply(this,arguments)},m;m=0;var n,s=[],v,r,w=arguments,g;if((g=w.length)>1){v=w[0];if(v.prototype){e.prototype=v.prototype;k.prototype=new e;m=1;s=[e.prototype];for(n in v){r=v[n];!v.hasOwnProperty(n)||r===undefined||n=="prototype"||(k[n]=r)}}}for(m=m;m<g;m++){v=w[m];if(this.isFunction(v)){n={};v.apply(n,s);v=n}s[s.length]=v;uki.extend(k.prototype,v)}if(!k.prototype.init)k.prototype.init=function(){};return k},binarySearch:function(k,m){for(var n=
0,s=m.length,v;n<s;){v=n+s>>1;m[v]<k?(n=v+1):(s=v)}return n},newProp:function(k,m){return function(n){if(n===undefined)return this[k];if(m)m.call(this,n);else this[k]=n;return this}},addProps:function(k,m){for(var n=0,s=m.length;n<s;n++)k[m[n]]=uki.newProp("_"+m[n])},toArray:function(k){return f.call(k,0)},delegateProp:function(k,m,n){var s="_"+m;k[m]=function(v){if(v===undefined){if(this[n])return uki.attr(this[n],m,v);return this[s]}if(this[n])uki.attr(this[n],m,v);else this[s]=v;return this}},
camalize:function(k){return k.replace(/[-_]\S/g,function(m){return m.substr(1).toUpperCase()})},dasherize:function(k){return k.replace(/[A-Z]/g,function(m){return"-"+m.toLowerCase()})}};h.extend(uki,h)})();uki.geometry={};var Z=uki.geometry.Point=function(e,b){this.x=e*1||0;this.y=b*1||0};Z.prototype={toString:function(){return this.x+" "+this.y},clone:function(){return new Z(this.x,this.y)},eq:function(e){return this.x==e.x&&this.y==e.y},offset:function(e,b){if(typeof e=="object"){b=e.y;e=e.x}this.x+=
e;this.y+=b;return this},constructor:Z};Z.fromString=function(e){e=e.split(/\s+/);return new Z(e[0],e[1])};var U=uki.geometry.Size=function(e,b){this.width=e*1||0;this.height=b*1||0};U.prototype={toString:function(){return this.width+" "+this.height},clone:function(){return new U(this.width,this.height)},eq:function(e){return this.width==e.width&&this.height==e.height},empty:function(){return this.width<=0||this.height<=0},constructor:U};U.fromString=function(e){e=e.split(/\s+/);return new U(e[0],
e[1])};U.create=function(e,b){if(e===undefined)return null;if(e.width!==undefined)return e;if(/\S+\s+\S+/.test(e+""))return U.fromString(e,b);return new U(e,b)};var L=uki.geometry.Rect=function(e,b,d,f){if(d!==undefined){this.x=e*1||0;this.y=b*1||0;this.width=d*1||0;this.height=f*1||0}else if(e===undefined||e.x===undefined){this.y=this.x=0;this.width=e*1||0;this.height=b*1||0}else{this.x=e?e.x*1:0;this.y=e?e.y*1:0;this.width=b?b.width*1:0;this.height=b?b.height*1:0}};L.prototype={toString:function(){return[this.x,
this.y,this.width,this.height].join(" ")},toCoordsString:function(){return[this.x,this.y,this.maxX(),this.maxY()].join(" ")},clone:function(){return new L(this.x,this.y,this.width,this.height)},minX:function(){return this.x},maxX:function(){return this.x+this.width},midX:function(){return this.x+this.width/2},minY:function(){return this.y},midY:function(){return this.y+this.height/2},maxY:function(){return this.y+this.height},normalize:function(){this.x=this.y=0;return this},empty:U.prototype.empty,
eq:function(e){return e&&this.x==e.x&&this.y==e.y&&this.height==e.height&&this.width==e.width},inset:function(e,b){this.x+=e;this.y+=b;this.width-=e*2;this.height-=b*2;return this},offset:Z.prototype.offset,intersection:function(e){var b=new Z(T(this.x,e.x),T(this.y,e.y));e=new U(ea(this.maxX(),e.maxX())-b.x,ea(this.maxY(),e.maxY())-b.y);return e.empty()?new L:new L(b,e)},union:function(e){return L.fromCoords(ea(this.x,e.x),ea(this.y,e.y),T(this.maxX(),e.maxX()),T(this.maxY(),e.maxY()))},containsPoint:function(e){return e.x>=
this.minX()&&e.x<=this.maxX()&&e.y>=this.minY()&&e.y<=this.maxY()},containsRect:function(e){return this.eq(this.union(e))},constructor:L};L.prototype.left=L.prototype.minX;L.prototype.top=L.prototype.minY;L.fromCoords=function(e,b,d,f){if(d===undefined)return new L(e.x,e.y,b.x-e.x,b.y-e.y);return new L(e,b,d-e,f-b)};L.fromCoordsString=function(e){e=e.split(/\s+/);return L.fromCoords(e[0],e[1],e[2],e[3])};L.fromString=function(e){e=e.split(/\s+/);if(e.length>2)return new L(e[0],e[1],e[2],e[3]);return new L(e[0],
e[1])};L.create=function(e,b,d,f){if(e===undefined)return null;if(e.x!==undefined)return e;if(/\S+\s+\S+/.test(e+""))return L.fromString(e,b);if(d===undefined)return new L(e,b);return new L(e,b,d,f)};var Y=uki.geometry.Inset=function(e,b,d,f){this.top=e*1||0;this.right=b*1||0;this.bottom=d===undefined?this.top*1:d*1;this.left=f===undefined?this.right*1:f*1};Y.prototype={toString:function(){return[this.top,this.right,this.bottom,this.left].join(" ")},clone:function(){return new Y(this.top,this.right,
this.bottom,this.left)},width:function(){return this.left+this.right},height:function(){return this.top+this.bottom},negative:function(){return this.top<0||this.left<0||this.right<0||this.bottom<0},empty:function(){return!this.top&&!this.left&&!this.right&&!this.bottom}};Y.fromString=function(e){e=e.split(/\s+/);if(e.length<3)e[2]=e[0];if(e.length<4)e[3]=e[1];return new Y(e[0],e[1],e[2],e[3])};Y.create=function(e,b,d,f){if(e===undefined)return null;if(e.top!==undefined)return e;if(/\S+\s+\S+/.test(e+
""))return Y.fromString(e,b);if(d===undefined)return new Y(e,b);return new Y(e,b,d,f)};uki.dom={createElement:function(e,b,d){e=K.createElement(e);if(b)e.style.cssText=b;if(d)e.innerHTML=d;e[qa]=uki.guid++;return e},probe:function(e,b){var d=K.body;d.appendChild(e);b=b(e);d.removeChild(e);return b},layout:function(e,b,d){d=d||{};if(d.left!=b.left)e.left=b.left+"px";if(d.top!=b.top)e.top=b.top+"px";if(d.right!=b.right)e.right=b.right+"px";if(d.bottom!=b.bottom)e.bottom=b.bottom+"px";if(d.width!=b.width)e.width=
T(b.width,0)+"px";if(d.height!=b.height)e.height=T(b.height,0)+"px";return b},computedStyle:function(e){if(K&&K.defaultView&&K.defaultView.getComputedStyle)return K.defaultView.getComputedStyle(e,null);else if(e.currentStyle)return e.currentStyle},contains:function(e,b){try{if(e.contains)return e.contains(b);if(e.compareDocumentPosition)return!!(e.compareDocumentPosition(b)&16)}catch(d){}for(;b&&b!=e;)try{b=b.parentNode}catch(f){b=null}return e==b},createStylesheet:function(e){var b=K.createElement("style");
K.getElementsByTagName("head")[0].appendChild(b);if(b.styleSheet)b.styleSheet.cssText=e;else b.appendChild(document.createTextNode(e));return b}};uki.each(["createElement"],function(e,b){uki[b]=uki.dom[b]});uki.dom.special={};uki.dom.Event=function(e){e=e||{};this.domEvent=e.domEvent||e;for(var b=uki.dom.props.length,d;b;){d=uki.dom.props[--b];this[d]=e[d]}};uki.dom.Event.prototype=new (function(){function e(){return true}this.preventDefault=function(){var b=this.domEvent;b.preventDefault&&b.preventDefault();
b.returnValue=false;this.isDefaultPrevented=e};this.stopPropagation=function(){var b=this.domEvent;b.stopPropagation&&b.stopPropagation();b.cancelBubble=true;this.isPropagationStopped=e};this.isDefaultPrevented=this.isPropagationStopped=uki.F});uki.extend(uki.dom,{bound:{},handlers:{},props:"type altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which dragOffset dataTransfer".split(" "),
events:"blur focus load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error draggesturestart draggestureend draggesture dragstart dragend drag drop dragenter dragleave dragover".split(" "),bind:function(e,b,d){if(e.setInterval&&e!=window)e=window;d.huid=d.huid||uki.guid++;var f=e[qa]=e[qa]||uki.guid++,j=uki.dom.handlers[f]=uki.dom.handlers[f]||function(){uki.dom.handler.apply(arguments.callee.elem,
arguments)},h,k;j.elem=e;uki.dom.bound[f]||(uki.dom.bound[f]={});b=b.split(" ");for(h=0;h<b.length;h++){k=b[h];if(!uki.dom.bound[f][k]){uki.dom.bound[f][k]=[];if(!uki.dom.special[k]||uki.dom.special[k].setup.call(e)===false)e.addEventListener?e.addEventListener(k,j,false):e.attachEvent("on"+k,j)}uki.dom.bound[f][k].push(d)}d=j=e=null},unbind:function(e,b,d){var f=e[qa],j=d&&d.huid,h,k;if(b)b=b.split(" ");else{b=[];uki.each(uki.dom.bound[f]||[],function(n){b.push(n)})}for(h=0;h<b.length;h++){k=b[h];
if(!(!f||!uki.dom.bound[f]||!uki.dom.bound[f][k])){uki.dom.bound[f][k]=d?uki.grep(uki.dom.bound[f][k],function(n){return n.huid!==j}):[];if(uki.dom.bound[f][k].length==0){var m=uki.dom.handlers[f];if(!uki.dom.special[k]||uki.dom.special[k].teardown.call(e)===false)e.removeEventListener?e.removeEventListener(k,m,false):e.detachEvent("on"+k,m);uki.dom.bound[f][k]=null}}}},handler:function(e){e=e||X.event;var b=e.type,d=this[qa],f=uki.dom.bound[d];if(!e.domEvent){e=new uki.dom.Event(e);e=uki.dom.fix(e)}if(!(!d||
!f||!f[b])){uki.after.start();d=0;for(f=f[b];d<f.length;d++)f[d].call(this,e);uki.after.stop()}},fix:function(e){if(!e.target)e.target=e.srcElement||K;if(e.target.nodeType==3)e.target=e.target.parentNode;if(!e.relatedTarget&&e.fromElement)e.relatedTarget=e.fromElement==e.target?e.toElement:e.fromElement;if(e.pageX==null&&e.clientX!=null){var b=K.documentElement,d=K.body;e.pageX=e.clientX+(b&&b.scrollLeft||d&&d.scrollLeft||0)-(b.clientLeft||0);e.pageY=e.clientY+(b&&b.scrollTop||d&&d.scrollTop||0)-
(b.clientTop||0)}if(!e.which&&(e.charCode||e.charCode===0?e.charCode:e.keyCode))e.which=e.charCode||e.keyCode;if(!e.metaKey&&e.ctrlKey)try{e.metaKey=e.ctrlKey}catch(f){}if(!e.which&&e.button)e.which=e.button&1?1:e.button&2?3:e.button&4?2:0;return e},preventDefaultHandler:function(e){e&&e.preventDefault();return false}});uki.each({mouseover:"mouseenter",mouseout:"mouseleave"},function(e,b){var d=function(f){if(!uki.dom.contains(this,f.relatedTarget)){f.type=b;uki.dom.handler.apply(this,arguments)}};
uki.dom.special[b]={setup:function(){uki.dom.bind(this,e,d)},teardown:function(){uki.dom.unbind(this,e,d)}}});X.attachEvent&&X.attachEvent("onunload",function(){uki.each(uki.dom.bound,function(e,b){uki.each(b,function(d){try{uki.dom.handlers[e].elem.detachEvent("on"+d,uki.dom.handlers[e])}catch(f){}})})});(function(){function e(s){if(!h.draggable){h.draggable=s;uki.dom.bind(K,"mousemove scroll",f);uki.dom.bind(K,n,j);uki.dom.bind(K,"selectstart mousedown",uki.dom.preventDefaultHandler)}}function b(){h.draggable=
null;uki.dom.unbind(K,"mousemove scroll",f);uki.dom.unbind(K,n,j);uki.dom.unbind(K,"selectstart mousedown",uki.dom.preventDefaultHandler)}function d(s){s=new uki.dom.Event(s);s.type="draggesturestart";uki.dom.handler.apply(this,arguments);if(!s.isDefaultPrevented()){e(this);h.position=new Z(-s.pageX,-s.pageY)}}function f(s){s=new uki.dom.Event(s);s.type="draggesture";s.dragOffset=(new Z(s.pageX,s.pageY)).offset(h.position);uki.dom.handler.apply(h.draggable,arguments);s.isDefaultPrevented()&&b(h.draggable)}
function j(s){s=new uki.dom.Event(s);s.type="draggestureend";s.dragOffset=(new Z(s.pageX,s.pageY)).offset(h.position);uki.dom.handler.apply(h.draggable,arguments);b(h.draggable)}var h=uki.dom.dnd={draggable:null,nativeDnD:false,position:null};try{if(typeof K.createEvent("MouseEvent").dataTransfer=="object"||K.createEvent("DragEvent").initDragEvent)h.nativeDnD=!la.match(/Chrome\/4/)}catch(k){}var m={setup:function(){if(this.__draggesturebound)this.__draggesturebound++;else{this.__draggesturebound=
1;uki.dom.bind(this,"mousedown",d);if(!h.nativeDnD&&typeof this.ondragstart=="object")this.ondragstart=function(){event.returnValue=false}}},teardown:function(){this.__draggesturebound--;this.__draggesturebound||uki.dom.unbind(this,"mousedown",d)}};uki.extend(uki.dom.special,{draggesturestart:m,draggestureend:m,draggesture:m});var n="mouseup "+(h.nativeDnD?" dragend":"")})();(function(){function e(g){if(uki.isFunction(g.dom)){if(g.parent().length)return g.dom();var t=uki.createElement("div","width:1px;height:1px;position:absolute;left:-999em;top:0");
K.body.appendChild(t);g.attachTo(t);return t}return g}function b(g){g=new uki.dom.Event(g);var t=g.dataTransfer;g.dataTransfer=new uki.dom.DataTransferWrapper(t);uki.dom.handler.apply(this,arguments);t.effectAllowed=g.dataTransfer.effectAllowed;t.dropEffect=g.dataTransfer.dropEffect}function d(g){uki.dom.bind(g,"draggestureend",m)}function f(g){if(n.dataTransfer){n.dataTransfer.cleanup();n.dragOver=n.dataTransfer=n.target=null;uki.dom.unbind(g,"draggestureend",m)}}function j(g){if(!(!n.dataTransfer||
g.domEvent.__dragEntered||!s)){g=new uki.dom.Event(g);g.domEvent.__dragEntered=true;if(n.dragOver!=this){n.dragOver=this;g.type="dragenter";uki.dom.handler.apply(this,arguments)}}}function h(g){if(s){if(!g.domEvent.__dragEntered&&n.dragOver){g=new uki.dom.Event(g);g.type="dragleave";uki.dom.handler.apply(n.dragOver,arguments);n.dragOver=null}}else{if(n.dataTransfer){g.type="drag";g.target=n.target}else if(g.dragOffset.x>n.dragDelta||g.dragOffset.y>n.dragDelta){var t=g.target,D=this.parentNode;try{for(;t&&
t!=D&&!t.getAttribute("draggable");)t=t.parentNode}catch(G){t=null}if(t&&t.getAttribute("draggable")){n.target=g.target=t;g.type="dragstart";n.dataTransfer=g.dataTransfer=new uki.dom.DataTransfer(g.domEvent.dataTransfer);d(this)}else return}else return;g=new uki.dom.Event(g);uki.dom.handler.apply(this,arguments);g.isDefaultPrevented()?f(this):k(g)}}function k(g){var t=n.dataTransfer._dragImage.style,D=g.domEvent.type;g.stopPropagation();g.preventDefault();t.left="-999em";t=K.elementFromPoint(g.pageX,
g.pageY);n.dataTransfer.update(g);try{var G;s=true;try{if(K.createEventObject){G=K.createEventObject();for(var S=w.length,O;S;){O=uki.dom.props[--S];G[O]=g.domEvent[O]}t.fireEvent("on"+D,G)}else{G=K.createEvent("MouseEvents");G.initMouseEvent(D,true,true,K.defaultView,g.detail,g.screenX,g.screenY,g.clientX,g.clientY,g.ctrlKey,g.altKey,g.shiftKey,g.metaKey,g.button,null);t.dispatchEvent(G)}}catch(P){}s=false}catch(R){}}function m(g){if(!s)if(n.dataTransfer){g.type="dragend";g.target=n.target;g.dataTransfer=
n.dataTransfer;uki.dom.handler.apply(this,arguments);k(g);f(this)}}var n=uki.dom.dnd,s=false;uki.extend(n,{dragDelta:5,initNativeDnD:function(){var g=uki.createElement("div","position: absolute;left:-999em;");K.body.appendChild(g);n.dragImageContainer=g;n.initNativeDnD=uki.F;return true},dragImageContainer:null,dataTransfer:null,target:null,dragOver:null});var v=["dropEffect","effectAllowed","types","files"];uki.dom.DataTransferWrapper=uki.newClass(new (function(){this.init=function(g){this.dataTransfer=
g;for(var t=v.length-1;t>=0;t--)this[v[t]]=g[v[t]]};this.setData=function(g,t){return this.dataTransfer.setData(g,t)};this.clearData=function(g){return this.dataTransfer.clearData(g)};this.getData=function(g){return this.dataTransfer.getData(g)};this.setDragImage=function(g,t,D){n.initNativeDnD();g=e(g);var G=g.cloneNode(true);g=G.style;g.left=g.right=g.top=g.bottom="";g.position="static";n.dragImageContainer.appendChild(G);setTimeout(function(){n.dragImageContainer.removeChild(G)},1);return this.dataTransfer.setDragImage(G,
t,D)}}));uki.dom.DataTransfer=uki.newClass(new (function(){this.init=function(){uki.extend(this,{dropEffect:"none",effectAllowed:"none",types:[],files:[],dragImage:new Image,imagePosition:new Z,data:{}})};this.setData=function(g,t){this.data[g]=t;uki.inArray(g,this.types)==-1&&this.types.push(g)};this.clearData=function(g){if(g){delete this.data[g];this.types=uki.grep(this.types,function(t){return t!=g})}else{this.data={};this.types=[]}};this.getData=function(g){return this.data[g]};this.setDragImage=
function(g,t,D){this._dragImage=this._initDragImage(g);this._imagePosition=new Z(t||0,D||0)};this.update=function(g){if(this._dragImage){this._dragImage.style.left=g.pageX-this._imagePosition.x+"px";this._dragImage.style.top=g.pageY-this._imagePosition.y+"px"}};this.cleanup=function(){this._dragImage&&this._dragImage.parentNode.removeChild(this._dragImage);this._dragImage=undefined};this._initDragImage=function(g){g=e(g);g=g.cloneNode(true);var t=g.style;t.left=t.right=t.top=t.bottom="";t.position=
"absolute";t.left="-999em";t.zIndex="9999";K.body.appendChild(g);return g}}));var r={setup:function(){if(this.__w3cdragbound)this.__w3cdragbound++;else{this.__w3cdragbound=1;uki.dom.bind(this,"draggesture",h)}},teardown:function(){this.__w3cdragbound--;this.__draggesturebound||uki.dom.unbind(this,"draggesture",h)}};if(n.nativeDnD)uki.extend(uki.dom.special,{dragstart:{setup:function(){this.addEventListener("dragstart",b,false)},teardown:function(){this.removeEventListener("dragstart",b,false)}}});
else{uki.extend(uki.dom.special,{dragstart:r,drag:r,dragend:r});uki.each({dragover:"mousemove",drop:"mouseup"},function(g,t){var D=function(G){if(n.dataTransfer&&s){G=new uki.dom.Event(G);G.type=g;G.dataTransfer=n.dataTransfer;if(g=="dragover")n.__canDrop=false;else{f(this);if(!n.__canDrop)return}uki.dom.handler.apply(this,arguments);if(G.isDefaultPrevented())n.__canDrop=true}};uki.dom.special[g]={setup:function(){uki.dom.bind(this,t,D)},teardown:function(){uki.dom.unbind(this,t,D)}}});uki.dom.special.dragenter=
{setup:function(){uki.dom.bind(this,"mousemove",j)},teardown:function(){uki.dom.unbind(this,"mousemove",j)}};uki.dom.special.dragleave={setup:function(){},teardown:function(){}}}var w="detail screenX screenY clientX clientY ctrlKey altKey shiftKey metaKey button".split(" ")})();(function(){var e;e=K.documentElement.getBoundingClientRect?(uki.dom.offset=function(b){if(!b||b==X)return new Z;if(b===b.ownerDocument.body)return e.bodyOffset(b);e.boxModel===undefined&&e.initializeBoxModel();var d=b.getBoundingClientRect(),
f=b.ownerDocument;b=f.body;f=f.documentElement;return new Z(d.left+(e.pageXOffset||e.boxModel&&f.scrollLeft||b.scrollLeft)-(f.clientLeft||b.clientLeft||0),d.top+(e.pageYOffset||e.boxModel&&f.scrollTop||b.scrollTop)-(f.clientTop||b.clientTop||0))}):(uki.dom.offset=function(b){if(!b||b==X)return new Z;if(b===b.ownerDocument.body)return e.bodyOffset(b);e.initialized||e.initialize();var d=b.offsetParent,f=b.ownerDocument,j,h=f.documentElement,k=f.body;f=f.defaultView;j=f.getComputedStyle(b,null);for(var m=
b.offsetTop,n=b.offsetLeft;(b=b.parentNode)&&b!==k&&b!==h;){j=f.getComputedStyle(b,null);m-=b.scrollTop;n-=b.scrollLeft;if(b===d){m+=b.offsetTop;n+=b.offsetLeft;if(e.doesNotAddBorder&&!(e.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(b.tagName))){m+=parseInt(j.borderTopWidth,10)||0;n+=parseInt(j.borderLeftWidth,10)||0}d=b.offsetParent}if(e.subtractsBorderForOverflowNotVisible&&j.overflow!=="visible"){m+=parseInt(j.borderTopWidth,10)||0;n+=parseInt(j.borderLeftWidth,10)||0}j=j}if(j.position===
"relative"||j.position==="static"){m+=k.offsetTop;n+=k.offsetLeft}if(j.position==="fixed"){m+=T(h.scrollTop,k.scrollTop);n+=T(h.scrollLeft,k.scrollLeft)}return new Z(n,m)});uki.extend(e,{initialize:function(){if(!this.initialized){var b=K.body,d=K.createElement("div"),f,j,h,k=b.style.marginTop;f={position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"};for(j in f)d.style[j]=f[j];d.innerHTML='<div style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;"><div></div></div><table style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>';
b.insertBefore(d,b.firstChild);f=d.firstChild;j=f.firstChild;h=f.nextSibling.firstChild.firstChild;this.doesNotAddBorder=j.offsetTop!==5;this.doesAddBorderForTableAndCells=h.offsetTop===5;f.style.overflow="hidden";f.style.position="relative";this.subtractsBorderForOverflowNotVisible=j.offsetTop===-5;b.style.marginTop="1px";this.doesNotIncludeMarginInBodyOffset=b.offsetTop===0;b.style.marginTop=k;b.removeChild(d);this.boxModel===undefined&&this.initializeBoxModel();this.initialized=true}},initializeBoxModel:function(){if(this.boxModel===
undefined){var b=K.createElement("div");b.style.width=b.style.paddingLeft="1px";K.body.appendChild(b);this.boxModel=b.offsetWidth===2;K.body.removeChild(b).style.display="none"}},bodyOffset:function(b){e.initialized||e.initialize();var d=b.offsetTop,f=b.offsetLeft;if(uki.dom.doesNotIncludeMarginInBodyOffset){d+=parseInt(uki.dom.elem.currentStyle(b).marginTop,10)||0;f+=parseInt(uki.dom.elem.currentStyle(b).marginLeft,10)||0}return new Z(f,d)}})})();uki.browser=new (function(){function e(s,v,r){var w=
s[v];s[v]=undefined;s[r]=w}function b(s){for(var v=uki.createElement("div").style,r=["","-webkit-","-moz-"],w=0;w<r.length;w++)if(v[uki.camalize(r[w]+s)]!==undefined)return r[w]+s;return"unsupported"}function d(){var s=uki.createElement("div","background-image:-moz-linear-gradient(right,red,red);background-image:linear-gradient(right,red,red);background-image:-webkit-gradient(linear,0 0,100% 0,from(red),to(red))").style.backgroundImage+"";return s.indexOf("-moz-linear-gradient")>-1?"-moz-linear-gradient":
s.indexOf("-webkit-gradient")>-1?"-webkit-gradient":s.indexOf("linear-gradient")>-1?"linear-gradient":"unsupported"}var f;this.cssBoxShadow=function(){return f=f||(X.opera?"unsupported":b("box-shadow"))};var j;this.cssBorderRadius=function(){return j=j||b("border-radius")};var h;this.cssUserSelect=function(){return h=h||b("user-select")};var k;this.cssLinearGradient=function(){return k=k||d()};var m;this.canvas=function(){if(m===undefined)m=!!uki.createElement("canvas").getContext;return m};var n;
this.cssFilter=function(){if(n===undefined)n=typeof uki.createElement("div").style.filter!="undefined";return n};this.css=function(s){if(!s)return"";if(typeof s=="string")return s.replace(/(^|[^-])(box-shadow|border-radius|user-select)/g,function(v){var r;if((r=v.indexOf("box-shadow"))>-1)return v.substr(0,r)+uki.browser.cssBoxShadow();if((r=v.indexOf("border-radius"))>-1)return v.substr(0,r)+uki.browser.cssBorderRadius();if((r=v.indexOf("user-select"))>-1)return v.substr(0,r)+uki.browser.cssUserSelect()});
uki.each(["boxShadow","borderRadius","userSelect"],function(v,r){s[r]&&e(s,r,uki.camalize(uki.browser[uki.camalize("css-"+r)]()))});return s};this.textStyles="font fontFamily fontWeight fontSize textDecoration textOverflow textAlign textShadow overflow color".split(" ")});uki.initNativeLayout=function(){uki.supportNativeLayout===undefined&&uki.dom.probe(uki.createElement("div","position:absolute;width:100px;height:100px;left:-999em;",'<div style="position:absolute;left:0;right:0"></div>'),function(e){uki.supportNativeLayout=
e.childNodes[0].offsetWidth==100&&!X.opera})};uki.after=function(){var e=function(b){b.huid=b.huid||uki.guid++;if(!e._bound[b.huid]){e._bound[b.huid]=true;e._queue.push(b);e._running||e._startTimer()}};e._bound={};e._running=false;e._timer=0;e._queue=[];e.start=function(){e._clearTimer();e._running++};e.stop=function(){--e._running||e._runCallbacks()};e._runCallbacks=function(){e._clearTimer();var b=e._queue;e._queue=[];e._bound={};for(var d=0;d<b.length;d++)b[d]()};e._startTimer=function(){if(!e._timer)e._timer=
setTimeout(e._runCallbacks,1)};e._clearTimer=function(){if(e._timer){clearTimeout(e._timer);e._timer=0}};return e}();uki.view={declare:function(){var e=uki.toArray(arguments),b=e.shift();e=uki.newClass.apply(uki,e);var d=b.split("."),f=X,j,h,k=d.length-1;e.prototype.typeName=function(){return b};for(j=0;j<k;j++){h=d[j];f[h]||(f[h]={});f=f[h]}return f[d[k]]=e}};uki.view.Observable={bind:function(e,b){b.huid=b.huid||uki.guid++;uki.each(e.split(" "),function(d,f){this._bound(f)||this._bindToDom(f);this._observersFor(f).push(b)},
this);return this},unbind:function(e,b){if(this._observers){var d;if(e)d=e.split(" ");else{d=[];uki.each(this._observers,function(f){d.push(f)})}uki.each(d,function(f,j){this._observers[j]=!b?[]:uki.grep(this._observersFor(j,true),function(h){return h!=b&&h.huid!=b.huid});if(this._observers[j].length==0){this._observers[j]=undefined;this._unbindFromDom(j)}},this);return this}},trigger:function(e){var b=Array.prototype.slice.call(arguments,1);uki.each(this._observersFor(e,true),function(d,f){f.apply(this,
b)},this);return this},_unbindFromDom:function(e){this._domHander&&this._eventTargets[e]&&uki.dom.unbind(this._eventTargets[e],e,this._domHander)},_bindToDom:function(e,b){if(!b&&!this.dom)return false;this._domHander=this._domHander||uki.proxy(function(d){d.source=this;this.trigger(d.type,d)},this);this._eventTargets=this._eventTargets||{};this._eventTargets[e]=b||this.dom();uki.dom.bind(this._eventTargets[e],e,this._domHander);return true},_bound:function(e){return this._observers&&this._observers[e]},
_observersFor:function(e,b){if(b&&(!this._observers||!this._observers[e]))return[];if(!this._observers)this._observers={};this._observers[e]||(this._observers[e]=[]);return this._observers[e]}};(function(){function e(){return K.compatMode=="CSS1Compat"&&K.documentElement||K.body}var b=uki.Attachment=uki.newClass(uki.view.Observable,{init:function(d,f,j){uki.initNativeLayout();this._dom=d=d||X;this._view=f;this._rect=L.create(j)||this.rect();uki.dom.offset.initialize();f.parent(this);this.domForChild().appendChild(f.dom());
if(d!=X&&d.tagName!="BODY"){f=d.runtimeStyle||d.ownerDocument.defaultView.getComputedStyle(d,null);if(!f.position||f.position=="static")d.style.position="relative"}b.register(this);this.layout()},domForChild:function(){return this._dom===X?K.body:this._dom},rectForChild:function(){return this.rect()},scroll:function(){},scrollTop:function(){return this._dom.scrollTop||0},scrollLeft:function(){return this._dom.scrollLeft||0},parent:uki.F,childResized:uki.F,layout:function(){var d=this._rect,f=this._rect=
this.rect();this._view.parentResized(d,f);this._view._needsLayout&&this._view.layout();this.trigger("layout",{source:this,rect:f})},dom:function(){return this._dom},view:function(){return this._view},rect:function(){var d=this._dom===X||this._dom===K.body?T(e().clientWidth,this._dom.offsetWidth||0):this._dom.offsetWidth,f=this._dom===X||this._dom===K.body?T(e().clientHeight,this._dom.offsetHeight||0):this._dom.offsetHeight;return new L(d,f)}});b.instances=[];b.register=function(d){if(b.instances.length==
0){var f=false;uki.dom.bind(X,"resize",function(){if(!f){f=true;setTimeout(function(j,h){uki.after.start();f=false;j=0;for(h=b.instances.length;j<h;j++)b.instances[j].layout();uki.after.stop()},1)}})}b.instances.push(d)};b.childViews=function(){return uki.map(b.instances,"view")};uki.top=function(){return[b]}})();uki.Collection=function(e){this.length=0;Array.prototype.push.apply(this,e)};uki.fn=uki.Collection.prototype=new (function(){var e=this;this.each=function(b){return uki.each(this,b)};this.grep=
function(b){return new uki.Collection(uki.grep(this,b))};this.attr=function(b,d){if(d!==undefined){for(var f=this.length-1;f>=0;f--)uki.attr(this[f],b,d);return this}else return this[0]?uki.attr(this[0],b):""};this.find=function(b){return uki.find(b,this)};this.attachTo=function(b,d){this.each(function(){new uki.Attachment(b,this,d)});return this};this.append=function(b){var d=this[0];if(!d)return this;b=b.length!==undefined?b:[b];for(var f=b.length-1;f>=0;f--)d.appendChild(b[f]);return this};this.appendTo=
function(b){b=uki(b)[0];this.each(function(){b.appendChild(this)});return this};uki.Collection.addAttrs=function(b){uki.each(b,function(d,f){e[f]=function(j){return this.attr(f,j)}})};uki.Collection.addAttrs("dom html text background value rect checked anchors childViews typeName id name visible disabled focusable style draggable textSelectable width height minX maxX minY maxY left top x y contentsSize".split(" "));uki.each([["parent","parent"],["next","nextView"],["prev","prevView"]],function(b,
d){e[d[0]]=function(){return new uki.Collection(uki.unique(uki.map(this,d[1])))}});uki.each("bind unbind trigger layout appendChild removeChild insertBefore addRow removeRow resizeToContents toggle".split(" "),function(b,d){e[d]=function(){for(var f=this.length-1;f>=0;f--)this[f][d].apply(this[f],arguments);return this}});uki.each(uki.dom.events,function(b,d){e[d]=function(f){if(f)this.bind(d,f);else for(f=this.length-1;f>=0;f--)this[f][d]?this[f][d]():this[f].trigger(d);return this}})});(function(){function e(f){return uki.map(f,
function(j){return b(j)})}function b(f){if(uki.isFunction(f.typeName))return f;var j=f.view||f.type,h;if(uki.isFunction(j))h=new j(f.rect);else if(typeof j==="string"){for(var k=0,m=uki.viewNamespaces,n=m.length;k<n;k++){for(var s=(m[k]+j).split("."),v=X,r=0,w=s.length;v&&r<w;r++)v=v[s[r]];if(v){h=new v(f.rect);break}}if(!v)throw"No view of type "+j+" found";}else h=j;d(h,f);return h}function d(f,j){uki.each(j,function(h,k){h=="view"||h=="type"||h=="rect"||uki.attr(f,h,k)});return f}uki.build=function(f){return new uki.Collection(e(f.length===
undefined?[f]:f))};uki.viewNamespaces=["uki.view.",""];uki.build.copyAttrs=d})();(function(){function e(r){return r.parent().childViews().slice((r._viewIndex||0)+1)}function b(r){return d(uki.map(r,function(w){return[w].concat(b(h(w,"childViews")))}))}function d(r){return uki.reduce([],r,f)}function f(r,w){return r.concat(w)}var j,h=uki.attr,k=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?/g,m=[{name:"ID",regexp:/#((?:[\w\u00c0-\uFFFF_-]|\\.)+)/},
{name:"ATTR",regexp:/\[\s*((?:[\w\u00c0-\uFFFF_-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/},{name:"TYPE",regexp:/^((?:[\w\u00c0-\uFFFF\*_\.-]|\\.)+)/},{name:"POS",regexp:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/}],n={first:function(r){return r===0},last:function(r,w,g){return r===g.length-1},even:function(r){return r%2===0},odd:function(r){return r%2===1},lt:function(r,w){return r<w[2]-0},gt:function(r,w){return r>w[2]-0},nth:function(r,w){return w[2]-0==r},eq:function(r,w){return w[2]-
0==r}},s={TYPE:function(r,w){w=w[1];if(w=="*")return true;return(r=h(r,"typeName"))&&r.length>=w.length&&("."+r).indexOf("."+w)==r.length-w.length},ATTR:function(r,w){r=h(r,w[1]);var g=r+"",t=w[2];w=w[4];return r==null?t==="!=":t==="="?g===w:t==="*="?g.indexOf(w)>=0:t==="~="?(" "+g+" ").indexOf(w)>=0:!w?g&&r!==false:t==="!="?g!=w:t==="^="?g.indexOf(w)===0:t==="$="?g.substr(g.length-w.length)===w:false},ID:function(r,w){return s.ATTR(r,["","id","=","",w[1]])},POS:function(r,w,g,t){return(r=n[w[1]])?
r(g,w,t):false}},v={"+":function(r){return uki.unique(uki.map(r,"nextView"))},">":function(r){return uki.unique(d(uki.map(r,"childViews")))},"":function(r){return uki.unique(b(d(uki.map(r,"childViews"))))},"~":function(r){return uki.unique(d(uki.map(r,e)))}};j=uki.Selector={find:function(r,w,g){w=w||uki.top();if(w.length===undefined)w=[w];var t=j.tokenize(r);r=t[0];t=t[1];for(var D=w,G;r.length>0;){G=v[r[0]]?v[r.shift()]:v[""];D=G(D);if(r.length==0)break;D=j.reduce(r.shift(),D)}if(t)D=D.concat(j.find(t,
w,true));return g?D:new uki.Collection(uki.unique(D))},reduce:function(r,w){if(!w||!w.length)return[];for(var g,t;r!="";){t=false;uki.each(m,function(D,G){if(g=r.match(G.regexp)){t=true;w=uki.grep(w,function(S,O){return s[G.name](S,g,O,w)});r=r.replace(G.regexp,"");return false}});if(!t)break}return w},tokenize:function(r){var w=[],g,t;for(k.lastIndex=0;(g=k.exec(r))!==null;){w.push(g[1]);if(g[2]){t=RegExp.rightContext;break}}return[w,t]}};uki.find=j.find})();uki.image=function(e,b,d){var f=new Image;
f.src=uki.imageSrc(e,b,d);return f};uki.imageSrc=function(e,b,d){if(uki.image.dataUrlSupported&&b)return b;if(d&&uki.image.needAlphaFix)return d;return e};uki.imageHTML=function(e,b,d,f){if(uki.image.needAlphaFix&&d)e=d;else if(uki.image.dataUrlSupported)e=b;return"<img"+(f||"")+' src="'+e+'" />'};uki.image.dataUrlSupported=K.createElement("canvas").toDataURL||/MSIE (8)/.test(la);uki.image.needAlphaFix=/MSIE 6/.test(la);if(uki.image.needAlphaFix)try{K.execCommand("BackgroundImageCache",false,true)}catch(Ea){}(function(){var e=
/^\s*null\s*$/,b=/theme\s*\(\s*(.*\s*)\)/,d=/rows\s*\(\s*(.*\s*)\)/,f=/cssBox\s*\(\s*(.*\s*)\)/,j=uki.background=function(h){if(typeof h==="string"){var k;if(h.match(e))return new j.Null;if(k=h.match(b))return uki.theme.background(k[1]);if(k=h.match(d))return new j.Rows(k[1].split(",")[0],k[1].split(/\s*,\s*/).slice(1));if(k=h.match(f))return new j.CssBox(k[1]);return new j.Css(h)}return h}})();uki.background.Base=uki.background.Null=uki.newClass({init:uki.F,attachTo:uki.F,detach:uki.F});uki.background.Sliced9=
uki.newClass(new (function(){function e(h,k,m,n,s){n=m[3]?d(m,n):"";m[3]||(k+=b(m,s));return'<div class="'+h+'" style="position:absolute;overflow:hidden;'+k+'">'+n+"</div>"}function b(h,k){return";background: url("+uki.imageSrc(h[0],h[1],h[2])+") "+k}function d(h,k){return uki.imageHTML(h[0],h[1],h[2],' ondragstart="return false;" galleryimg="no" style="-webkit-user-drag:none;-webkit-user-select:none;-moz-user-select:none;position:absolute;'+k+'"')}var f=uki.dom,j={};this.init=function(h,k,m){this._settings=
uki.extend({},h);this._inset=Y.create(k);this._size=null;this._inited=false;m=m||{};this._fixedSize=U.create(m.fixedSize)||new U;this._bgInset=Y.create(m.inset)||new Y;this._zIndex=m.zIndex||-1;this._container=this._getContainer();this._container.style.zIndex=this._zIndex};this._getContainer=function(){var h=this._getKey();if(!j[h])return j[h]=this._createContainer();return j[h].cloneNode(true)};this._createContainer=function(){var h=this._inset,k=this._bgInset,m=this._settings,n=h.left+h.right,s=
h.top+h.bottom;k=["left:"+k.left+"px","right:"+k.right+"px","top:"+k.top+"px","bottom:"+k.bottom+"px"].join(";");var v=[];if(h.top&&h.left)v[v.length]=e("tl",["left:0;top:0","width:"+h.left+"px","height:"+h.top+"px"].join(";"),m.c,["left:0;top:0","width:"+n+"px","height:"+s+"px"].join(";"),"top left");if(h.top)v[v.length]=e("t",["left:"+h.left+"px","top:0","height:"+h.top+"px","right:"+h.right+"px"].join(";"),m.h,["left:0;top:0;width:100%","height:"+s+"px"].join(";"),"repeat-x top");if(h.top&&h.right)v[v.length]=
e("tr",["right:0;top:0","width:"+h.right+"px","height:"+h.top+"px"].join(";"),m.c,["left:-"+h.left+"px","top:0","width:"+n+"px","height:"+s+"px"].join(";"),"top right");if(h.left)v[v.length]=e("l",["left:0","top:"+h.top+"px","width:"+h.left+"px","bottom:"+h.bottom+"px"].join(";"),m.v,["left:0;top:0;height:100%","width:"+n+"px"].join(";"),"repeat-y left");if(m.m)v[v.length]=e("m",["left:"+h.left+"px","top:"+h.top+"px","right:"+h.right+"px","bottom:"+h.bottom+"px"].join(";"),m.m,"left:0;top:0;height:100%;width:100%",
"");if(h.right)v[v.length]=e("r",["right:0","top:"+h.top+"px","width:"+h.right+"px","bottom:"+h.bottom+"px"].join(";"),m.v,["left:-"+h.left+"px","top:0;height:100%","width:"+n+"px"].join(";"),"repeat-y right");if(h.bottom&&h.left)v[v.length]=e("bl",["left:0;bottom:0","width:"+h.left+"px","height:"+h.bottom+"px"].join(";"),m.c,["left:0","top:-"+h.top+"px","width:"+n+"px","height:"+s+"px"].join(";"),"left -"+h.top+"px");if(h.bottom)v[v.length]=e("b",["left:"+h.left+"px","bottom:0","height:"+h.bottom+
"px","right:"+h.right+"px"].join(";"),m.h,["left:0","top:-"+h.top+"px","width:100%","height:"+s+"px"].join(";"),"repeat-x 0 -"+h.top+"px");if(h.bottom&&h.right)v[v.length]=e("br",["right:0;bottom:0","width:"+h.right+"px","height:"+h.bottom+"px"].join(";"),m.c,["left:-"+h.left+"px","top:-"+h.top+"px","width:"+n+"px","height:"+s+"px"].join(";"),"right -"+h.top+"px");h=uki.createElement("div","position:absolute;overflow:hidden;"+k,v.join(""));h.className="uki-background-Sliced9";return h};this._getKey=
function(){return uki.map(["v","h","m","c"],function(h){return this._settings[h]&&this._settings[h][0]||""},this).concat([this._inset,this._bgInset,this._fixedSize]).join(",")};this.attachTo=function(h){this._comp=h;this._container.style.visibility="visible";this._comp.dom().insertBefore(this._container,this._comp.dom().firstChild);if(!uki.supportNativeLayout){this._layoutHandler=this._layoutHandler||uki.proxy(function(k){if(!(this._size&&this._size.eq(k.rect))){this._size=k.rect;this.layout()}},
this);this._comp.bind("layout",this._layoutHandler);this.layout()}};this.detach=function(){if(this._comp){this._container.style.visibility="hidden";uki.supportNativeLayout||this._comp.unbind("layout",this._layoutHandler);this._size=this._comp=null;this._attached=this._inited=false}};this.layout=function(){var h=this._comp.rect(),k=this._parts,m=this._inset,n=this._bgInset,s=this._fixedSize,v=za(s.width||h.width-n.left-n.right);h=za(s.height||h.height-n.top-n.bottom);n=m.left+m.right;m=m.top+m.bottom;
if(!k){k={};uki.each(this._container.childNodes,function(){if(this.className)k[this.className]=this});this._parts=k}k.t&&f.layout(k.t.style,{width:v-n});k.b&&f.layout(k.b.style,{width:v-n});k.l&&f.layout(k.l.style,{height:h-m});k.r&&f.layout(k.r.style,{height:h-m});k.m&&f.layout(k.m.style,{height:h-m,width:v-n});f.layout(this._container.style,{width:v,height:h})}}));uki.background.Css=uki.newClass(new (function(){this.init=function(e){this._options=typeof e=="string"?{background:e}:e;this._options=
uki.browser.css(this._options)};this.attachTo=function(e){this._comp=e;this._originalValues={};uki.each(this._options,function(b,d){this._originalValues[b]=e.style(b);e.style(b,d)},this)};this.detach=function(){this._comp&&uki.each(this._options,function(e){this._comp.style(e,this._originalValues[e])},this)}}));uki.background.CssBox=uki.newClass(new (function(){function e(d){b[d]||uki.dom.probe(uki.createElement("div",d+";position:absolute;overflow:hidden;left:-999em;width:10px;height:10px;"),function(f){b[d]=
new Y(f.offsetHeight-10,f.offsetWidth-10)});return b[d]}var b={};this.init=function(d,f){this._options=d;f=f||{};this._inset=inset=Y.create(f.inset)||new Y;this._insetWidth=e(d).left+inset.left+inset.right;this._insetHeight=e(d).top+inset.top+inset.bottom;this._container=uki.createElement("div","position:absolute;overflow:hidden;z-index:"+(f.zIndex||"-1")+";left:"+inset.left+"px;top:"+inset.top+"px;right:"+inset.right+"px;bottom:"+inset.bottom+"px;"+uki.browser.css(d),f.innerHTML);this._container.className=
"uki-background-CssBox";this._attached=false};this.attachTo=function(d){this._comp=d;this._comp.dom().insertBefore(this._container,this._comp.dom().firstChild);if(!uki.supportNativeLayout){this._layoutHandler=this._layoutHandler||uki.proxy(function(f){this.layout(f.rect)},this);this._comp.bind("layout",this._layoutHandler);this.layout(this._comp.rect())}};this.layout=function(d){this._prevLayout=uki.dom.layout(this._container.style,{width:d.width-this._insetWidth,height:d.height-this._insetHeight},
this._prevLayout)};this.detach=function(){if(this._comp){this._comp.dom().removeChild(this._container);uki.supportNativeLayout||this._comp.unbind("layout",this._layoutHandler);this._attached=false}}}));uki.background.LinearGradient=uki.newClass(uki.background.CssBox,new (function(){function e(j,h,k,m){var n=j+h+(k?1:0)+uki.map(m,function(r){return r.pos+"-"+r.color});if(!f[n]){var s=document.createElement("canvas");s.width=s.height=d;var v=s.getContext("2d");k=v.createLinearGradient(0,0,k?d:0,k?0:
d);k.addColorStop(0,j);k.addColorStop(1,h);for(j=0;j<m.length;j++)k.addColorStop(m[j].pos,m[j].color);v.fillStyle=k;v.fillRect(0,0,d,d);f[n]=s.toDataURL&&s.toDataURL()}return f[n]}function b(j,h,k){return"filter:progid:DXImageTransform.Microsoft.gradient(gradientType="+(j?"1":"0")+", startColorstr=#FF"+h.substr(1)+", endColorstr=#FF"+k.substr(1)+");"}var d=200;this.init=function(j){this._options=j;var h=this._inset=uki.geometry.Inset.create(this._options.inset)||new uki.geometry.Inset;this._container=
this._createContainer();j=this._container.cloneNode(true);j.style.cssText+=";width:100px;height:100px;";uki.dom.probe(j,uki.proxy(function(k){this._insetWidth=k.offsetWidth-100+h.width();this._insetHeight=k.offsetHeight-100+h.height()},this));this._container.style.cssText+=";left:"+h.left+"px;top:"+h.top+"px;right:"+h.right+"px;bottom:"+h.bottom+"px;";this._attached=false};var f={};this._createContainer=function(){var j=this._options.startColor||"#FFFFFF",h=this._options.endColor||"#CCCCCC",k=this._options.horizontal,
m=this._options.stops||[],n="",s=0,v=uki.browser.cssLinearGradient(),r;if(v=="-moz-linear-gradient"||v=="linear-gradient"){for(n+="background-image:"+v+"("+(k?"left":"top")+", "+j;s<m.length;s++)n+=","+m[s].color+" "+m[s].pos*100+"%";n+=", "+h+");"}else if(v=="-webkit-gradient"){for(n+="background-image:"+v+"(linear, 0% 0%, "+(k?"100% 0%":"0% 100%")+", from("+j+"), to("+h+")";s<m.length;s++)n+=",color-stop("+m[s].pos*100+"%,"+m[s].color+")";n+=");"}else if(!uki.browser.canvas()&&uki.browser.cssFilter()&&
m.length==0)n+=b(k,j,h);v=uki.createElement("div",uki.browser.css(this._options.css)+";position:absolute;overflow:hidden;z-index:"+(this._options.zIndex||"-1")+";"+n,this._options.innerHTML);v.className="uki-background-CssBox";if(n)return v;if(uki.browser.canvas()&&(r=e(j,h,k,m))){k=uki.createElement("img","position:absolute;left:0;top:0;width:100%;height:100%;z-index:0;");k.src=r;v.appendChild(k)}else if(uki.browser.cssFilter()&&m.length>0){m.unshift({pos:0,color:j});for(m.push({pos:1,color:h});s<
m.length-1;s++){r=uki.createElement("div","position:absolute;z-index:-1;left:"+(k?m[s].pos*100-(s&&1)+"%":"0")+";top:"+(k?"0":m[s].pos*100-(s&&1)+"%")+";width:"+(k?(m[s+1].pos-m[s].pos)*100+1+"%":"100%")+";height:"+(k?"100%":(m[s+1].pos-m[s].pos)*100+1+"%")+";"+b(k,m[s].color,m[s+1].color));v.appendChild(r)}}return v}}));uki.background.Rows=uki.newClass(new (function(){function e(f,j){var h=f+" "+j.join(" "),k=[],m=[],n,s=j.length;if(!b[h]){for(n=0;n<s;n++)k[n]=['<div style="height:',f,"px;width:100%;overflow:hidden;",
j[n]?"background:"+j[n]:"",'"></div>'].join("");for(n=0;n<d;n++)m[n]=k[n%s];b[h]=m.join("")}return b[h]}var b=[],d=100;this.init=function(f,j){this._height=f||20;this._colors=uki.isArray(j)?j:j.split(" ");this._packSize=ta(d/this._colors.length)*this._colors.length;this._renderedHeight=0;this._visibleExt=200;if(this._colors.length==1)this._colors=this._colors.concat(["#FFF"])};this.attachTo=function(f){this._comp&&this.detach();this._comp=f;if(!this._container){this._container=uki.createElement("div",
"position:absolute;left:0;top:0;width:100%;z-index:-1");this._container.className="uki-background-Rows"}this._layoutHandler=this._layoutHandler||uki.proxy(function(j){this.layout(j.rect,j.visibleRect)},this);this._comp.dom().appendChild(this._container);this._comp.bind("layout",this._layoutHandler)};this.layout=function(f,j){for(f=j?j.height+this._visibleExt*2:f.maxY();this._renderedHeight<f;){var h=d*this._height,k=uki.createElement("div","height:"+h+"px;overflow:hidden;width:100%;",e(this._height,
this._colors));this._renderedHeight+=h;this._container.appendChild(k)}if(j)this._container.style.top=ta((j.y-this._visibleExt)/this._height/this._colors.length)*this._height*this._colors.length+"px"};this.detach=function(){if(this._comp){this._comp.dom().removeChild(this._container);this._comp.unbind("layout",this._layoutHandler);this._comp=null}}}));uki.background.Multi=uki.newClass({init:function(){this._bgs=Array.prototype.slice.call(arguments,0)},attachTo:function(e){for(var b=0,d=this._bgs.length;b<
d;b++)this._bgs[b].attachTo(e)},detach:function(){for(var e=0,b=this._bgs.length;e<b;e++)this._bgs[e].detach()}});(function(){var e=uki.theme={themes:[],register:function(b,d){(d=e.themes)[d.length]=b},background:function(b,d){return e._namedResource(b,"background",d)||new uki.background.Null},image:function(b,d){return e._namedResource(b,"image",d)||new Image},imageSrc:function(b,d){return e._namedResource(b,"imageSrc",d)||""},style:function(b,d){return e._namedResource(b,"style",d)||""},dom:function(b,
d){return e._namedResource(b,"dom",d)||uki.createElement("div")},template:function(b,d){return e._namedResource(b,"template",d)||""},_namedResource:function(b,d,f,j,h){for(j=e.themes.length-1;j>=0;j--)if(h=e.themes[j][d](b,f))return h;return null}}})();uki.theme.Base={images:[],imageSrcs:[],backgrounds:[],doms:[],styles:[],templates:[],background:function(e,b){return this.backgrounds[e]&&this.backgrounds[e](b)},image:function(e,b){if(this.images[e])return this.images[e](b);return this.imageSrcs[e]&&
uki.image.apply(uki,this.imageSrcs[e](b))},imageSrc:function(e,b){if(this.imageSrcs[e])return uki.imageSrc.apply(uki,this.imageSrcs[e](b));return this.images[e]&&this.images[e](b).src},dom:function(e,b){return this.doms[e]&&this.doms[e](b)},style:function(e,b){return this.styles[e]&&this.styles[e](b)},template:function(e,b){return this.templates[e]&&this.templates[e](b)}};uki.theme.Template=function(e){e=e.split("${");var b,d,f;this.parts=[e[0]];this.names=[];b=1;for(d=e.length;b<d;b++){f=e[b].split("}");
this.names.push(f.shift());this.parts.push("");this.parts.push(f.join("}"))}};uki.theme.Template.prototype.render=function(e){for(var b=0,d=this.names,f=d.length;b<f;b++)this.parts[b*2+1]=e[d[b]]||"";return this.parts.join("")};uki.view.utils=new (function(){function e(b){return b.visibleRect?b.visibleRect():b.rect().clone()}this.visibleRect=function(b,d){var f=[],j,h=b;do{f[f.length]=h;h=h.parent()}while(h&&h!=d);if(d&&d!=b)f[f.length]=d;for(b=f.length-1;b>=0;b--){h=f[b];d=e(h);j=j?j.intersection(d):
d;j.x-=h.rect().x;j.y-=h.rect().y}return j};this.top=function(b){for(;b.parent();)b=b.parent();return b};this.offset=function(b,d){for(var f=new Z,j;b&&b!=d;){j=b.rect();f.x+=j.x;f.y+=j.y;if(b.scrollTop){f.x-=b.scrollLeft();f.y-=b.scrollTop()}b=b.parent()}return f};this.scrollableParent=function(b){do{if(uki.isFunction(b.scrollTop))return b;b=b.parent()}while(b);return null}});uki.extend(uki.view,uki.view.utils);uki.view.Styleable=new (function(){this.style=function(e,b){if(typeof e=="string")return this._style(e,
b);uki.each(e,function(d,f){this._style(d,f)},this);return this};this._style=function(e,b){if(b===undefined)return this._dom.style[e];this._dom.style[e]=b;return this};this.textSelectable=uki.newProp("_textSelectable",function(e){this._textSelectable=e;if(uki.browser.cssUserSelect()!="unsupported")this._dom.style[uki.camalize(uki.browser.cssUserSelect())]=e?"":uki.browser.cssUserSelect()=="-moz-user-select"?"-moz-none":"none";else uki.dom[e?"unbind":"bind"](this.dom(),"selectstart",uki.dom.preventDefaultHandler);
this._dom.style.cursor=e?"":"default"});this.draggable=function(e){if(e===undefined)return this._dom.getAttribute("draggable");this._dom.setAttribute("draggable",true);this._dom.style.WebkitUserDrag="element";return this}});uki.view.Focusable=new (function(){this._focusOnClick=this._focusable=true;this.focusOnClick=uki.newProp("_focusOnClick");this.focusable=uki.newProp("_focusable",function(e){(this._focusable=e)&&this._initFocusable();this._updateFocusable()});this.disabled=uki.newProp("_disabled",
function(e){var b=e!==!!this._disabled;(this._disabled=e)&&this.blur();this._updateFocusable();b&&this._updateBg&&this._updateBg()});this._updateFocusable=function(){if(!(this._preCreatedFocusTarget||!this._focusTarget))this._focusTarget.style.display=this._focusable&&!this._disabled?"block":"none"};this._initFocusable=function(e){if(!(!e&&!this._focusable||this._focusTarget)){this._preCreatedFocusTarget=this._focusTarget=e;if(!e){this._focusTarget=uki.createElement("input","position:absolute;left:-9999px;top:0;width:1px;height:1px;");
this._focusTarget.className="uki-view-Focusable";this.dom().appendChild(this._focusTarget)}this._hasFocus=false;this._firstFocus=true;uki.dom.bind(this._focusTarget,"focus",uki.proxy(function(b){this._stopWatingForBlur();this._hasFocus||this._focus(b)},this));uki.dom.bind(this._focusTarget,"blur",uki.proxy(function(){if(this._hasFocus){this._hasFocus=false;this._waitingForBlur=setTimeout(uki.proxy(function(){this._waitingForBlur=false;this._hasFocus||this._blur()},this),1)}},this));e||this.bind("mousedown",
function(){this._focusOnClick&&this.focus()});this._updateFocusable()}};this._focus=function(){this._hasFocus=true;this._firstFocus=false};this._blur=function(){this._hasFocus=false};this._stopWatingForBlur=function(){if(this._waitingForBlur){clearTimeout(this._waitingForBlur);this._waitingForBlur=false;this._hasFocus=true}};this.focus=function(){if(this._focusable&&!this._disabled){this._stopWatingForBlur();this._hasFocus||this._focus();var e=this._focusTarget;setTimeout(function(){try{e.focus()}catch(b){}e=
null},1)}return this};this.blur=function(){try{this._focusTarget.blur()}catch(e){}return this};this.hasFocus=function(){return this._hasFocus};this._bindToDom=function(e){if(!this._focusTarget||"keyup keydown keypress focus blur".indexOf(e)==-1)return false;return uki.view.Observable._bindToDom.call(this,e,this._focusTarget)}});var na=16,oa=32;uki.view.declare("uki.view.Base",uki.view.Observable,uki.view.Styleable,function(){function e(d){if(!d)return 0;var f=0;if(d.indexOf("width")>-1)f|=na;if(d.indexOf("height")>
-1)f|=oa;return f}var b=1;this.defaultCss="position:absolute;z-index:100;-moz-user-focus:none;";this.init=function(d){this._parentRect=this._rect=L.create(d);this._setup();uki.initNativeLayout();this._createDom()};this._setup=function(){uki.extend(this,{_anchors:0,_parent:null,_visible:true,_needsLayout:true,_textSelectable:false,_styleH:"left",_styleV:"top",_firstLayout:true});this.defaultCss+=uki.theme.style("base")};this.dom=function(){return this._dom};this.id=function(d){if(d===undefined)return this._dom.id;
this._dom.id&&uki.unregisterId(this);this._dom.id=d;uki.registerId(this);return this};uki.delegateProp(this,"className","_dom");this.visible=function(d){if(d===undefined)return this._dom.style.display!="none";this._dom.style.display=d?"block":"none";return this};this.background=function(d){if(d===undefined&&!this._background&&this.defaultBackground)this._background=this.defaultBackground();if(d===undefined)return this._background;d=uki.background(d);if(d==this._background)return this;this._background&&
this._background.detach(this);d.attachTo(this);this._background=d;return this};this.defaultBackground=function(){return this._defaultBackground&&uki.background(this._defaultBackground)};this.parent=function(d){if(d===undefined)return this._parent;this._parent=d;return this};this.childViews=function(){return[]};this.prevView=function(){if(!this.parent())return null;return this.parent().childViews()[this._viewIndex-1]||null};this.nextView=function(){if(!this.parent())return null;return this.parent().childViews()[this._viewIndex+
1]||null};this.rect=function(d){if(d===undefined)return this._rect;this._parentRect=d=L.create(d);this._rect=this._normalizeRect(d);this._needsLayout=this._needsLayout||b++;return this};this.anchors=uki.newProp("_anchors",function(d){if(d.indexOf){var f=0;if(d.indexOf("right")>-1)f|=2;if(d.indexOf("bottom")>-1)f|=4;if(d.indexOf("top")>-1)f|=1;if(d.indexOf("left")>-1)f|=8;if(d.indexOf("width")>-1||f&8&&f&2)f|=na;if(d.indexOf("height")>-1||f&4&&f&1)f|=oa;d=f}this._anchors=d;this._styleH=d&8?"left":
"right";this._styleV=d&1?"top":"bottom"});this.rectForChild=function(){return this.rect()};this.layout=function(){this._layoutDom(this._rect);this._needsLayout=false;this.trigger("layout",{rect:this._rect,source:this});this._firstLayout=false};this.layoutIfNeeded=function(){this._needsLayout&&this.visible()&&this.layout()};uki.each(["min","max"],function(d,f){d=f+"Size";var j="_"+d;this[d]=function(h){if(h===undefined)return this[j]||new U;this[j]=U.create(h);this.rect(this._parentRect);this._dom.style[f+
"Width"]=this[j].width?this[j].width+"px":"";this._dom.style[f+"Height"]=this[j].height?this[j].height+"px":"";return this}},this);this.parentResized=function(d,f){var j=this._parentRect.clone(),h=(f.width-d.width)/((this._anchors&8^8?1:0)+(this._anchors&na?1:0)+(this._anchors&2^2?1:0));d=(f.height-d.height)/((this._anchors&1^1?1:0)+(this._anchors&oa?1:0)+(this._anchors&4^4?1:0));if(this._anchors&8^8)j.x+=h;if(this._anchors&na)j.width+=h;if(this._anchors&1^1)j.y+=d;if(this._anchors&oa)j.height+=d;
this.rect(j)};this.childResized=function(){};this.resizeToContents=function(d){d=e(d);if(0==d)return this;this.rect();this._rect=this._parentRect=this._calcRectOnContentResize(d);this._needsLayout=true;return this};this.contentsSize=function(){return this.rect()};this._normalizeRect=function(d){if(this._minSize)d=new L(d.x,d.y,T(this._minSize.width,d.width),T(this._minSize.height,d.height));if(this._maxSize)d=new L(d.x,d.y,ea(this._maxSize.width,d.width),ea(this._maxSize.height,d.height));return d};
this._initBackgrounds=function(){this.background()&&this.background().attachTo(this)};this._calcRectOnContentResize=function(d){var f=this.contentsSize(d),j=this.rect();if(f.eq(j))return j;var h=this.rect().clone(),k=f.width-j.width;f=f.height-j.height;if(d&na){if(this._anchors&8^8&&this._anchors&2^2)h.x-=k/2;else if(this._anchors&8^8)h.x-=k;h.width+=k}if(d&oa){if(this._anchors&1^1&&this._anchors&4^4)h.y-=f/2;else if(this._anchors&1^1)h.y-=f;h.height+=f}return h};uki.each(["width","height","minX",
"maxX","minY","maxY","x","y","left","top"],function(d,f){this[f]=function(j){if(j===undefined)return uki.attr(this.rect(),f);uki.attr(this.rect(),f,j);return this}},this);this._createDom=function(){this._dom=uki.createElement("div",this.defaultCss);this._initClassName()};this._initClassName=function(){this._dom.className=this.typeName().replace(/\./g,"-")};this._layoutDom=function(d){var f={},j=uki.supportNativeLayout,h=this.parent().rectForChild(this);if(j&&this._anchors&8&&this._anchors&2){f.left=
d.x;f.right=h.width-d.x-d.width}else{f.width=d.width;f[this._styleH]=this._styleH=="left"?d.x:h.width-d.x-d.width}if(j&&this._anchors&1&&this._anchors&4){f.top=d.y;f.bottom=h.height-d.y-d.height}else{f.height=d.height;f[this._styleV]=this._styleV=="top"?d.y:h.height-d.y-d.height}this._lastLayout=uki.dom.layout(this._dom.style,f,this._lastLayout);this._firstLayout&&this._initBackgrounds();return true};this._bindToDom=function(d){if("resize layout".indexOf(d)>-1)return true;return uki.view.Observable._bindToDom.call(this,
d)}});uki.view.declare("uki.view.Container",uki.view.Base,function(e){function b(d,f){var j=0,h;for(h=d._childViews.length-1;h>=0;h--)if(d._childViews[h].visible())j=T(j,d._childViews[h].rect()[f]());return j}this._inset=new Y;this._setup=function(){this._childViews=[];e._setup.call(this)};this.contentsWidth=function(){return b(this,"maxX")+this.inset().right};this.contentsHeight=function(){return b(this,"maxY")+this.inset().bottom};this.contentsSize=function(){return new U(this.contentsWidth(),this.contentsHeight())};
this.childViews=function(d){if(d===undefined)return this._childViews;uki.each(this._childViews,function(f,j){this.removeChild(j)},this);uki.each(uki.build(d),function(f,j){this.appendChild(j)},this);return this};this.removeChild=function(d){d.parent(null);this.domForChild(d).removeChild(d.dom());var f,j;f=d._viewIndex+1;for(j=this._childViews.length;f<j;f++)this._childViews[f]._viewIndex--;this._childViews=uki.grep(this._childViews,function(h){return h!=d});this._contentChanged()};this.appendChild=
function(d){d._viewIndex=this._childViews.length;this._childViews.push(d);d.parent(this);this.domForChild(d).appendChild(d.dom());this._contentChanged()};this.insertBefore=function(d,f){var j,h;j=d._viewIndex=f._viewIndex;for(h=this._childViews.length;j<h;j++)this._childViews[j]._viewIndex++;this._childViews.splice(f._viewIndex-1,0,d);d.parent(this);this.domForChild(d).insertBefore(d.dom(),f.dom());this._contentChanged()};this.domForChild=function(){return this._dom};this.inset=uki.newProp("_inset",
function(d){this._inset=Y.create(d)});this._contentChanged=function(){};this._layoutDom=function(d){e._layoutDom.call(this,d);this._layoutChildViews(d)};this._layoutChildViews=function(){for(var d=0,f=this.childViews();d<f.length;d++)f[d].layoutIfNeeded()};this.rect=function(d){if(d===undefined)return this._rect;this._parentRect=d=L.create(d);var f=this._rect;if(!this._resizeSelf(d))return this;this._needsLayout=true;if(f.width!=d.width||f.height!=d.height)this._resizeChildViews(f);this.trigger("resize",
{oldRect:f,newRect:this._rect,source:this});return this};this._resizeSelf=function(d){this._rect=this._normalizeRect(d);return true};this._resizeChildViews=function(d){for(var f=0,j=this.childViews();f<j.length;f++)j[f].parentResized(d,this._rect)}});uki.view.declare("uki.view.Box",uki.view.Container,{});uki.view.declare("uki.view.Image",uki.view.Base,function(){this.typeName=function(){return"uki.view.Image"};uki.delegateProp(this,"src","_dom");this._createDom=function(){this._dom=uki.createElement("img",
this.defaultCss);this._initClassName()}});uki.view.declare("uki.view.Label",uki.view.Base,function(e){this._setup=function(){e._setup.call(this);uki.extend(this,{_scrollable:false,_textSelectable:false,_inset:new Y});this.defaultCss+=uki.theme.style("label")};this._style=function(b,d){if(d!==undefined&&uki.inArray(b,uki.browser.textStyles)!=-1)this._label.style[b]=d;return e._style.call(this,b,d)};this.adaptToContents=uki.newProp("_adaptToContents");this.textSelectable=function(b){if(b!==undefined&&
!this._textSelectProp)this._label.unselectable=b?"":"on";return e.textSelectable.call(this,b)};this.contentsSize=function(b){var d=this._createLabelClone(b),f=this.inset(),j;uki.dom.probe(d,function(){j=new U(d.offsetWidth+f.width(),d.offsetHeight+f.height())});return j};this.text=function(b){return b===undefined?this.html():this.html(uki.escapeHTML(b))};this.html=function(b){if(b===undefined)return this._label.innerHTML;this._label.innerHTML=b;return this};this.inset=uki.newProp("_inset",function(b){this._inset=
Y.create(b)});this.scrollable=uki.newProp("_scrollable",function(b){this._scrollable=b;this._label.style.overflow=b?"auto":"hidden"});this.multiline=uki.newProp("_multiline",function(b){this._multiline=b;this._label.style.whiteSpace=b?"":"nowrap"});this._createLabelClone=function(b){var d=this._label.cloneNode(true),f=this.inset(),j=this.rect();if(b&na)d.style.width=d.style.right="";else if(uki.supportNativeLayout){d.style.right="";d.style.width=j.width-f.width()+"px"}if(b&oa)d.style.height=d.style.bottom=
"";else if(uki.supportNativeLayout){d.style.bottom="";d.style.height=j.height-f.height()+"px"}d.style.paddingTop=0;d.style.visibility="hidden";return d};this._createDom=function(){e._createDom.call(this);this._label=uki.createElement("div",this.defaultCss+"white-space:nowrap;");this._dom.appendChild(this._label);this.textSelectable(this.textSelectable())};this._layoutDom=function(){var b=this._inset,d,f=this._anchors,j="";d=uki.supportNativeLayout?{left:b.left,top:b.top,right:b.right,bottom:b.bottom}:
{left:b.left,top:b.top,width:this._rect.width-b.width(),height:this._rect.height-b.height()};if(f&4)if(f&1)if(f&2){if(!(f&8)){d.left=d.width=undefined;j="offsetWidth"}}else{d.right=d.width=undefined;j="offsetWidth"}else{d.height=d.bottom=undefined;j="offsetHeight"}else{d.height=d.bottom=undefined;j="offsetHeight"}e._layoutDom.apply(this,arguments);if(!this.multiline()){parseInt(this.style("fontSize"),10);this._label.style.lineHeight=this._rect.height-b.top-b.bottom+"px"}this._lastLabelLayout=uki.dom.layout(this._label.style,
d,this._lastLabelLayout);if(this.adaptToContents()&&j){b=this._label[j];if(b!=this._lastWatchValue&&this.parent()){this.resizeToContents(j=="offsetWidth"?"width":"height");this.parent().childResized(this)}this._lastWatchValue=b}}});uki.view.declare("uki.view.Button",uki.view.Label,uki.view.Focusable,function(e,b){this._backgroundPrefix="button-";this._setup=function(){e._setup.call(this);uki.extend(this,{_inset:new Y(0,4)});this.defaultCss+="cursor:default;-moz-user-select:none;-webkit-user-select:none;"+
uki.theme.style("button")};uki.addProps(this,["backgroundPrefix"]);uki.each(["normal","hover","down","focus","disabled"],function(d,f){var j=f+"-background";this[j]=function(h){if(h)this["_"+j]=h;return this["_"+j]=this["_"+j]||uki.theme.background(this._backgroundPrefix+f,{height:this.rect().height,view:this})}},this);this._createLabelClone=function(d){return e._createLabelClone.call(this,d)};this._layoutDom=function(d){e._layoutDom.call(this,d);if(this._firstLayout){this["hover-background"]();this["down-background"]();
this._backgroundByName(this._backgroundName||"normal")}};this._updateBg=function(){this._backgroundByName(this._disabled?"disabled":this._down?"down":this._over?"hover":"normal")};this._createDom=function(){this._dom=uki.createElement("div",this.defaultCss);this._initClassName();this._label=uki.createElement("div",this.defaultCss);this._dom.appendChild(this._label);this._dom.appendChild(uki.createElement("div","left:0;top:0;width:100%;height:100%;position:absolute;background:url("+uki.theme.imageSrc("x")+
");"));this.textSelectable(this.textSelectable());this._initFocusable();uki.dom.bind(document,"mouseup",uki.proxy(this._mouseup,this));this.bind("mousedown",this._mousedown);this.bind("mouseenter",this._mouseenter);this.bind("mouseleave",this._mouseleave);this.bind("keyup",this._keyup);this.bind("keydown",this._keydown)};this._mouseup=function(){if(this._down){this._down=false;this._updateBg()}};this._mousedown=function(){this._down=true;this._updateBg()};this._mouseenter=function(){this._over=true;
this._updateBg()};this._mouseleave=function(){this._over=false;this._updateBg()};this._focus=function(d){this["focus-background"]().attachTo(this);b._focus.call(this,d)};this._keydown=function(d){if((d.which==32||d.which==13)&&!this._down)this._mousedown()};this._keyup=function(d){if((d.which==32||d.which==13)&&this._down){this._mouseup();this.trigger("click",{domEvent:d,source:this})}d.which==27&&this._down&&this._mouseup()};this._blur=function(d){this["focus-background"]().detach();b._blur.call(this,
d)};this._backgroundByName=function(d){var f=this[d+"-background"]();if(this._background!=f){this._background&&this._background.detach();f.attachTo(this);this._background=f;this._backgroundName=d}};this._bindToDom=function(d){return uki.view.Focusable._bindToDom.call(this,d)||uki.view.Label.prototype._bindToDom.call(this,d)}});uki.view.declare("uki.view.Checkbox",uki.view.Button,function(e){this._backgroundPrefix="checkbox-";uki.each(["checked-normal","checked-hover","checked-disabled"],function(b,
d){var f=d+"-background";this[f]=function(j){if(j)this["_"+f]=j;return this["_"+f]=this["_"+f]||uki.theme.background(this._backgroundPrefix+d,{height:this.rect().height,view:this})}},this);this._setup=function(){e._setup.call(this);this._focusable=false};this._updateBg=function(){var b=this._disabled?"disabled":this._over?"hover":"normal";if(this._checked)b="checked-"+b;this._backgroundByName(b)};this.value=this.checked=uki.newProp("_checked",function(b){this._checked=!!b;this._updateBg()});this._mouseup=
function(){if(this._down){this._down=false;if(!this._disabled){this.checked(!this.checked());this.trigger("change",{checked:this._checked,source:this})}}}});(function(){var e=uki.view.declare("uki.view.Radio",uki.view.Checkbox,function(){this._backgroundPrefix="radio-";this.group=uki.newProp("_group",function(b){e.unregisterGroup(this);this._group=b;e.registerGroup(this);this.checked()&&e.clearGroup(this)});this.value=this.checked=uki.newProp("_checked",function(b){this._checked=!!b;b&&e.clearGroup(this);
this._updateBg()});this._mouseup=function(){if(this._down){this._down=false;if(!this._checked&&!this._disabled){this.checked(!this._checked);this.trigger("change",{checked:this._checked,source:this})}}}});e.groups={};e.registerGroup=function(b){var d=b.group();if(e.groups[d])e.groups[d].push(b);else e.groups[d]=[b]};e.unregisterGroup=function(b){var d=b.group();if(e.groups[d])e.groups[d]=uki.grep(e.groups[d],function(f){return f!=b})};e.clearGroup=function(b){uki.each(e.groups[b.group()]||[],function(d,
f){if(f!=b)if(f.checked()){f.checked(false);this.trigger("change",{checked:false,source:f})}})}})();uki.view.declare("uki.view.TextField",uki.view.Base,uki.view.Focusable,function(e,b){function d(h){if(!j[h]){var k=uki.createElement("input",e.defaultCss+"border:none;padding:0;border:0;margin:0;overflow:hidden;left:-999em;top:0;line-height:1;"+h);uki.dom.probe(k,function(m){j[h]=m.offsetHeight})}return j[h]}function f(h){return typeof h.placeholder=="string"}var j={};this._backgroundPrefix="";this._tagName=
"input";this._type="text";this._attributes=this._maxlength="";this._setup=function(){e._setup.apply(this,arguments);uki.extend(this,{_value:"",_multiline:false,_placeholder:""});this.defaultCss+="margin:0;border:none;outline:none;padding:0;left:2px;top:0;z-index:100;-moz-resize:none;resize:none;background: url("+uki.theme.imageSrc("x")+");"+uki.theme.style("input")};this._updateBg=function(){this._input.style.color=this._disabled?"#999":"#000"};uki.delegateProp(this,"name","_input");this.value=function(h){if(h===
undefined)return this._input.value;this._input.value=h;this._updatePlaceholderVis();return this};this.placeholder=uki.newProp("_placeholder",function(h){this._placeholder=h;if(!this._multiline&&f(this._input))this._input.placeholder=h;else if(this._placeholderDom)this._placeholderDom.innerHTML=h;else{this._placeholderDom=uki.createElement("div",this.defaultCss+"z-input:103;color:#999;cursor:text;-moz-user-select:none;",h);if(!this._multiline)this._placeholderDom.style.whiteSpace="nowrap";this._dom.appendChild(this._placeholderDom);
this._updatePlaceholderVis();uki.each(["fontSize","fontFamily","fontWeight"],function(k,m){this._placeholderDom.style[m]=this._input.style[m]},this);uki.dom.bind(this._placeholderDom,"mousedown",uki.proxy(function(k){this.focus();k.preventDefault()},this))}});this._style=function(h,k){if(uki.inArray(h,uki.browser.textStyles)!=-1){if(k===undefined)return this._input.style[h];this._input.style[h]=k;if(this._placeholderDom)this._placeholderDom.style[h]=k}return e._style.call(this,h,k)};uki.addProps(this,
["backgroundPrefix"]);uki.addProps(this,["attributes"]);this.defaultBackground=function(){return uki.theme.background(this._backgroundPrefix+"input")};this._createDom=function(){this._dom=uki.createElement("div",e.defaultCss+";cursor:text;overflow:visible;");this._initClassName();this._input=uki.createElement(this._tagName,this.defaultCss+(this._multiline?"":";overflow:hidden;"));this._input.value=this._value;if(this._type)this._input.type=this._type;this._dom.appendChild(this._input);this._input.value=
this.value();this._initFocusable(this._input);this.bind("mousedown",function(h){h.target!=this._input&&this.focus()})};this._layoutDom=function(){e._layoutDom.apply(this,arguments);this._maxlength&&this._input.setAttribute("maxlength",this._maxlength);var h=this;this._attributes&&uki.each(this._attributes,function(m,n){if(m=="readonly")n==true?h._input.setAttribute(m):h._input.removeAttribute(m);else h._input.setAttribute(m,n)});uki.dom.layout(this._input.style,{width:this._rect.width-4});var k;if(this._multiline){this._input.style.height=
this._rect.height-4+"px";this._input.style.top="2px";k="2px 0"}else{k=(this._rect.height-d("font-size:"+this.style("fontSize")+";font-family:"+this.style("fontFamily")))/2;k=ta(k)+"px 0 "+za(k)+"px 0";this._input.style.padding=k}if(this._placeholderDom)this._placeholderDom.style.padding=k};this._updatePlaceholderVis=function(){if(this._placeholderDom)this._placeholderDom.style.display=this.value()?"none":"block"};this._focus=function(h){this._focusBackground=this._focusBackground||uki.theme.background(this._backgroundPrefix+
"input-focus");this._focusBackground.attachTo(this);if(this._placeholderDom)this._placeholderDom.style.display="none";b._focus.call(this,h)};this._blur=function(h){this._focusBackground.detach();this._updatePlaceholderVis();b._blur.call(this,h)};this._bindToDom=function(h){return b._bindToDom.call(this,h)||e._bindToDom.call(this,h)}});uki.view.declare("uki.view.MultilineTextField",uki.view.TextField,function(e){this._tagName="textarea";this._type="";this._setup=function(){e._setup.call(this);this._multiline=
true}});uki.view.declare("uki.view.PasswordTextField",uki.view.TextField,function(e){this._setup=function(){e._setup.call(this);this._type="password"}});uki.Collection.addAttrs(["placeholder","attributes"]);(function(){function e(){b||uki.dom.probe(uki.createElement("div","position:absolute;left:-99em;width:100px;height:100px;overflow:scroll;",'<div style="position:absolute;left:0;width:100%;"></div>'),function(f){b=f.offsetWidth-f.clientWidth;d=f.firstChild.offsetWidth==100});return b}var b,d;uki.view.declare("uki.view.ScrollPane",
uki.view.Container,function(f){uki.extend(this,{_scrollableY:true,_scrollableX:false,_scrollY:false,_scrollX:false,_sbY:false,_sbX:false});this._setup=function(){f._setup.call(this);this._clientRect=this.rect().clone();this._rectForChild=this.rect().clone()};uki.addProps(this,["scrollableY","scrollableX","scrollX","scrollY"]);this.scrollV=this.scrollY;this.scrollH=this.scrollX;this.scrollableV=this.scrollableY;this.scrollableH=this.scrollableX;this.rectForChild=function(){return this._rectForChild};
this.clientRect=function(){return this._clientRect};this.scroll=function(j,h){j&&this.scrollLeft(this.scrollLeft()+j);h&&this.scrollTop(this.scrollTop()+h)};uki.each(["scrollTop","scrollLeft"],function(j,h){this[h]=function(k){if(k==undefined)return this._dom[h];this._dom[h]=k;this.trigger("scroll",{source:this});return this}},this);this.visibleRect=function(){var j=this._clientRect.clone();j.x=this.rect().x+this.scrollLeft();j.y=this.rect().y+this.scrollTop();return j};this.rect=function(j){if(j===
undefined)return this._rect;j=L.create(j);var h=this._rect;this._parentRect=j;if(!this._resizeSelf(j))return this;this._updateClientRects();this._needsLayout=true;this.trigger("resize",{oldRect:h,newRect:this._rect,source:this});return this};this._createDom=function(){f._createDom.call(this);if(la.indexOf("Gecko/")>-1)this._dom.tabIndex="-1"};this._recalcClientRects=function(){e();var j=this.contentsWidth(),h=this.contentsHeight();j=this._scrollableX?j>this._rect.width:false;h=this._scrollableY?h>
this._rect.height:false;this._sbX=j||this._scrollX;this._sbY=h||this._scrollY;this._clientRect=new L(this._rect.width+(h?-1:0)*b,this._rect.height+(j?-1:0)*b);this._rectForChild=new L(this._rect.width+(h&&!d?-1:0)*b,this._rect.height+(j&&!d?-1:0)*b)};this._updateClientRects=function(){var j=this._clientRect;this._recalcClientRects();if(j.width!=this._clientRect.width||j.height!=this._clientRect.height)this._resizeChildViews(j)};this._resizeChildViews=function(j){for(var h=0,k=this.childViews();h<
k.length;h++)k[h].parentResized(j,this._clientRect)};this._layoutChildViews=function(){for(var j=0,h=this.childViews();j<h.length;j++)h[j]._needsLayout&&h[j].visible()&&h[j].layout()};this._layoutDom=function(j){this._updateClientRects();if(this._layoutScrollX!==this._sbX){this._dom.style.overflowX=this._sbX?"scroll":"hidden";this._layoutScrollX=this._sbX}if(this._layoutScrollY!==this._sbY){this._dom.style.overflowY=this._sbY?"scroll":"hidden";this._layoutScrollY=this._sbY}f._layoutDom.call(this,
j)};this._contentChanged=this.childResized=function(){this._needsLayout=true;uki.after(uki.proxy(this.layoutIfNeeded,this))}});uki.view.ScrollPane.initScrollWidth=e})();uki.Collection.addAttrs(["scrollTop","scrollLeft"]);uki.fn.scroll=function(e,b){this.each(function(){this.scroll(e,b)})};uki.view.list={};uki.view.declare("uki.view.List",uki.view.Base,uki.view.Focusable,function(e,b){function d(h,k){for(var m=new Array(k-h),n=0;h<=k;h++,n++)m[n]=h;return m}function f(h,k,m){for(var n=k=uki.binarySearch(k,
h);h[k]<=m;)k++;k>n&&h.splice(n,k-n)}this._throttle=42;this._visibleRectExt=300;this._defaultBackground="theme(list)";this._setup=function(){e._setup.call(this);uki.extend(this,{_rowHeight:30,_render:new uki.view.list.Render,_data:[],_keys:[],_lastClickIndex:-1,_selectedIndexes:[]})};this.defaultBackground=function(){return uki.theme.background("list",this._rowHeight)};uki.addProps(this,["render","packSize","visibleRectExt","throttle","lastClickIndex","multiselect"]);this.rowHeight=uki.newProp("_rowHeight",
function(h){this._rowHeight=h;this.minSize(new U(this.minSize().width,this._rowHeight*this._data.length));this._background&&this._background.detach();this._background=null;this.background()&&this.background().attachTo(this);this._contentChanged()});this.data=function(h){if(h===undefined)return this._data;this.clearSelection();this._data=h;this._packs[0].itemFrom=this._packs[0].itemTo=this._packs[1].itemFrom=this._packs[1].itemTo=0;this.minSize(new U(this.minSize().width,this._rowHeight*this._data.length));
this.trigger("selection",{source:this});this._contentChanged();return this};this.keys=function(h){if(h==undefined)return this._keys;this._keys=h;return this};this.relayout=function(){this._packs[0].itemFrom=this._packs[0].itemTo=this._packs[1].itemFrom=this._packs[1].itemTo=0;this.layout()};this.contentsSize=function(){return new U(this.rect().width,this._rowHeight*this._data.length)};this.addRow=function(h,k,m){this._data.splice(h,0,k);m!=undefined&&this._keys.splice(h,0,m);k=this._itemAt(h);m=K.createElement("div");
m.innerHTML=this._rowTemplate.render({height:this._rowHeight,text:this._render.render(this._data[h],this._rowRect(h),h)});k?k.parentNode.insertBefore(m.firstChild,k):this._dom.childNodes[0].appendChild(m.firstChild);if(h<=this._packs[0].itemTo){this._packs[0].itemTo++;this._packs[1].itemFrom++;this._packs[1].itemTo++;this._packs[1].dom.style.top=this._packs[1].itemFrom*this._rowHeight+"px"}else this._packs[1].itemTo++;for(h=uki.binarySearch(h,this.selectedIndexes());h<this._selectedIndexes.length;h++)this._selectedIndexes[h]++;
this.minSize(new U(this.minSize().width,this._rowHeight*this._data.length));this._contentChanged();return this};this.removeRow=function(h){this._data.splice(h,1);this._keys!=undefined&&this._keys.length-1>=h&&this._keys.splice(h,1);this.data(this._data);this.keys(this._keys);return this};this.redrawRow=function(h){var k=this._itemAt(h);if(k)k.innerHTML=this._render.render(this._data[h],this._rowRect(h),h);return this};this.selectedIndex=function(h){if(h===undefined)return this._selectedIndexes.length?
this._selectedIndexes[0]:-1;this.selectedIndexes([h]);this._scrollToPosition(h);return this};this.selectedIndexes=function(h){if(h===undefined)return this._selectedIndexes;this.clearSelection(true);this._selectedIndexes=h;for(h=0;h<this._selectedIndexes.length;h++)this._setSelected(this._selectedIndexes[h],true);this.trigger("selection",{source:this});return this};this.selectedRow=function(){return this._data[this.selectedIndex()]};this.selectedRows=function(){return uki.map(this.selectedIndexes(),
function(h){return this._data[h]},this)};this.clearSelection=function(h){for(var k=0;k<this._selectedIndexes.length;k++)this._setSelected(this._selectedIndexes[k],false);this._selectedIndexes=[];if(!h)this._lastClickIndex=-1};this.isSelected=function(h){return this._selectedIndexes[uki.binarySearch(h,this._selectedIndexes)]==h};this.layout=function(){this._layoutDom(this._rect);this._needsLayout=false;this.trigger("layout",{rect:this._rect,source:this,visibleRect:this._visibleRect});this._firstLayout=
false};this._rowRect=function(h){return new L(0,h*this._rowHeight,this.rect().width,this._rowHeight)};this._toggleSelection=function(h){var k=[].concat(this._selectedIndexes),m=uki.binarySearch(h,k);k[m]==h?k.splice(m,1):k.splice(m,0,h);this.selectedIndexes(k)};var j=false;this._scrollableParentScroll=function(){if(!j)if(this._throttle){if(!this._throttleStarted){this._throttleStarted=true;setTimeout(uki.proxy(function(){this._throttleStarted=false;this.layout()},this),this._throttle)}}else this.layout()};
this._contentChanged=function(){this._needsLayout=true;uki.after(uki.proxy(this._relayoutParent,this))};this._relayoutParent=function(){this.parent().childResized(this);if(this._scrollableParent){for(var h=this;h&&h!=this._scrollableParent;){h._needsLayout=true;h=h.parent()}h.layout()}};this.keyPressEvent=function(){return X.opera||/mozilla/i.test(la)&&!/(compatible|webkit)/i.test(la)?"keypress":"keydown"};this._bindSelectionEvents=function(){this.bind("mousedown",this._mousedown);this.bind("mouseup",
this._mouseup);this.bind(this.keyPressEvent(),this._keypress)};this._mouseup=function(h){if(this._multiselect){var k=uki.dom.offset(this._dom);h=(h.pageY-k.y)/this._rowHeight<<0;this._selectionInProcess&&this._lastClickIndex==h&&this.isSelected(h)&&this.selectedIndexes([h]);this._selectionInProcess=false}};this._mousedown=function(h){var k=uki.dom.offset(this._dom);k=(h.pageY-k.y)/this._rowHeight<<0;var m=this._selectedIndexes;if(this._multiselect){this._selectionInProcess=false;if(h.shiftKey&&m.length>
0)if(this.isSelected(k)){m=[].concat(m);f(m,Math.min(k+1,this._lastClickIndex),Math.max(k-1,this._lastClickIndex));this.selectedIndexes(m)}else this.selectedIndexes(d(Math.min(k,m[0]),Math.max(k,m[m.length-1])));else if(h.metaKey)this._toggleSelection(k);else if(this.isSelected(k))this._selectionInProcess=true;else this.selectedIndexes([k])}else this.selectedIndexes([k]);this._lastClickIndex=k};this._keypress=function(h){var k=-1;if(h.which==38||h.keyCode==38){k=Math.max(0,this._lastClickIndex-1);
h.preventDefault()}else if(h.which==40||h.keyCode==40){k=Math.min(this._data.length-1,this._lastClickIndex+1);h.preventDefault()}else if(this._multiselect&&(h.which==97||h.which==65)&&h.metaKey){h.preventDefault();this.selectedIndexes(d(0,this._data.length-1))}if(k>-1&&k!=this._lastClickIndex){if(h.shiftKey&&this._multiselect){this.isSelected(k)?this._toggleSelection(this._lastClickIndex):this._toggleSelection(k);this._scrollToPosition(k)}else this.selectedIndex(k);this._lastClickIndex=k}};this._createDom=
function(){this._dom=uki.createElement("div",this.defaultCss+"overflow:hidden");this._initClassName();var h=uki.createElement("div","position:absolute;left:0;top:0px;width:100%;overflow:hidden");this._packs=[{dom:h,itemTo:0,itemFrom:0},{dom:h.cloneNode(false),itemTo:0,itemFrom:0}];this._dom.appendChild(this._packs[0].dom);this._dom.appendChild(this._packs[1].dom);this._initFocusable();this._bindSelectionEvents()};this._setSelected=function(h,k){var m=this._itemAt(h);m&&this._render.setSelected(m,
this._data[h],k,this.hasFocus())};this._scrollToPosition=function(h){if(this._visibleRect){var k;k=(h+1)*this._rowHeight;h=h*this._rowHeight;j=true;if(k>=this._visibleRect.maxY())this._scrollableParent.scroll(0,k-this._visibleRect.maxY());else h<this._visibleRect.y&&this._scrollableParent.scroll(0,h-this._visibleRect.y);j=false;this.layout()}};this._itemAt=function(h){if(h<this._packs[1].itemTo&&h>=this._packs[1].itemFrom)return this._packs[1].dom.childNodes[h-this._packs[1].itemFrom];else if(h<this._packs[0].itemTo&&
h>=this._packs[0].itemFrom)return this._packs[0].dom.childNodes[h-this._packs[0].itemFrom];return null};this._rowTemplate=new uki.theme.Template('<div style="width:100%;height:${height}px;overflow:hidden;">${text}</div>');this._renderPack=function(h,k,m){var n=[];for(i=k;i<m;i++)n[n.length]=this._rowTemplate.render({height:this._rowHeight,text:this._render.render(this._data[i],this._rowRect(i),i)});h.dom.innerHTML=n.join("");h.itemFrom=k;h.itemTo=m;h.dom.style.top=k*this._rowHeight+"px";this._restorePackSelection(h,
k,m)};this._restorePackSelection=function(h){var k=this._selectedIndexes;if(k[0]<=h.itemFrom&&k[k.length-1]>=h.itemFrom||k[0]<=h.itemTo&&k[k.length-1]>=h.itemTo||k[0]>=h.itemFrom&&k[k.length-1]<=h.itemTo){var m=uki.binarySearch(h.itemFrom,k);for(m=Math.max(m,0);k[m]!==null&&k[m]<h.itemTo;){var n=k[m]-h.itemFrom;this._render.setSelected(h.dom.childNodes[n],this._data[n],true,this.hasFocus());m++}}};this._swapPacks=function(){var h=this._packs[0];this._packs[0]=this._packs[1];this._packs[1]=h};this._layoutDom=
function(h){if(!this._scrollableParent){this._scrollableParent=uki.view.scrollableParent(this);this._scrollableParent.bind("scroll",uki.proxy(this._scrollableParentScroll,this))}var k=this._rowHeight*this._data.length;this._visibleRect=uki.view.visibleRect(this,this._scrollableParent);if(this._focusTarget)this._focusTarget.style.top=this._visibleRect.y+"px";var m=ta((this._visibleRect.height+this._visibleRectExt*2)/this._rowHeight),n=T(0,this._visibleRect.y-this._visibleRectExt),s=ea(k,this._visibleRect.maxY()+
this._visibleRectExt),v=this._packs[0].itemFrom*this._rowHeight,r=this._packs[1].itemTo*this._rowHeight;k=true;e._layoutDom.call(this,h);if(s<=v||n>=r||s>r&&this._packs[1].itemFrom*this._rowHeight>this._visibleRect.y&&this._packs[1].itemTo>this._packs[1].itemFrom||n<v&&this._packs[0].itemTo*this._rowHeight<this._visibleRect.maxY()){h=n-this._visibleRectExt/2;h=T(0,Math.round(h/this._rowHeight));m=ea(this._data.length,h+m);this._renderPack(this._packs[0],h,m);this._renderPack(this._packs[1],m,m)}else if(s>
r&&this._packs[1].itemTo>this._packs[1].itemFrom){h=this._packs[1].itemTo;m=ea(this._data.length,this._packs[1].itemTo+m);this._renderPack(this._packs[0],h,m);this._swapPacks()}else if(s>r){h=this._packs[0].itemTo;m=ea(this._data.length,this._packs[1].itemTo+m);this._renderPack(this._packs[1],h,m)}else if(n<v){h=T(this._packs[0].itemFrom-m,0);m=this._packs[0].itemFrom;this._renderPack(this._packs[1],h,m);this._swapPacks()}else k=false;if(k&&/MSIE 6|7/.test(la))this.dom().className+=""};this._bindToDom=
function(h){return b._bindToDom.call(this,h)||e._bindToDom.call(this,h)};this._focus=function(h){b._focus.call(this,h);this._selectedIndexes.length==0&&this._data.length>0?this.selectedIndexes([0]):this.selectedIndexes(this.selectedIndexes())};this._blur=function(h){b._blur.call(this,h);this.selectedIndexes(this.selectedIndexes())}});uki.Collection.addAttrs(["data","selectedIndex","selectedIndexes","selectedRow","selectedRows","lastClickIndex","keys"]);uki.view.declare("uki.view.ScrollableList",uki.view.ScrollPane,
function(e){this._createDom=function(){e._createDom.call(this);this._list=uki({view:"List",rect:this.rect().clone().normalize(),anchors:"left top right bottom"})[0];this.appendChild(this._list)};uki.each("data rowHeight render packSize visibleRectExt throttle focusable selectedIndex selectedIndexes selectedRow selectedRows multiselect draggable textSelectable".split(" "),function(b,d){uki.delegateProp(this,d,"_list")},this)});uki.view.list.Render=uki.newClass({init:function(){},render:function(e,
b){return'<div style="line-height: '+b.height+'px; font-size: 12px; padding: 0 4px;">'+e+"</div>"},setSelected:function(e,b,d,f){e.style.backgroundColor=d&&f?"#3875D7":d?"#CCC":"";e.style.color=d&&f?"#FFF":"#000"}});uki.view.table={};uki.view.declare("uki.view.Table",uki.view.Container,function(e){var b="rowHeight data packSize visibleRectExt render selectedIndex selectedIndexes selectedRows selectedRow focus blur hasFocus lastClickIndex focusable textSelectable multiselect".split(" ");this._headerHeight=
this._rowHeight=17;this._listImpl="uki.view.List";uki.each(b,function(d,f){uki.delegateProp(this,f,"_list")},this);this._setup=function(){e._setup.call(this);this._columns=[];this.defaultCss+="overflow:hidden;"};this._style=function(d,f){this._header.style(d,f);return e._style.call(this,d,f)};this.list=function(){return this._list};this.header=function(){return this._header};this.columns=uki.newProp("_columns",function(d){for(var f=0;f<this._columns.length;f++)this._columns[f].unbind();this._columns=
uki.build(d);for(f=this._totalWidth=0;f<this._columns.length;f++){this._columns[f].position(f);this._columns[f].bind("beforeResize",uki.proxy(function(){this._updateTotalWidth();this._scrollPane.layout()},this))}this._updateTotalWidth();this._header.columns(this._columns)});this.redrawCell=function(d,f){var j=this._list._itemAt(d);if(j){var h=K.createElement("div");h.innerHTML=this.columns()[f].render(this.data()[d],new L(0,d*this.rowHeight(),this.list().width(),this.rowHeight()),d);j.replaceChild(h.firstChild,
j.childNodes[f])}return this};uki.each(["redrawRow","addRow","removeRow"],function(d,f){this[f]=function(){this.list()[f].apply(this.list(),arguments);return this}},this);this.redrawColumn=function(d){for(var f=this._list._packs[1].itemTo,j=this._list._packs[0].itemFrom;j<f;j++)this.redrawCell(j,d);return this};this._updateTotalWidth=function(){for(var d=this._totalWidth=0;d<this._columns.length;d++){this._columns[d].position(d);this._totalWidth+=this._columns[d].width()}this._list.minSize(new U(this._totalWidth,
this._list.minSize().height));this._header.minSize(new U(this._totalWidth,0))};this._createDom=function(){e._createDom.call(this);this._initClassName();var d=new L(0,this._headerHeight,this.rect().width,this.rect().height-this._headerHeight),f=d.clone().normalize(),j=new L(0,0,this.rect().width,this._headerHeight),h={view:this._listImpl,rect:f,anchors:"left top bottom right",render:new uki.view.table.Render(this),className:"table-list"};d={view:"ScrollPane",rect:d,anchors:"left top right bottom",
scrollableH:true,childViews:[h],className:"table-scroll-pane"};j={view:"table.Header",rect:j,anchors:"top left right",className:"table-header"};uki.each(b,function(k,m){if(this["_"+m]!==undefined)h[m]=this["_"+m]},this);this._scrollPane=uki.build(d)[0];this._list=this._scrollPane.childViews()[0];this._header=uki.build(j)[0];this._scrollPane.resizeToContents();this.appendChild(this._header);this.appendChild(this._scrollPane);this._scrollPane.bind("scroll",uki.proxy(function(){this._header.dom().style.left=
-this._scrollPane.scrollLeft()+"px"},this))}});uki.Collection.addAttrs(["columns"]);uki.view.table.Render=uki.newClass(uki.view.list.Render,new (function(){this.init=function(e){this._table=e};this.render=function(e,b,d){var f=this._table.columns();return uki.map(f,function(j,h){return f[h].render(e,b,d)}).join("")}}));uki.view.table.Column=uki.newClass(uki.view.Observable,new (function(){this._width=100;this._maxWidth=this._minWidth=this._position=this._offset=0;this._css="float:left;white-space:nowrap;text-overflow:ellipsis;";
this._inset=new Y(3,5);this._templatePrefix="table-";this.init=function(){};uki.addProps(this,["position","css","formatter","label","resizable","maxWidth","minWidth","maxWidth","key","sort"]);this.template=function(){return this._template||(this._template=uki.theme.template(this._templatePrefix+"cell"))};this.headerTemplate=function(){var e="";if(this.sort()=="ASC")e="-asc";if(this.sort()=="DESC")e="-desc";return uki.theme.template(this._templatePrefix+"header-cell"+e)};this.sortData=function(e){var b=
this;return e.sort(function(d,f){return b._key?b.compare(uki.attr(d,b._key),uki.attr(f,b._key)):b.compare(d[b._position],f[b._position])})};this.compare=function(e,b){return(e>=b?1:e==b?0:-1)*(this._sort=="DESC"?-1:1)};this.width=uki.newProp("_width",function(e){var b={oldWidth:this._width,source:this};this._width=this._normailizeWidth(e);b.newWidth=this._width;this.trigger("beforeResize",b);if(this._stylesheet&&b.newWidth!=b.oldWidth)(this._stylesheet.styleSheet?this._stylesheet.styleSheet.rules:
this._stylesheet.sheet.cssRules)[0].style.width=this._clientWidth()+"px";this.trigger("resize",b)});this._bindToDom=uki.F;this._normailizeWidth=function(e){if(this._maxWidth)e=ea(this._maxWidth,e);if(this._minWidth)e=T(this._minWidth,e);return e};this.inset=uki.newProp("_inset",function(e){this._inset=Y.create(e)});this.render=function(e,b,d){this._prerenderedTemplate||this._prerenderTemplate(b);b=this._key?uki.attr(e,this._key):e[this._position];this._prerenderedTemplate[1]=this._formatter?this._formatter(b,
e,d):b;return this._prerenderedTemplate.join("")};this.appendResizer=function(e,b){b=uki.theme.dom("resizer",b);e.appendChild(b);return b};this.renderHeader=function(e){this._className||this._initStylesheet();return this.headerTemplate().render({data:'<div style="overflow:hidden;text-overflow:ellipsis;*width:100%;height:100%;padding-top:'+this._inset.top+'px">'+this.label()+"</div>",style:"*overflow-y:hidden;"+this._cellStyle(true,e),className:this._className})};this._prerenderTemplate=function(e){this._className||
this._initStylesheet();this._prerenderedTemplate=this.template().render({data:"\u0001\u0001",style:"overflow:hidden;"+this._cellStyle(false,e.height),className:this._className}).split("\u0001")};this._cellPadding=function(e){var b=this._inset;return["padding:",e?"0":b.top,"px ",b.right,"px ",e?"0":b.bottom,"px ",b.left,"px;"].join("")};this._cellHeight=function(e,b){return"height:"+(b-(uki.dom.offset.boxModel&&!e?this._inset.height():0))+"px;"};this._cellStyle=function(e,b){return this._css+this._cellPadding(e)+
";"+this._cellHeight(e,b)};this._clientWidth=function(){return this._width-(uki.dom.offset.boxModel?this._inset.width()+1:0)};this._initStylesheet=function(){if(!this._className){uki.dom.offset.initializeBoxModel();this._className="uki-table-column-"+uki.guid++;var e="."+this._className+" {width:"+this._clientWidth()+"px;}";this._stylesheet=uki.dom.createStylesheet(e)}}}));uki.view.table.NumberColumn=uki.newClass(uki.view.table.Column,new function(){this._css=uki.view.table.Column.prototype._css+
"text-align:right;";this.compare=function(e,b){e*=1;b*=1;return(e>=b?1:e==b?0:-1)*(this._sort=="DESC"?-1:1)}});uki.view.table.CustomColumn=uki.view.table.Column;uki.view.declare("uki.view.table.Header",uki.view.Label,function(e){this._defaultBackground="theme(table-header)";this._setup=function(){e._setup.call(this);this._multiline=true;this._resizers=[]};this.columns=uki.newProp("_columns",function(b){this._columns=b;this.html(this._createColumns());this._createResizers()});this._createDom=function(){e._createDom.call(this);
this.bind("click",this._click)};this._click=function(b){if(!this._dragging){b=b.target;if(!(b==this.dom()||b==this._label)){for(;b.parentNode!=this._label;)b=b.parentNode;b=uki.inArray(b,this._label.childNodes);b>-1&&this.trigger("columnClick",{source:this,columnIndex:b,column:this._columns[b]})}}};this.redrawColumn=function(b){this._resizers[b]&&uki.dom.unbind(this._resizers[b]);var d=K.createElement("div");d.innerHTML=this._columns[b].renderHeader(this.rect().height);this._label.replaceChild(d.firstChild,
this._label.childNodes[b]);this._columns[b].resizable()&&this._createResizers(b)};this._createColumns=function(){for(var b=[],d=0,f=this._columns,j=f.length;d<j;d++)b[b.length]=f[d].renderHeader(this.rect().height);return b.join("")};this._createResizer=function(b){var d=this._columns[b];if(d.resizable()){d=d.appendResizer(this._label.childNodes[b],this.rect().height);this._bindResizerDrag(d,b);this._resizers[b]=d}};this._createResizers=function(){uki.each(this._columns,this._createResizer,this)};
this._bindResizerDrag=function(b,d){var f=this;uki.dom.bind(b,"draggesture",function(j){f._dragging=true;var h=uki.dom.offset(f.dom());j=j.pageX-h.x;h=0;var k,m=f._columns[d];for(k=0;k<d;k++)h+=f._columns[k].width();m.width(j-h)});uki.dom.bind(b,"draggestureend",function(){setTimeout(function(){f._dragging=false},1)})}});uki.view.declare("uki.view.Slider",uki.view.Container,uki.view.Focusable,function(e,b){this._handleSize=new U(10,18);this._setup=function(){e._setup.call(this);uki.extend(this,{_min:0,
_max:1,_value:0,_values:null,_keyStep:0.01})};uki.addProps(this,["min","max","values","keyStep"]);this.values=uki.newProp("_values",function(d){this._values=d;this._min=d[0];this._max=d[d.length-1]});this.value=uki.newProp("_value",function(d){this._value=T(this._min,ea(this._max,d));this._position=this._val2pos(this._value);this._moveHandle()});this._pos2val=function(d,f){if(this._values){d=Math.round(1*d/(this._rect.width-this._handleSize.width)*(this._values.length-1));if(f)this._cachedIndex=d;
return this._values[d]}return d/(this._rect.width-this._handleSize.width)*(this._max-this._min)+this._min};this._val2pos=function(d){if(this._values)return(this._cachedIndex!==undefined?this._cachedIndex:uki.binarySearch(d,this._values))/(this._values.length-1)*(this._rect.width-this._handleSize.width);return(d-this._min)/(this._max-this._min)*(this._rect.width-this._handleSize.width)};this._createDom=function(){this._dom=uki.createElement("div",this.defaultCss+"height:18px;-moz-user-select:none;-webkit-user-select:none;overflow:visible;");
this._initClassName();this._handle=uki({view:"SliderHandle",rect:new L(0,(this._rect.height-this._handleSize.height)/2,this._handleSize.width,this._handleSize.height),anchors:"left top"})[0];this.appendChild(this._handle);uki.theme.background("slider-bar").attachTo(this);uki.each(["draggesturestart","draggesture","draggestureend"],function(d,f){this._handle.bind(f,uki.proxy(this["_"+f],this))},this);this.bind(uki.view.List.prototype.keyPressEvent(),this._keypress);this.bind("click",this._click);this._initFocusable()};
this._focus=function(d){this._handle._focus();b._focus.call(this,d)};this._blur=function(d){this._handle._blur();b._blur.call(this,d)};this._click=function(d){this.value(this._pos2val(d.pageX-uki.dom.offset(this._dom).x-this._handleSize.width/2,true));this._cachedIndex=undefined;this.trigger("change",{source:this,value:this._value})};this._keypress=function(d){if(d.which==39||d.keyCode==39)this.value(this.value()+this._keyStep*(this._max-this._min));else if(d.which==37||d.keyCode==37)this.value(this.value()-
this._keyStep*(this._max-this._min))};this._moveHandle=function(){var d=this._handle.rect().clone();d.x=this._position;d.y=(this._rect.height-this._handleSize.height)/2;this._handle.rect(d).layout()};this._draggesturestart=function(){this._dragging=true;this._initialPosition=this._handle.rect().clone();return true};this._draggesture=function(d){this.value(this._pos2val(T(0,ea(this._rect.width-this._handleSize.width,this._initialPosition.x+d.dragOffset.x)),true));this._cachedIndex=undefined};this._draggestureend=
function(){this._dragging=false;this._initialPosition=null;this.value(this._pos2val(this._position,true));this._cachedIndex=undefined;this.trigger("change",{source:this,value:this._value})};this._layoutDom=function(d){e._layoutDom.call(this,d);this._position=this._val2pos(this._value);this._moveHandle();return true};this._bindToDom=function(d){if(d=="change")return true;return uki.view.Focusable._bindToDom.call(this,d)||e._bindToDom.call(this,d)}});uki.view.declare("uki.view.SliderHandle",uki.view.Button,
{_backgroundPrefix:"slider-handle-",_focusable:false});uki.view.declare("uki.view.HSplitPane",uki.view.Container,function(e){this._throttle=0;this._setup=function(){e._setup.call(this);this._originalRect=this._rect;uki.extend(this,{_vertical:false,_handlePosition:200,_autogrowLeft:false,_autogrowRight:true,_handleWidth:7,_leftMin:100,_rightMin:100,_panes:[]})};uki.addProps(this,["leftMin","rightMin","autogrowLeft","autogrowRight","throttle"]);this.topMin=this.leftMin;this.bottomMin=this.rightMin;
this.handlePosition=uki.newProp("_handlePosition",function(b){this._handlePosition=this._normalizePosition(b);this.trigger("handleMove",{source:this,handlePosition:this._handlePosition,dragValue:b});this._resizeChildViews()});this.handleWidth=uki.newProp("_handleWidth",function(b){if(this._handleWidth!=b){this._handleWidth=b;b=this._createHandle();this._dom.insertBefore(b,this._handle);this._removeHandle();this._handle=b;this._resizeChildViews()}});this._normalizePosition=function(b){var d=this._vertical?
"height":"width";return T(this._leftMin,ea(this._rect[d]-this._rightMin-this._handleWidth,T(0,ea(this._rect?this._rect[d]:1E3,b*1))))};this._removeHandle=function(){this._dom.removeChild(this._handle)};this._createHandle=function(){var b;if(this._vertical){b=uki.theme.dom("splitPane-vertical",{handleWidth:this._handleWidth});b.style.top=this._handlePosition+"px"}else{b=uki.theme.dom("splitPane-horizontal",{handleWidth:this._handleWidth});b.style.left=this._handlePosition+"px"}uki.each(["draggesturestart",
"draggesture","draggestureend"],function(d,f){uki.dom.bind(b,f,uki.proxy(this["_"+f],this))},this);return b};this._createDom=function(){this._dom=uki.createElement("div",this.defaultCss);this._initClassName();for(var b=0,d;b<2;b++){d={view:"Container"};d.anchors=b==1?"left top bottom right":this._vertical?"left top right":"left top bottom";d.rect=b==0?this._leftRect():this._rightRect();this._panes[b]=uki.build(d)[0];this.appendChild(this._panes[b])}this._dom.appendChild(this._handle=this._createHandle())};
this._normalizeRect=function(b){b=e._normalizeRect.call(this,b);b=b.clone();if(this._vertical)b.height=T(b.height,this._leftMin+this._rightMin);else b.width=T(b.width,this._leftMin+this._rightMin);return b};this._resizeSelf=function(b){var d=this._rect,f=this._vertical?"height":"width";if(!e._resizeSelf.call(this,b))return false;if(this._autogrowLeft){d=b[f]-d[f];this._handlePosition=this._normalizePosition(this._handlePosition+(this._autogrowRight?d/2:d))}if(this._vertical){if(b.height-this._handlePosition<
this._rightMin)this._handlePosition=T(this._leftMin,b.height-this._rightMin)}else if(b.width-this._handlePosition<this._rightMin)this._handlePosition=T(this._leftMin,b.width-this._rightMin);return true};this._draggesturestart=function(b){var d=uki.dom.offset(this.dom());this._posWithinHandle=b[this._vertical?"pageY":"pageX"]-d[this._vertical?"y":"x"]-this._handlePosition;return true};this._draggesture=function(b){this._updatePositionOnDrag(b)};this._draggestureend=function(b){this._updatePositionOnDrag(b)};
this._updatePositionOnDrag=function(b){var d=uki.dom.offset(this.dom());this.handlePosition(b[this._vertical?"pageY":"pageX"]-d[this._vertical?"y":"x"]-this._posWithinHandle);if(this._throttle){this._throttleHandler=this._throttleHandler||uki.proxy(function(){this.layout();this._trottling=false},this);if(!this._trottling){this._trottling=true;setTimeout(this._throttleHandler,this._throttle)}}else this.layout()};this.topPane=this.leftPane=function(b){return this._paneAt(0,b)};this.bottomPane=this.rightPane=
function(b){return this._paneAt(1,b)};this.topChildViews=this.leftChildViews=function(b){return this._childViewsAt(0,b)};this.bottomChildViews=this.rightChildViews=function(b){return this._childViewsAt(1,b)};this._childViewsAt=function(b,d){if(d===undefined)return this._panes[b].childViews();this._panes[b].childViews(d);return this};this._paneAt=function(b,d){if(d===undefined)return this._panes[b];uki.build.copyAttrs(this._panes[b],d);return this};this._leftRect=function(){return this._vertical?new L(this._rect.width,
this._handlePosition):new L(this._handlePosition,this._rect.height)};this._rightRect=function(){return this._vertical?new L(0,this._handlePosition+this._handleWidth,this._rect.width,this._rect.height-this._handleWidth-this._handlePosition):new L(this._handlePosition+this._handleWidth,0,this._rect.width-this._handleWidth-this._handlePosition,this._rect.height)};this._resizeChildViews=function(){this._panes[0].rect(this._leftRect());this._panes[1].rect(this._rightRect())};this._layoutDom=function(b){e._layoutDom.call(this,
b);this._handle.style[this._vertical?"top":"left"]=this._handlePosition+"px"};this._bindToDom=function(b){if(b=="handleMove")return true;return e._bindToDom.call(this,b)}});uki.view.declare("uki.view.VSplitPane",uki.view.HSplitPane,function(e){this._setup=function(){e._setup.call(this);this._vertical=true}});uki.Collection.addAttrs(["handlePosition"]);uki.view.declare("uki.view.Popup",uki.view.Container,function(e){this._setup=function(){e._setup.call(this);uki.extend(this,{_offset:2,_relativeTo:null,
_horizontal:false,_flipOnResize:true,_defaultBackground:"theme(popup-normal)"})};this._createDom=function(){e._createDom.call(this);this.hideOnClick(true)};uki.addProps(this,["offset","relativeTo","horizontal","flipOnResize"]);this.hideOnClick=function(b){if(b===undefined)return this._clickHandler;if(b!=!!this._clickHandler)if(b){this._clickHandler=this._clickHandler||uki.proxy(function(d){uki.dom.contains(this._relativeTo.dom(),d.target)||uki.dom.contains(this.dom(),d.target)||this.hide()},this);
uki.dom.bind(K.body,"mousedown",this._clickHandler);uki.dom.bind(X,"resize",this._clickHandler)}else{uki.dom.unbind(K.body,"mousedown",this._clickHandler);uki.dom.unbind(X,"resize",this._clickHandler);this._clickHandler=false}return this};this.toggle=function(){this.parent()&&this.visible()?this.hide():this.show()};this.show=function(){this.visible(true);if(this.parent()){this.rect(this._recalculateRect());this.layout(this._rect)}else new uki.Attachment(X,this);this.trigger("toggle",{source:this})};
this.hide=function(){this.visible(false);this.trigger("toggle",{source:this})};this.parentResized=function(){this.rect(this._recalculateRect())};this._resizeSelf=function(b){this._rect=this._normalizeRect(b);return true};this._layoutDom=function(b){return e._layoutDom.call(this,b)};this._recalculateRect=function(){if(!this.visible())return this._rect;var b=uki.dom.offset(this._relativeTo.dom()),d=this._relativeTo.rect(),f=this.rect().clone(),j=uki.view.top(this);j.rect();j=uki.dom.offset(j.dom());
var h=new Z,k=this._horizontal?this._offset:0,m=this._horizontal?0:this._offset;b.offset(-j.x,-j.y);h.x=this._anchors&2?b.x+d.width-(this._horizontal?0:f.width)+k:this._anchors&8?b.x-(this._horizontal?f.width:0)-k:b.x+(d.width-f.width>>1)-k;h.y=this._anchors&4?b.y+(this._horizontal?d.height:0)-f.height-m:this._anchors&1?b.y+(this._horizontal?0:d.height)+m:b.y+(d.height-f.height>>1)+m;return new L(h.x,h.y,f.width,f.height)}});uki.each(["show","hide","toggle"],function(e,b){uki.fn[b]=function(){this.each(function(){this[b]()})}});
uki.view.declare("uki.view.VFlow",uki.view.Container,function(e){this.contentsSize=function(){var b=uki.reduce(0,this._childViews,function(d,f){return d+(f.visible()?f.rect().height:0)});return new U(this.contentsWidth(),b)};this.hidePartlyVisible=uki.newProp("_hidePartlyVisible");this.resizeToContents=function(b){this._resizeChildViews(this._rect);return e.resizeToContents.call(this,b)};this.layout=function(){return e.layout.call(this)};this._resizeChildViews=function(b){for(var d=0,f,j=0,h=this.childViews();j<
h.length;j++){f=h[j];f.parentResized(b,this._rect);f.rect().y=d;this._hidePartlyVisible&&f.visible(f._rect.height+d<=this._rect.height);if(f.visible())d+=f._rect.height}};this._contentChanged=this.childResized=function(){this._needsLayout=true;uki.after(uki.proxy(this._afterChildResized,this))};this._afterChildResized=function(){this.resizeToContents("height");this.parent().childResized(this);this.layoutIfNeeded()}});uki.view.declare("uki.view.HFlow",uki.view.VFlow,function(){this.contentsSize=function(){var e=
uki.reduce(0,this._childViews,function(b,d){return b+(d.visible()?d.rect().width:0)});return new U(e,this.contentsHeight())};this._resizeChildViews=function(e){for(var b=0,d,f=0,j=this.childViews();f<j.length;f++){d=j[f];d.parentResized(e,this._rect);d.rect().x=b;this._hidePartlyVisible&&d.visible(d._rect.width+b<=this._rect.width);if(d.visible())b+=d._rect.width}};this._afterChildResized=function(){this.resizeToContents("width");this.parent().childResized(this);this.layoutIfNeeded()}});uki.view.toolbar=
{};uki.view.declare("uki.view.Toolbar",uki.view.Container,function(e){this.typeName=function(){return"uki.view.Toolbar"};this._moreWidth=30;this._setup=function(){e._setup.call(this);this._buttons=[];this._widths=[]};this.buttons=uki.newProp("_buttons",function(b){this._buttons=b;this._flow.childViews(uki.build(uki.map(this._buttons,this._createButton,this)).resizeToContents("width"));this._totalWidth=uki.reduce(0,this._flow.childViews(),function(d,f){return d+f.rect().width})});uki.moreWidth=uki.newProp("_moreWidth",
function(b){this._moreWidth=b;this._updateMoreVisible()});this._createDom=function(){e._createDom.call(this);var b=this.rect(),d=b.clone().normalize();b={view:"Button",rect:new L(b.width-this._moreWidth,0,this._moreWidth,b.height),anchors:"right top",className:"toolbar-button",visible:false,backgroundPrefix:"toolbar-more-",text:">>",focusable:false};var f={view:"Popup",rect:"0 0",anchors:"right top",className:"toolbar-popup",background:"theme(toolbar-popup)",childViews:{view:"VFlow",rect:"0 5 0 0",
anchors:"right top left bottom"}};this._flow=uki.build({view:"HFlow",rect:d,anchors:"left top right",className:"toolbar-flow",hidePartlyVisible:true})[0];this._more=uki.build(b)[0];this.appendChild(this._flow);this.appendChild(this._more);f.relativeTo=this._more;this._popup=uki.build(f)[0];this._more.bind("click",uki.proxy(this._showMissingButtons,this))};this._showMissingButtons=function(){for(var b=this._flow.rect().width,d=0,f=[],j=0,h=this._flow.childViews(),k=h.length;j<k;j++){d+=h[j].rect().width;
d>b&&f.push(j)}b=uki.map(f,function(m){var n={html:h[m].html(),backgroundPrefix:"toolbar-popup-button-"};uki.each(["fontSize","fontWeight","color","textAlign","inset"],function(s,v){n[v]=uki.attr(h[m],v)});return this._createButton(n)},this);uki("VFlow",this._popup).childViews(b).resizeToContents("width height");this._popup.resizeToContents("width height").height(this._popup.height()+5).toggle()};this._updateMoreVisible=function(){var b=this._rect;if(this._more.visible()!=b.width<this._totalWidth){this._more.visible(b.width<
this._totalWidth);var d=this._flow.rect();d.width+=(b.width<this._totalWidth?-1:1)*this._moreWidth;this._flow.rect(d)}};this.rect=function(b){var d=e.rect.call(this,b);b&&this._updateMoreVisible();return d};this._createButton=function(b){var d=this.rect().clone().normalize();d.width=100;return uki.extend({view:"Button",rect:d,focusable:false,align:"left",anchors:"left top",backgroundPrefix:"toolbar-button-",autosizeToContents:"width",focusable:false},b)}});(function(){function e(j){return uki.theme.airport.imagePath+
j}function b(j){var h=uki.theme.imageSrc("checkbox");return new uki.background.CssBox("",{innerHTML:'<div style="position:absolute;left:50%;top:50%;width:18px;height:18px;overflow:hidden;margin:-9px 0 0 -9px; background: url('+h+") 0 -"+j+'px"></div>'})}function d(j){var h=uki.theme.imageSrc("radio");return new uki.background.CssBox("",{innerHTML:'<div style="position:absolute;left:50%;top:50%;width:18px;height:18px;overflow:hidden;margin:-9px 0 0 -9px; background: url('+h+") 0 -"+j+'px"></div>'})}
function f(){return'<div style="'+uki.browser.css("position:absolute;overflow:hidden;z-index:10;left:50%;top:50%;width:2px;height:11px;margin:-6px 0 0 -1px;background:#8599AE;border-top:1px solid #6A7A8C;")+'"></div>'}uki.theme.airport=uki.extend({},uki.theme.Base,{imagePath:"/src/uki-theme/airport/i/",backgrounds:{"button-normal":function(){return new uki.background.LinearGradient({startColor:"#FDFEFF",stops:[{pos:0.15,color:"#F5F7FD"},{pos:0.8,color:"#C9CACF"}],endColor:"#C7CBD2",innerHTML:'<div style="position:absolute;z-index:1;left:1px;bottom:0px;right:1px;height:1px;overflow:hidden;background:rgba(255,255,255,0.4)"></div>',
css:"border:1px solid #666;border-radius:3px;box-shadow:0 1px 0 rgba(255,255,255,0.5);"})},"button-hover":function(){return new uki.background.LinearGradient({startColor:"#FFFFFF",stops:[{pos:0.7,color:"#D7DAE4"}],endColor:"#D9DEE6",innerHTML:'<div style="position:absolute;z-index:1;left:1px;bottom:0px;right:1px;height:1px;overflow:hidden;background:rgba(255,255,255,0.4)"></div>',css:"border:1px solid #666;border-radius:3px;box-shadow:0 1px 0 rgba(255,255,255,0.5);"})},"button-down":function(){return new uki.background.LinearGradient({startColor:"#9C9DA1",
stops:[{pos:0.6,color:"#C5C7CD"}],endColor:"#CCCFD6",css:"border:1px solid #666;border-radius:3px;box-shadow:inset 0 1px 3px rgba(0,0,0,0.5);"})},"button-focus":function(){if(uki.browser.cssBoxShadow()=="unsupported")return new uki.background.CssBox("background:#7594D2;"+(uki.browser.cssFilter()&&uki.image.needAlphaFix?"filter:Alpha(opacity=70);":"opacity:0.7;"),{inset:"-2 -2",zIndex:-2});return new uki.background.Css({boxShadow:"0 0 6px #0244D4",borderRadius:"3px"})},"button-disabled":function(){return new uki.background.Multi(uki.theme.background("button-normal"),
new uki.background.Css({color:"#999"}))},"checkbox-normal":function(){return b(18)},"checkbox-hover":function(){return b(54)},"checkbox-disabled":function(){return b(90)},"checkbox-checked-normal":function(){return b(0)},"checkbox-checked-hover":function(){return b(36)},"checkbox-checked-disabled":function(){return b(72)},"checkbox-focus":function(){if(uki.image.needAlphaFix)return new uki.background.CssBox("",{innerHTML:'<div style="position:absolute;left:50%;top:50%;width:19px;height:19px;overflow:hidden;margin:-10px 0 0 -10px;background:#7594D2;filter:Alpha(opacity=70);"></div>',
zIndex:-2});return new uki.background.CssBox("",{innerHTML:'<div style="position:absolute;left:50%;top:50%;width:24px;height:24px;overflow:hidden;margin:-12px 0 0 -12px; background: url('+uki.theme.imageSrc("checkbox-focus")+') 0 0"></div>',zIndex:-2})},"radio-normal":function(){return d(18)},"radio-hover":function(){return d(54)},"radio-disabled":function(){return d(90)},"radio-checked-normal":function(){return d(0)},"radio-checked-hover":function(){return d(36)},"radio-checked-disabled":function(){return d(72)},
"radio-focus":function(){if(uki.image.needAlphaFix)return uki.theme.airport.background("checkbox-focus");var j=uki.theme.imageSrc("radio-focus");return new uki.background.CssBox("",{innerHTML:'<div style="position:absolute;left:50%;top:50%;width:24px;height:24px;overflow:hidden;margin:-12px 0 0 -12px; background: url('+j+') 0 0"></div>',zIndex:-2})},"toolbar-button-normal":function(){return new uki.background.Css("#CCC")},"toolbar-button-hover":function(){return new uki.background.Css("#E0E0E0")},
"toolbar-button-down":function(){return new uki.background.Css("#AAA")},"toolbar-button-focus":function(){return new uki.background.Css("#CCC")},"toolbar-popup-button-normal":function(){return new uki.background.Css({textAlign:"left"})},"toolbar-popup-button-down":function(){return new uki.background.Css({background:"#AAA",textAlign:"left"})},"toolbar-popup-button-hover":function(){return new uki.background.Css({background:"#4086FF",color:"#FFF",textAlign:"left",textShadow:"none"})},"popup-normal":function(){return new uki.background.CssBox("background:#ECEDEE;border-radius:5px;border:1px solid #CCC;box-shadow:0 3px 8px rgba(0,0,0,0.6)")},
panel:function(){return new uki.background.LinearGradient({startColor:"#DEDEDF",stops:[{pos:0.2,color:"#D4D4D5"},{pos:0.9,color:"#989899"}],endColor:"#989899",css:"box-shadow:0 1px 0 rgba(0,0,0,0.5);"})},input:function(){return new uki.background.CssBox("background:white;border: 1px solid #999;border-top-color:#777;box-shadow:0 1px 0 rgba(255, 255, 255, 0.4), inset 0 1px 2px rgba(0,0,0,0.2);")},"input-focus":function(){if(uki.browser.cssBoxShadow()=="unsupported")return new uki.background.CssBox("background:#7594D2;"+
(uki.browser.cssFilter()&&uki.image.needAlphaFix?"filter:Alpha(opacity=70);":"opacity:0.7;"),{inset:"-2 -2",zIndex:-2});return new uki.background.Css({boxShadow:"0 0 6px #0244D4"})},"slider-handle-normal":function(){return new uki.background.LinearGradient({startColor:"#FFFFFF",endColor:"#B1CEEA",innerHTML:f(),css:"border:1px solid #8393A6;border-bottom-color:#687482;box-shadow:0 0 2px rgba(0,0,0,0.5);"})},"slider-handle-hover":function(){return new uki.background.LinearGradient({startColor:"#DFF6FF",
endColor:"#8AC5F3",innerHTML:f(),css:"border:1px solid #8393A6;border-bottom-color:#687482;box-shadow:0 0 2px rgba(0,0,0,0.5);"})},"slider-handle-focus":function(){if(uki.browser.cssBoxShadow()=="unsupported")return new uki.background.CssBox("background:#7594D2;"+(uki.browser.cssFilter()&&uki.image.needAlphaFix?"filter:Alpha(opacity=70);":"opacity:0.7;"),{inset:"-2 -2",zIndex:-2});return new uki.background.CssBox("box-shadow: 0 0 6px #0244D4;",{zIndex:2,inset:"1"})},"slider-bar":function(){uki.dom.offset.initializeBoxModel();
return new uki.background.CssBox("overflow:visible;",{inset:uki.dom.offset.boxModel?"0 2 0 0":"0 0",innerHTML:'<div style="'+uki.browser.css("position:absolute;left:0;overflow:hidden;width:100%;top:50%;height:3px;margin-top:-2px;background:#C6C7CD;border:1px solid #777;border-radius:3px;box-shadow:0 1px 0 rgba(255,255,255,0.5),inset 0 1px 1px rgba(0,0,0,0.2)")+'"></div>'})},list:function(j){return new uki.background.Rows(j,"#EDF3FE")},"table-header":function(){return new uki.background.LinearGradient({startColor:"#FFFFFF",
stops:[{pos:0.8,color:"#e0e0e0"}],endColor:"#EEEEEE",css:"border-bottom:1px solid #CCC;"})}},images:{checkbox:function(){return uki.image(e("checkbox/normal.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAABsCAYAAABn5uLmAAAF1UlEQVRYw+2Y3VMTVxjGve9N/4T+CU4vetErpxfauzp1puNFZ3Ckah1jibWOGqhFhYpY8AvBIoygiErwIxAI+UCQhhgkEQwgIQKiIXwJBEKABIJP913dlJNddE8602mrO/ObIee8z8Oe3cnL87JuXZLXJ+vXf/zp519kyjYM7nHwsOtgDrakaLDhy6+3xU30jucgXr2CKsorq7H3yGno8sqwZZtmc9zoWpMP0eUVVdxrcWDHT1k4VVaP/KsWMMe63PAY4UhM5Okzf/znRDp7fEjV/oLjRdUorm5GidHNGhUb2hCcX0azw41NX22Fy+MVP6/GPx7Ed2kZyMi/gtMVFjz2+UE6xqigqgUvQ1GcLa7A9n2Z2K45hGcjU+KahFaXhf1ZhcgrN6Hufoe4RjrGiM46EoxgYCSIvNI70B49jx1pOvj8k+J6ztlL2H04FydLa1F4wyquEbJnlFNSg+eTiyLtvX5kF+mxJ/0UUn84jIo7ZqTsTcexwirhburFfamWdIzRcaGof3whjtXZi8xzlUg7cga7DmQjI68cuaU1uNPoZupIxxj9LDzA3pEwQ2W9A1nCnWULbyjn0l0U3TDLakjHGB08UQyPf07GhesNwnMxIPuiHu39k7J90jFG+46eg3soJMPRN4ETRTdxu6lTcZ90jNEeXS6cAzPckI4x2rn/GIieQFg1kkb27d+m0YGXde/Z1eruBi8yk8ZWF4iVlVeqkTSMkanJgdjKCjekYxt/wz0sx2LckI4xqjKYsLS8zA3pGKMKvSEpI9IxRiVXbyK6tMQN6RijotIriESj3JCOMTpTeAkLkSg3pGOMTuYXYH4xwg3p2J594jeEFxa5IR1jlHE0G3PzC9yQjjE6oDuCUHieG9IxRmn7D4HgefWSRvbF3a3Rgpf/aSP8ZzKk2uutGTImhEw1NNudb8+QS0IfJob8gfjPifT09SN135sMeeu+coYMR1dgb3uETZu3iqGTPq9mbGoWO7R/ZciegWHlDDknpNaC0mtihkzdewijkzPimsSP6dnxDGm2d76uV8qQs4sxjE7P4fTl1xlylzYdgZcz4nrehdJ4hrxYZRPXCMUMORVeEukZCIjBijLkTq0OeqM1niHzhQxJ+1KtYoacEOKuhL2jTzFDmloeMXWKGXJkJsJw2+pkMmSJ3iqrUcyQL6YWZRRXWcQM+atwVF8gKNtXzJDPJxdk9A1P41RxFawPuhT3FTPk4MswN2tmyEBwUTUfMuTfuHg7JCEz4Z2yCUnDGPFM2ash3ZpTNg+kU5yyeVlzyuZlzSmbl7dO2Ty8c8pWi6opWw2qp+x3oXrKfhcfpuz/2rVx48aPUlK+/Ua2MRwYAA93DXpkHsvQazTfb4ibDA4+AREVZjA19PV5UVNbDZutDpmZ6Z/Fjbx9j1WbjI2NCgZmPHnigdOZ0EY8Xe2riiNrmszNhdDQUIfOThf6+73o6HSyRi5Xq1g4MTGKiopyzMxOKxqZTEY8fNiK3t4uLCyEQTrGyOFoFgs7OlyoN9XCaKyRmdhsFvxhb0J3dydGR4fFNdIxRk1N5rjA43GjudmGurpa4fOiuNbW5oDVZhL3vN7ueC3pGCOzxRjfnBWO5XI5hTswCXd2Fz5fr/CGbgtrD9DV9Ujcl2pJxxjVGm+9ecivGRsfFu7CjsZGM0wNRuEILcKx2+H3DzJ1pGOMqm9dFzbCDPRW2oWH6XI5xDukZ5NYQzrGqLLyivAWQjLoKC73AzxstyMUmpLtk44xKisrQTg8LSM4MyEecWioX3GfdOxf2uILwm+c5IZ0jNH5gjMgIpGwaiSN7Nufl58LXt63DDk8/AK8yEwGBp6CiAn/yVOLpGGMvN4eLhMJ0rEd0tORlBHpEjpkW1JGpEvokPakjEiX0CFtSRmRjjGyWExJGZGOMTIaDUkZkY7tkNX6pIxIl9AhryVlRLqEDnk5KSPSJXTI35MyIh07ixScB8FjImlkX9z8/Dzw8u/uZ38Cqx5HdHgrjesAAAAASUVORK5CYII=",
e("checkbox/normal.gif"))},"checkbox-focus":function(){return uki.image(e("checkbox/focus.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABdklEQVRIie2Wv0rDUBSHUxRFRHQRFxWRioTeZHEXVxHqYgaRNrmrj+Ai+AAdi6trH0AQh6K05uYpfBQ934m0EnHQcIuDB+5y7/l9J+dPchMEU2sER8P5VjJY2ExeljY6D8v77dHKbvK4+t3iHD/80aFXzhdLBnPN4/tFBE37vN7qjrbDzO2ZTh6GnbExXRdXl+5zLn74o1O9cOB9xjfY3MmGa8Y+bSGO0vGhSYuT2Lqz2BbnUZpfVBf7nOOn/gQWPRwNMslE0iIyh1HqDiLrTuPMXZqsuI5s3hNQX/Zuq6vcz3v44Y8OPRx4H+UKAmpHevrkCi+ubu5e33660KGHo2WmJ5g2SGpImjzJb+DTIJKJcODB1QBMgTZUakm6dQKghwMPrgbQ+ss00DBqWidA2TNpvPC0DxjzzMiVU1H0a5VI9HDgwZ0EKEdTxk+mo14GMmHCgfcf4I8F8DpF3t8D72+y92+R96+p9/vA/402gzt5Bn8VHu0d2HhIetPffvAAAAAASUVORK5CYII=")},
radio:function(){return uki.image(e("radio/normal.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAABsCAYAAABn5uLmAAAGiklEQVRYw+2X/08TdxjH/RP6Z+2XJWeyzMTMjGkkEkmsog4VzSGiA0FUQAPIUHEqMC0i3Rgt66Sj8q0wkG9tgV4RAflij7b0C198du8Ozn6uPe66uGSJXvLO5fk8r+cNP/TeeT579vxXj8nmNTxzvuVbnEtCy8ASyZJqnKOvadLg8HKNDp/Y61khf2id3r8nWahxjj44VZN66xjX2OmmRTFMsY0tVaEPDnySSZnJZrhjdoqzyyEKRTc1BQ485hijyiY739btIv/ahm6BxxxjdO2BRXDPvqOlQExWR1c/fbnvO/riq2/jb9SJffCYY4x+uNNCc/4oowNHTtOpK9WUX9EQf6NWMphjjPIrHpNvOcLImF9O5Q1/UFVzd/yNWslgjjE6V1JHk2/DjPJK66j8sY0qJBO8USsZzDFGOQWVQtfIaxqfC8my9E7Q1dpnVFJnjr9RJ/bBY44xyj57lS+//5yGXwd1CzzmGKMMI2/IzLkotvdPkVMIaAoceMwl/Si/yTrNZZ7gydztpu4pUVXogwOv+pl8fSib23fomMhfryPTn+Nkd/tlocY5+uA0P1yOyzBw+zP5vfsPC3v3Z9IHHRZwjv6eT/yx2QYN9r5XfJdzRJBECRJwjr6mibWzn7N29Yujbi+tBtdoa+u9LNQ4Rx+cqskvVgdnsfeQPxCkza0tVaEPDnxy4JtMhua2DnHFv0obm5uaAgcec2zom8x8t3OI1jc2dAs85hijB03NwuLySlpG4DHHGN2pb6DY+nrawhxjdLv2PkVjsbSFOcbo+q0aCkdjaQtzjFFRaYXgm52jtUhUt8Bjjg3/wqv802etFApHdAs85hgjI88bzuUXilOCj4JrYU2BA4+5pB9lzpk87vzFQvJMeykQWlMV+uDAq34m2TmnuWM534t36x+RyzMlfV8hWahxjj44zQ83I8NoOJJt5LOOGoWsbCPJkmqco/+pJyR2RFPfPN/sXMDOSDtCjfM0dkhB7PMskxiKUeKDGufoa+yQLq7RPknLgShtSsunmtAHBz7FDjlo+LHtL/GttGiuS/msJXDgMccYVZle8lZpMQjFtnQLPOYYo4rGTsG3uEpBaWPdkb1nQNodD27vkAfjdWIfPObYZbS+nVYjm4wOZCl2SKlWMphLWkZXpM0+Ual2SCWTtIwW3GqkRWnlTdT50rvMDolayWCOMcorvS+8ml6gOTEqyzHkoZLtHRJv1Il98JhjjE4XVvF1TzpoZiWiW+Axp0jIMsPx/Jti/8SstD+HNQUOPOaSfpRZZ4q4E/k3qGdMoOmlkKrQBwde9TPJzOE5bKs3655Q1/A0uReCslDjHH1wuhIyI/ssn3H0rCC9SdY/9eeE/NgJ2SsloV9KRPaWHaPedBJyUYxo3LIj2gmZzi1bNSHb+ybTumWDT5mQnjd+5hatJfApE1J5g9ajlAmpvEHrUcqEVN6g9ShlQjrG3jC3aC2BT5mQVY3WtG7Z4FUT0jog6Lplg9s1IY/z1+nXvqldb9nog9OVkEXVTdTy0sPcslHj/HNCfsTH6x00eL3jvFeYEASfi3aEOn7u1XHLdrkGOZd7SJyfn6FwBLfsLVmocY4+OFWTweEebnRsgNbWQoyBUuiDA59kYrPZDL19nWIoFNjVZEfgwGOOMXrxwsK7XKO6THYEHnOMkcXSKqyuikl/1e0ZoQnXUPyt/G/BY44xet76NOkvjow6aWi4VxZqJYM5xqjp54dJUE+PPUlKBnOM0U8P70qNTUYOxwuy2ztkoVYymGOMamurhaWleakZlbW8PE+/236jdos5/kad2AePOcaosvIGb7W20fp6WLfAY44x4qXbcum1YnH2jZei0YCmwIHnU92yL18u4K6VFdPMzCSFw6Kq0AcHXvUzycs7w124cE5sanpE09MTFAyuyEKNc/TBaX64RqPRkJt7kpck5Oaeog9CfZJH/3NCfqSEdG8nZESRkJHthHRrJeTwcD83Pj6oKyHBgU+ZkP1Oh5SQQZ0JGSTwSQnZ1WXjPZ6JtBISPOYYo85OixAIrKZlBB5zyqhNy2RHmGOMWs2mf2WEOcboqakhKf30CHOM0aPH9cLKuwUmAbUEHnOM0b17NbzdbksrIcFjjjEqKyszVFffln7RPl0JCQ485pJ+lOXlZVxNzW2anZ3eNSHRBwde9TMpKStC3IpmczP5fB4mIVHjHH1wmh8uAv1KUQFfVHxJKCoupA+6JOA8ZeD/L5+/ASNtA71vTxEVAAAAAElFTkSuQmCC",
e("radio/normal.gif"))},"radio-focus":function(){return uki.image(e("radio/focus.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABcElEQVRIx92VP0oEMRTGt9ADeAERq21E8ACLNp7AUrRbWdzdDDa6IBhnM5YqaCPCiiewyPzBA1gK1oIsHsNCNL9owBl1HYWM6MBjSPK+7+W99yWp1X7jm5dyrLUVTwTyYqotdb0dJjOdUM86Y8w86/jhX5q82TwZF1JPrkd6rtNPF40tiTBb7qps1Rlj5lnHD39wpchbMp4WKmmIKF0x/+0gSg8DlZ0KlZ05Y8w8669+DXAjgzjy7m68IPrJmoiS/Y29S907vr7fGdw+hOfDJ2eMmWcdP/zBfRqEGpKm3TnkKj3aPLi6kYO7x7fERWMdP/xfcAZveN71hEbZWpKu2RGgUcRFs0HIxODhgS8XADXQMGpK2l/t/KNMbLkMHh74cgGQHKqgcdT2O+TOwIGHB758AKNrpIc6ig0ta+Cs2gwPfLkAHB6rbyPBn5A7Aw8PfP8sgPceeFeR93Pg/SR7v4u836aVvAeVvGiVvMl/7nsGaBHOn+3vxvEAAAAASUVORK5CYII=")}},
imageSrcs:{x:function(){return[e("x.gif"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="]},"splitPane-horizontal":function(){return[e("splitPane/horizontal.gif"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAICAYAAAA870V8AAAAFUlEQVQIW2MoLy//zwAEYJq6HGQAAJuVIXm0sEPnAAAAAElFTkSuQmCC"]},"splitPane-vertical":function(){return[e("splitPane/vertical.gif"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAADCAYAAABfwxXFAAAAE0lEQVQIHWMsLy//z0AOYMSnEwAIngTLoazFLgAAAABJRU5ErkJggg=="]}},
templates:{"table-header-cell":function(){return new uki.theme.Template('<div style="position:relative;border-right:1px solid #CCC;${style}" class="${className}">${data}</div>')},"table-cell":function(){return new uki.theme.Template('<div style="position:relative;border-right:1px solid #CCC;height:100%;${style}" class="${className}">${data}</div>')},"table-header-cell-asc":function(){return new uki.theme.Template('<div style="position:relative;border-right:1px solid #CCC;background: rgba(0,0,128,0.1);${style}" class="${className}"><div style="padding-right:7px">${data}</div><span style="position:absolute;right:0;top:50%;margin-top:-7px;">&darr;</span></div>')},
"table-header-cell-desc":function(){return new uki.theme.Template('<div style="position:relative;border-right:1px solid #CCC;background: rgba(0,0,128,0.1);${style}" class="${className}"><div style="padding-right:7px">${data}</div><span style="position:absolute;right:0;top:50%;margin-top:-7px;">&uarr;</span></div>')}},doms:{resizer:function(j){var h=new uki.theme.Template("position:absolute;width:5px;top:0;right:-3px;height:${height}px;cursor:col-resize;cursor:ew-resize;z-index:101;background:url("+
uki.theme.imageSrc("x")+")");j=uki.createElement("div",h.render({height:j}));if(!j.style.cursor||window.opera)j.style.cursor="e-resize";return j},"splitPane-vertical":function(j){j=j.handleWidth==1?uki.createElement("div","position:absolute;z-index:100;-moz-user-focus:none;font-family:Arial,Helvetica,sans-serif;width:100%;height:5px;margin-top:-2px;cursor:row-resize;cursor:ns-resize;z-index:200;overflow:hidden;background: url("+uki.theme.imageSrc("x")+")",'<div style="position:absolute;z-index:100;-moz-user-focus:none;font-family:Arial,Helvetica,sans-serif;background:#999;width:100%;height:1px;left:0px;top:2px;overflow:hidden;"></div>'):
uki.createElement("div","position:absolute;z-index:100;-moz-user-focus:none;font-family:Arial,Helvetica,sans-serif;width:100%;height:"+(j.handleWidth-2)+"px;border: 1px solid #CCC;border-width: 1px 0;cursor:row-resize;cursor:ns-resize;z-index:200;overflow:hidden;background: url("+uki.theme.imageSrc("splitPane-vertical")+") 50% 50% no-repeat;");if(!j.style.cursor||window.opera)j.style.cursor="n-resize";return j},"splitPane-horizontal":function(j){j=j.handleWidth==1?uki.createElement("div","position:absolute;z-index:100;-moz-user-focus:none;font-family:Arial,Helvetica,sans-serif;height:100%;width:5px;margin-left:-2px;cursor:col-resize;cursor:ew-resize;z-index:200;overflow:hidden;background: url("+
uki.theme.imageSrc("x")+")",'<div style="position:absolute;z-index:100;-moz-user-focus:none;font-family:Arial,Helvetica,sans-serif;background:#999;height:100%;width:1px;top:0px;left:2px;overflow:hidden;"></div>'):uki.createElement("div","position:absolute;z-index:100;-moz-user-focus:none;font-family:Arial,Helvetica,sans-serif;height:100%;width:"+(j.handleWidth-2)+"px;border: 1px solid #CCC;border-width: 0 1px;cursor:col-resize;cursor:ew-resize;z-index:200;overflow:hidden;background: url("+uki.theme.imageSrc("splitPane-horizontal")+
") 50% 50% no-repeat;");if(!j.style.cursor||window.opera)j.style.cursor="e-resize";return j}},styles:{base:function(){return"font-family:Arial,Helvetica,sans-serif;"},label:function(){return"font-size:12px;"},button:function(){return"color:#333;text-align:center;font-weight:bold;text-shadow:0 1px 0 rgba(255,255,255,0.6);"},input:function(){return"font-size:12px;"}}});uki.theme.airport.backgrounds["slider-handle-down"]=uki.theme.airport.backgrounds["slider-handle-hover"];uki.theme.airport.backgrounds["toolbar-popup"]=
uki.theme.airport.backgrounds["popup-normal"];uki.theme.airport.backgrounds["toolbar-popup-button-disabled"]=uki.theme.airport.backgrounds["toolbar-popup-button-normal"];uki.theme.register(uki.theme.airport)})();uki.data={};var ua=window&&window.JSON?window.JSON:{};ua.stringify||function(){function e(n){return n<10?"0"+n:n}function b(n){f.lastIndex=0;return f.test(n)?'"'+n.replace(f,function(s){var v=k[s];return typeof v==="string"?v:"\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+
n+'"'}function d(n,s){var v,r,w=j,g,t=s[n];if(t&&typeof t==="object"&&typeof t.toJSON==="function")t=t.toJSON(n);if(typeof m==="function")t=m.call(s,n,t);switch(typeof t){case "string":return b(t);case "number":return isFinite(t)?String(t):"null";case "boolean":case "null":return String(t);case "object":if(!t)return"null";j+=h;g=[];if(Object.prototype.toString.apply(t)==="[object Array]"){r=t.length;for(n=0;n<r;n+=1)g[n]=d(n,t)||"null";s=g.length===0?"[]":j?"[\n"+j+g.join(",\n"+j)+"\n"+w+"]":"["+
g.join(",")+"]";j=w;return s}if(m&&typeof m==="object"){r=m.length;for(n=0;n<r;n+=1){v=m[n];if(typeof v==="string")if(s=d(v,t))g.push(b(v)+(j?": ":":")+s)}}else for(v in t)if(Object.hasOwnProperty.call(t,v))if(s=d(v,t))g.push(b(v)+(j?": ":":")+s);s=g.length===0?"{}":j?"{\n"+j+g.join(",\n"+j)+"\n"+w+"}":"{"+g.join(",")+"}";j=w;return s}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+
e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j,h,k={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},m;if(typeof ua.stringify!=="function")ua.stringify=function(n,
s,v){var r;h=j="";if(typeof v==="number")for(r=0;r<v;r+=1)h+=" ";else if(typeof v==="string")h=v;if((m=s)&&typeof s!=="function"&&(typeof s!=="object"||typeof s.length!=="number"))throw new Error("JSON.stringify");return d("",{"":n})}}();uki.extend(uki,{parseJSON:function(e){if(typeof e!=="string"||!e)return null;e=uki.trim(e);if(/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
"")))return window.JSON&&window.JSON.parse?window.JSON.parse(e):(new Function("return "+e))();else throw"Invalid JSON: "+e;},stringifyJSON:function(e){return ua.stringify(e)}});(function(){var e=+new Date,b=/=\?(&|$)/,d=/\?/,f=/(\?|&)_=.*?(&|$)/,j=/^(\w+:)?\/\/([^\/?#]+)/,h=/%20/g,k=/\S/,m=function(){};uki.extend(uki,{globalEval:function(r){if(r&&k.test(r)){var w=document.getElementsByTagName("head")[0]||document.documentElement,g=document.createElement("script");g.type="text/javascript";if(uki.scriptEval)g.appendChild(document.createTextNode(r));
else g.text=r;w.insertBefore(g,w.firstChild);w.removeChild(g)}},scriptEval:false});var n=document.createElement("script"),s="script"+e;n.type="text/javascript";try{n.appendChild(document.createTextNode("window."+s+"=1;"))}catch(v){}document.documentElement.insertBefore(n,document.documentElement.firstChild);if(window[s]){uki.scriptEval=true;delete window[s]}uki.extend(uki,{get:function(r,w,g,t){if(uki.isFunction(w)){t=t||g;g=w;w=null}return uki.ajax({type:"GET",url:r,data:w,success:g,dataType:t})},
getScript:function(r,w){return uki.get(r,null,w,"script")},getJSON:function(r,w,g){return uki.get(r,w,g,"json")},post:function(r,w,g,t){if(uki.isFunction(w)){t=t||g;g=w;w={}}return uki.ajax({type:"POST",url:r,data:w,success:g,dataType:t})},ajaxSetup:function(r){uki.extend(uki.ajaxSettings,r)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:window.XMLHttpRequest&&(window.location.protocol!=="file:"||!window.ActiveXObject)?
function(){return new window.XMLHttpRequest}:function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(r){}},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},etag:{},ajax:function(r){function w(){t.success&&t.success.call(O,S,G,N)}function g(){t.complete&&t.complete.call(O,N,G)}var t=uki.extend({},uki.ajaxSettings,r),D,G,S,O=r&&r.context||
t,P=t.type.toUpperCase();if(t.data&&t.processData&&typeof t.data!=="string")t.data=uki.param(t.data,t.traditional);if(t.dataType==="jsonp"){if(P==="GET")b.test(t.url)||(t.url+=(d.test(t.url)?"&":"?")+(t.jsonp||"callback")+"=?");else if(!t.data||!b.test(t.data))t.data=(t.data?t.data+"&":"")+(t.jsonp||"callback")+"=?";t.dataType="json"}if(t.dataType==="json"&&(t.data&&b.test(t.data)||b.test(t.url))){D=t.jsonpCallback||"jsonp"+e++;if(t.data)t.data=(t.data+"").replace(b,"="+D+"$1");t.url=t.url.replace(b,
"="+D+"$1");t.dataType="script";window[D]=window[D]||function(o){S=o;w();g();window[D]=undefined;try{delete window[D]}catch(q){}fa&&fa.removeChild(ba)}}if(t.dataType==="script"&&t.cache===null)t.cache=false;if(t.cache===false&&P==="GET"){var R=+new Date,ma=t.url.replace(f,"$1_="+R+"$2");t.url=ma+(ma===t.url?(d.test(t.url)?"&":"?")+"_="+R:"")}if(t.data&&P==="GET")t.url+=(d.test(t.url)?"&":"?")+t.data;R=(R=j.exec(t.url))&&(R[1]&&R[1]!==location.protocol||R[2]!==location.host);if(t.dataType==="script"&&
P==="GET"&&R){var fa=document.getElementsByTagName("head")[0]||document.documentElement,ba=document.createElement("script");ba.src=t.url;if(t.scriptCharset)ba.charset=t.scriptCharset;if(!D){var ra=false;ba.onload=ba.onreadystatechange=function(){if(!ra&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){ra=true;w();g();ba.onload=ba.onreadystatechange=null;fa&&ba.parentNode&&fa.removeChild(ba)}}}fa.insertBefore(ba,fa.firstChild)}else{var ha=false,N=t.xhr();if(N){t.username?
N.open(P,t.url,t.async,t.username,t.password):N.open(P,t.url,t.async);try{if(t.data||r&&r.contentType)N.setRequestHeader("Content-Type",t.contentType);if(t.ifModified){uki.lastModified[t.url]&&N.setRequestHeader("If-Modified-Since",uki.lastModified[t.url]);uki.etag[t.url]&&N.setRequestHeader("If-None-Match",uki.etag[t.url])}R||N.setRequestHeader("X-Requested-With","XMLHttpRequest");N.setRequestHeader("Accept",t.dataType&&t.accepts[t.dataType]?t.accepts[t.dataType]+", */*":t.accepts._default)}catch(va){}if(t.beforeSend&&
t.beforeSend.call(O,N,t)===false){N.abort();return false}var ja=N.onreadystatechange=function(o){if(!N||N.readyState===0||o==="abort"){ha||g();ha=true;if(N)N.onreadystatechange=m}else if(!ha&&N&&(N.readyState===4||o==="timeout")){ha=true;N.onreadystatechange=m;G=o==="timeout"?"timeout":!uki.httpSuccess(N)?"error":t.ifModified&&uki.httpNotModified(N,t.url)?"notmodified":"success";var q;if(G==="success")try{S=uki.httpData(N,t.dataType,t)}catch(x){G="parsererror";q=x}if(G==="success"||G==="notmodified")D||
w();else uki.handleError(t,N,G,q);g();o==="timeout"&&N.abort();if(t.async)N=null}};try{var wa=N.abort;N.abort=function(){N&&wa.call(N);ja("abort")}}catch(c){}t.async&&t.timeout>0&&setTimeout(function(){N&&!ha&&ja("timeout")},t.timeout);try{N.send(P==="POST"||P==="PUT"||P==="DELETE"?t.data:null)}catch(l){uki.handleError(t,N,null,l);g()}t.async||ja();return N}}},handleError:function(r,w,g,t){if(r.error)r.error.call(r.context||r,w,g,t)},active:0,httpSuccess:function(r){try{return!r.status&&location.protocol===
"file:"||r.status>=200&&r.status<300||r.status===304||r.status===1223||r.status===0}catch(w){}return false},httpNotModified:function(r,w){var g=r.getResponseHeader("Last-Modified"),t=r.getResponseHeader("Etag");if(g)uki.lastModified[w]=g;if(t)uki.etag[w]=t;return r.status===304||r.status===0},httpData:function(r,w,g){var t=r.getResponseHeader("content-type")||"",D=w==="xml"||!w&&t.indexOf("xml")>=0;r=D?r.responseXML:r.responseText;if(D&&r.documentElement.nodeName==="parsererror")throw"parsererror";
if(g&&g.dataFilter)r=g.dataFilter(r,w);if(typeof r==="string")if(w==="json"||!w&&t.indexOf("json")>=0)r=uki.parseJSON(r);else if(w==="script"||!w&&t.indexOf("javascript")>=0)uki.globalEval(r);return r},param:function(r,w){function g(S,O){if(uki.isArray(O))uki.each(O,function(P,R){w||/\[\]$/.test(S)?t(S,R):g(S+"["+(typeof R==="object"||uki.isArray(R)?P:"")+"]",R)});else!w&&O!=null&&typeof O==="object"?uki.each(O,function(P,R){g(S+"["+P+"]",R)}):t(S,O)}function t(S,O){O=uki.isFunction(O)?O():O;D[D.length]=
encodeURIComponent(S)+"="+encodeURIComponent(O)}var D=[];if(w===undefined)w=uki.ajaxSettings.traditional;if(uki.isArray(r)||r.uki)uki.each(r,function(){t(this.name,this.value)});else for(var G in r)g(G,r[G]);return D.join("&").replace(h,"+")}})})();uki.data.Observable={bind:function(e,b){var d=this;b.huid=b.huid||uki.guid++;uki.each(e.split(" "),function(f,j){d._observersFor(j).push(b)})},unbind:function(e,b){var d=this;uki.each(e.split(" "),function(f,j){d._observers[j]=!b?[]:uki.grep(d._observersFor(j),
function(h){return h!=b&&h.huid!=b.huid});d._observers[j]&&delete d._observers[j]})},trigger:function(e){var b=Array.prototype.slice.call(arguments,1);uki.each(this._observersFor(e,true),function(d,f){f.apply(this,b)},this)},_observersFor:function(e,b){if(b&&(!this._observers||!this._observers[e]))return[];if(!this._observers)this._observers={};this._observers[e]||(this._observers[e]=[]);return this._observers[e]}};uki.data.Model=uki.newClass(uki.data.Observable,function(){this._fields=[];this.init=
function(e){this.update(e||{})};this.fields=function(){return this._fields};this.update=function(e){var b=[],d={};uki.each(e,function(f,j){var h=uki.isFunction(this[f])?"_"+f:f;if(this[h]!=j){d[f]=true;b.push(f);this[h]=j;this.trigger("change."+f,{model:this})}},this);b.length&&this.trigger("change",{changes:d,fields:b,model:this});return this}});uki.data.model={_newProp:function(e){return uki.newProp("_"+e,function(b){var d={};d[e]=b;this.update(d)})},addFields:function(e,b){for(var d=0;d<b.length;d++)e[b[d]]=
uki.data.model._newProp(b[d]);e._fields=b.concat(e._fields||[])},newLoader:function(e,b){return function(d){d=d||uki.F;if(this["loaded."+e])d.call(this,this[e]());else{this.bind("load."+e,d);if(!this["loading."+e]){this["loading."+e]=true;uki.ajax(uki.extend({url:uki.isFunction(b.url)?b.url.call(this):b.url,data:uki.isFunction(b.data)?b.data.call(this):b.data?b.data:{id:this.id()},success:uki.proxy(function(f){this["loading."+e]=false;this["loaded."+e]=true;b.setter?b.setter.call(this,f):(this["_"+
e]=f);this.trigger("load."+e,f);this.unbind("load."+e)},this)},b.ajaxOptions||{}))}}}}};uki.more={};uki.more.utils={range:function(e,b){for(var d=new Array(b-e),f=0;e<=b;e++,f++)d[f]=e;return d}};uki.extend(uki,uki.more.utils);uki.more.view={};uki.viewNamespaces.push("uki.more.view.");uki.more.view.treeList={};uki.view.declare("uki.more.view.TreeList",uki.view.List,function(e){function b(f,j,h){for(j=j;j<f.length;j++)f[j]+=h}function d(f){f=uki.attr(f,"children");for(var j=f.length,h=0;h<f.length;h++)if(f[h].__opened)j+=
d(f[h]);return j}this._setup=function(){e._setup.call(this);this._render=new uki.more.view.treeList.Render;this._lastOpenIndex=-1};this.listData=e.data;this.data=uki.newProp("_treeData",function(f){this._treeData=f;this._data=this._treeNodeToListData(f);f=false;for(var j=this.listData().length-1;j>=0;j--)if(this._data[j].__opened){f=true;this._openSubElement(j)}this.listData(this._data);f&&this.trigger("open")});this._treeNodeToListData=function(f,j){j=j||0;return uki.map(f,function(h){h.__indent=
j;return h})};this.toggle=function(f){this._data[f].__opened?this.close(f):this.open(f)};this._openSubElement=function(f){var j=this._data[f],h=uki.attr(j,"children");if(!h||!h.length)return 0;var k=h.length;j.__opened=true;this._data.splice.apply(this._data,[f+1,0].concat(this._treeNodeToListData(h,j.__indent+1)));for(j=h.length-1;j>=0;j--)if(this._data[f+1+j].__opened)k+=this._openSubElement(f+1+j);return k};this.lastOpenIndex=function(){return this._lastOpenIndex};this.open=function(f){if(this._data[f].__opened)return this;
var j=this._openSubElement(f),h=uki.binarySearch(f,this._selectedIndexes),k=this._lastClickIndex,m=this._selectedIndexes;this.clearSelection(true);b(m,h+(m[h]==f?1:0),j);this.listData(this._data);this.selectedIndexes(m);this._lastClickIndex=k>f?k+j:k;this._lastOpenIndex=f;this.trigger("open");return this};this.close=function(f){var j=this._data[f],h=this._selectedIndexes,k=uki.attr(j,"children");if(!(!k||!k.length||!j.__opened)){k=d(j);j.__opened=false;this._data.splice(f+1,k);j=uki.binarySearch(f,
h);for(var m=j+(h[j]==f?1:0),n=0,s=this._lastClickIndex;h[m+n]&&h[m+n]<=f+k;)n++;this.clearSelection(true);b(h,m,-k);n>0&&h.splice(j,n);this.listData(this._data);this.selectedIndexes(h);this._lastClickIndex=s>f?s-k:s;this.trigger("close")}};this._mousedown=function(f){if(f.target.className.indexOf("toggle-tree")>-1){var j=uki.dom.offset(this._dom);this.toggle((f.pageY-j.y)/this._rowHeight<<0)}else e._mousedown.call(this,f)};this._keypress=function(f){e._keypress.call(this,f);f=f.domEvent;if(f.which==
39||f.keyCode==39)this.open(this._lastClickIndex);else if(f.which==37||f.keyCode==37)this.close(this._lastClickIndex)};this.treeData=function(){return this._data}});uki.Collection.addAttrs(["lastOpenIndex","treeData"]);uki.more.view.treeList.Render=uki.newClass(uki.view.list.Render,new (function(){this._parentTemplate=new uki.theme.Template('<div class="${classPrefix}-row ${classPrefix}-${opened}" style="margin-left:${indent}px"><div class="${classPrefix}-toggle"><i class="toggle-tree"></i></div>${text}</div>');
this._leafTemplate=new uki.theme.Template('<div class="${classPrefix}-row" style="margin-left:${indent}px">${text}</div>');this.initStyles=function(){this.classPrefix="treeList-"+uki.guid++;var e=(new uki.theme.Template(".${classPrefix}-row { color: #333; position:relative; padding-top:3px; } .${classPrefix}-toggle { overflow: hidden; position:absolute; left:-15px; top:5px; width: 10px; height:9px; } .${classPrefix}-toggle i { display: block; position:absolute; left: 0; top: 0; width:20px; height:18px; background: url(${imageSrc});} .${classPrefix}-selected { background: #3875D7; } .${classPrefix}-selected .${classPrefix}-row { color: #FFF; } .${classPrefix}-selected i { left: -10px; } .${classPrefix}-selected-blured { background: #CCCCCC; } .${classPrefix}-opened i { top: -9px; }")).render({classPrefix:this.classPrefix,
imageSrc:"i/arrows.png"});uki.dom.createStylesheet(e)};this.render=function(e){this.classPrefix||this.initStyles();var b=e.data,d=uki.attr(e,"children");return d&&d.length?this._parentTemplate.render({text:b,indent:e.__indent*18+22,classPrefix:this.classPrefix,opened:e.__opened?"opened":""}):this._leafTemplate.render({text:b,indent:e.__indent*18+22,classPrefix:this.classPrefix})};this.setSelected=function(e,b,d,f){e.className=!d?"":f?this.classPrefix+"-selected":this.classPrefix+"-selected-blured"}}));
uki.view.declare("uki.more.view.ToggleButton",uki.view.Button,function(e){this._setup=function(){e._setup.call(this);this._focusable=false};this.value=this.checked=uki.newProp("_checked",function(b){this._checked=!!b;this._updateBg()});this._updateBg=function(){this._backgroundByName(this._disabled?"disabled":this._down||this._checked?"down":this._over?"hover":"normal")};this._mouseup=function(){if(this._down){this._down=false;this._disabled||this.checked(!this.checked())}}});uki.view.declare("uki.more.view.RadioButton",
uki.more.view.ToggleButton,function(){var e=uki.view.Radio;this.group=uki.newProp("_group",function(b){e.unregisterGroup(this);this._group=b;e.registerGroup(this);this.checked()&&e.clearGroup(this)});this.value=this.checked=uki.newProp("_checked",function(b){this._checked=!!b;b&&e.clearGroup(this);this._updateBg()});this._mouseup=function(){if(this._down){this._down=false;if(!this._checked&&!this._disabled){this.checked(!this._checked);this.trigger("change",{checked:this._checked,source:this})}}}});
uki.more.view.splitTable={};uki.view.declare("uki.more.view.SplitTable",uki.view.Container,function(e){var b=uki.geometry.Rect,d=uki.geometry.Size,f="rowHeight data packSize visibleRectExt render selectedIndex focusable textSelectable multiselect".split(" ");this._defaultHandlePosition=200;this._headerHeight=17;this._style=function(m,n){this._leftHeader.style(m,n);this._rightHeader.style(m,n);return e._style.call(this,m,n)};this.columns=uki.newProp("_columns",function(m){this._columns=uki.build(m);
this._totalWidth=0;this._leftHeader.columns([this._columns[0]]);this._columns[0].bind("beforeResize",uki.proxy(this._syncHandlePosition,this,this._columns[0]));for(m=1;m<this._columns.length;m++){this._columns[m].position(m-1);this._columns[m].bind("beforeResize",uki.proxy(this._rightColumnResized,this,this._columns[m]))}this._updateTotalWidth();this._rightHeader.columns(Array.prototype.slice.call(this._columns,1));this._splitPane.leftMin(this._columns[0].minWidth()-1);this._syncHandlePosition(this._splitPane)});
uki.each(f,function(m,n){this[n]=function(s){if(s===undefined)return this._leftList[n]();this._leftList[n](s);this._rightList[n](s);return this}},this);this.hasFocus=function(){return this._leftList.hasFocus()||this._rightList.hasFocus()};this.rightColumns=function(){return this._rightHeader.columns()};this._rightColumnResized=function(){this._updateTotalWidth();this._horizontalScroll.layout()};this.rowHeight=function(m){if(m===undefined)return this._leftList.rowHeight();this._leftList.rowHeight(m);
this._rightList.rowHeight(m);return this};this.data=function(m){if(m===undefined)return uki.map(this._leftList.data(),function(n,s){return[n].concat(this._rightList.data()[s])},this);this._leftList.data(uki.map(m,function(n){return[n[0]]}));this._rightList.data(uki.map(m,function(n){return n.slice(1)}));this._splitPane.minSize(new d(0,this._leftList.minSize().height));this._verticalScroll.layout()};this._createDom=function(){e._createDom.call(this);var m=uki.view.ScrollPane.initScrollWidth(),n=this.rect().height-
this._headerHeight-m;uki([{view:"table.Header",rect:new b(this._defaultHandlePosition,this._headerHeight),anchors:"left top"},{view:"Box",className:"table-header-container",style:{overflow:"hidden"},rect:new b(this._defaultHandlePosition,0,this.rect().width-this._defaultHandlePosition-1,this._headerHeight),anchors:"left top right",childViews:{view:"table.Header",rect:new b(this.rect().width-this._defaultHandlePosition-1,this._headerHeight),anchors:"top left right",className:"table-header"}},{view:"ScrollPane",
rect:new b(0,this._headerHeight,this.rect().width,n),anchors:"left top right bottom",className:"table-v-scroll",scrollV:true,childViews:[{view:"HSplitPane",rect:new b(this.rect().width,n),anchors:"left top right bottom",className:"table-horizontal-split-pane",handlePosition:this._defaultHandlePosition,handleWidth:1,leftChildViews:[{view:"List",rect:new b(this._defaultHandlePosition,n),anchors:"left top right bottom",className:"table-list-left"}],rightChildViews:[{view:"Box",rect:"0 0 100 100",anchors:"left top right bottom",
style:{overflow:"hidden"},rect:new b(this.rect().width-this._defaultHandlePosition-1,n),childViews:{view:"ScrollPane",rect:new b(this.rect().width-this._defaultHandlePosition-1,n+m),scrollableV:false,scrollableH:true,anchors:"left top right bottom",className:"table-h-scroll",childViews:[{view:"List",rect:new b(this.rect().width-this._defaultHandlePosition-1,n+m),anchors:"left top right bottom"}]}}]}]},{view:"ScrollPane",rect:new b(this._defaultHandlePosition+1,n+this._headerHeight,this.rect().width-
this._defaultHandlePosition-1,m),anchors:"left bottom right",scrollableH:true,scrollableV:false,scrollH:true,className:"table-h-scroll-bar",childViews:{view:"Box",rect:"1 1",anchors:"left top"}}]).appendTo(this);this._verticalScroll=uki("ScrollPane[className=table-v-scroll]",this)[0];this._horizontalScroll=uki("ScrollPane[className=table-h-scroll]",this)[0];this._horizontalScrollBar=uki("ScrollPane[className=table-h-scroll-bar]",this)[0];this._leftList=uki("List:eq(0)",this)[0];this._rightList=uki("List:eq(1)",
this)[0];this._splitPane=uki("HSplitPane",this)[0];this._leftHeader=uki("table.Header:eq(0)",this)[0];this._rightHeader=uki("table.Header:eq(1)",this)[0];this._rightHeaderContainer=uki("[className=table-header-container]",this)[0];this._dummyScrollContents=uki("Box",this._horizontalScrollBar);this._leftList._scrollableParent=this._verticalScroll;this._rightList._scrollableParent=this._verticalScroll;this._verticalScroll.bind("scroll",uki.proxy(this._leftList._scrollableParentScroll,this._leftList));
this._verticalScroll.bind("scroll",uki.proxy(this._rightList._scrollableParentScroll,this._rightList));this._leftList.render(new uki.more.view.splitTable.Render(this._leftHeader));this._rightList.render(new uki.more.view.splitTable.Render(this._rightHeader));this._bindEvents()};this._bindEvents=function(){this._splitPane.bind("handleMove",uki.proxy(this._syncHandlePosition,this,this._splitPane));this._horizontalScroll.bind("scroll",uki.proxy(this._syncHScroll,this,this._horizontalScroll));this._horizontalScrollBar.bind("scroll",
uki.proxy(this._syncHScroll,this,this._horizontalScrollBar));this._leftList.bind("selection",uki.proxy(this._syncSelection,this,this._leftList));this._rightList.bind("selection",uki.proxy(this._syncSelection,this,this._rightList))};var j=false;this._syncHandlePosition=function(m){if(!j){j=true;var n;if(m==this._splitPane){m=this._splitPane.handlePosition()+1;this.columns()[0].width(m)}else{m=this.columns()[0].width();this._splitPane.handlePosition(m-1).layout()}this._leftHeader.rect(new b(m,this._headerHeight)).layout();
n=this._rightHeaderContainer.rect().clone();n.x=m;n.width=this._rect.width-m-uki.view.ScrollPane.initScrollWidth();this._rightHeaderContainer.rect(n).layout();n=this._horizontalScrollBar.rect().clone();n.x=m;n.width=this._rect.width-m-uki.view.ScrollPane.initScrollWidth();this._horizontalScrollBar.rect(n).layout();j=false}};var h=false;this._syncHScroll=function(m){if(!h){h=true;var n=m==this._horizontalScroll?this._horizontalScrollBar:this._horizontalScroll;m=m.scrollLeft();n.scrollLeft(m);this._rightHeader.dom().style.marginLeft=
-m+"px";h=false}};var k=false;this._syncSelection=function(m){if(!k){k=true;(m==this._leftList?this._rightList:this._leftList).selectedIndexes(m.selectedIndexes());k=false}};this._updateTotalWidth=function(){this._totalWidth=0;for(var m=1;m<this._columns.length;m++)this._totalWidth+=this._columns[m].width();this._rightHeader.minSize(new d(this._totalWidth,0));this._rightList.minSize(new d(this._totalWidth,this._rightList.minSize().height));this._dummyScrollContents.rect(new b(this._totalWidth,1)).parent().layout();
this._rightHeader.minSize(new d(this._totalWidth,0));this._horizontalScroll.layout()}});uki.more.view.splitTable.Render=uki.newClass(uki.view.table.Render,new function(){this.setSelected=function(e,b,d,f){f=true;e.style.backgroundColor=d&&f?"#3875D7":d?"#CCC":"";e.style.color=d&&f?"#FFF":"#000"}});uki.view.declare("uki.more.view.Form",uki.view.Container,function(e){this._setup=function(){e._setup.call(this);uki.extend(this,{_method:"GET",_action:""})};this.action=uki.newProp("_action",function(b){this._dom.action=
this._action=b});this.method=uki.newProp("_method",function(b){this._dom.method=this._method=b});this.submit=function(){this._dom.submit()};this.reset=function(){this._dom.reset()};this._createDom=function(){this._dom=uki.createElement("form",e.defaultCss);this._initClassName();this._dom.action=this._action;this._dom.method=this._method}});uki.view.declare("uki.more.view.Select",uki.view.Checkbox,function(e){this._backgroundPrefix="select-";this._popupBackground="theme(select-popup)";this._listBackground=
"theme(select-list)";this._popupOffset=0;this._setup=function(){e._setup.call(this);this._inset=new uki.geometry.Inset(0,20,0,4);this._focusable=this._selectFirst=true;this._options=[];this._maxPopupHeight=200;this._lastScroll=0};this.Render=uki.newClass(uki.view.list.Render,function(){this.render=function(b){return'<span style="line-height: 22px; text-align: left; white-space: nowrap; margin: 0 4px; cursor: default">'+b+"</span>"};this.setSelected=function(b,d,f){b.style.backgroundColor=f?"#3875D7":
"";b.style.color=f?"#FFF":"#000"}});this.selectFirst=uki.newProp("_selectFirst");this.opened=function(){return this._popup.visible()&&this._popup.parent()};this.popupAnchors=function(b){if(b===undefined)return this._popup.anchors();this._popup.anchors(b);return this};this._createDom=function(){e._createDom.call(this);this.style({fontWeight:"normal",textAlign:"left"});this._label.style.overflow="hidden";this._popup=uki({view:"Popup",anchors:"left top",rect:"100 100",style:{zIndex:1E3},offset:this._popupOffset,
background:this._popupBackground,relativeTo:this,visible:false,childViews:[{view:"ScrollPane",rect:"100 100",anchors:"left top right bottom",childViews:[{view:"List",rect:"100 100",anchors:"left top right bottom",rowHeight:22,textSelectable:false,focusable:true,background:this._listBackground,render:new this.Render,style:{fontSize:"12px"}}]}]})[0];this._popup.hide();this._list=uki("List",this._popup)[0];this._scroll=uki("ScrollPane",this._popup)[0];this._popup.bind("toggle",uki.proxy(function(){this._down=
this._popup.visible();if(this._popup.visible()){this._updateWidth();this._scroll.scrollTop(this._lastScroll)}this._checked=this._popup.visible();this._updateBg()},this));this.bind(this._list.keyPressEvent(),function(b){if(this.preventTransfer)this.preventTransfer=false;else this._popup.visible()&&this._list.trigger(b.type,b)});this.bind("blur",function(){setTimeout(uki.proxy(function(){if(!this._hasFocus&&this.opened()){this._lastScroll=this._scroll.scrollTop();this._popup.hide()}},this),50)});this._list.bind("focus",
uki.proxy(function(){this._hasFocus=false;this.focus()},this));this._list.bind("click",uki.proxy(this.selectCurrent,this))};this.contentsSize=function(b){var d=this.html();this.html(this._longestText);b=e.contentsSize.call(this,b);this.html(d);return b};this._keydown=function(b){if((b.which==32||b.which==13)&&this._popup.visible())this.selectCurrent(b);else if((b.which==40||b.which==38)&&!this._popup.visible()){this._popup.toggle();b.preventDefault();this.preventTransfer=true}else e._keydown.call(this,
b)};this.selectCurrent=function(b){this.selectedIndex()==-1?this.text(this._selectFirst&&this._options[0]?this._options[0].text:""):this.text(this._options[this.selectedIndex()].text);this._lastScroll=this._scroll.scrollTop();this._popup.hide();b&&this.trigger("change",{source:this})};this.value=function(b){if(b===undefined)return this._options[this.selectedIndex()]?this._options[this.selectedIndex()].value:undefined;else{var d=-1,f,j=this._options.length,h;for(h=0;h<j;h++){f=this._options[h];if(f.value==
b){d=h;break}}this.selectedIndex(d);this.selectCurrent()}};this.maxPopupHeight=uki.newProp("_maxPopupHeight");this._updateWidth=function(){if(!(this._widthCached||!this._options.length)){var b=this._list.dom().firstChild.firstChild.firstChild,d=b.innerHTML;b.innerHTML=this._longestText;this._widthCached=b.offsetWidth+8;b.innerHTML=d;this._popup.rect(new uki.geometry.Rect(this._popup.rect().x,this._popup.rect().y,Math.max(this._widthCached,this.rect().width),Math.min(this._maxPopupHeight,this._options.length*
22))).layout()}};this.options=uki.newProp("_options",function(b){this._options=b;this._list.data(uki.map(b,"text")).selectedIndex(0);this._selectFirst&&b.length>0&&this.text(b[0].text);this._longestText="";uki.each(b,function(d,f){if(f.text.length>this._longestText.length)this._longestText=f.text},this);this._widthCached=false;this._lastScroll=0});uki.delegateProp(this,"selectedIndex","_list");this._updateBg=function(){return e._updateBg.call(this)};this._mousedown=function(b){e._mousedown.call(this,
b);if(!this.disabled()){this._popup.toggle();this.trigger("toggle",{opened:this.opened()})}};this._mouseup=function(){if(this._down)this._down=false}});uki.Collection.addAttrs(["options"]);(function(){function e(d,f){return new uki.background.CssBox((f||"")+"background: url("+uki.theme.imageSrc(d)+"); background-position: 100% 50%; background-repeat: no-repeat;")}var b=uki.extend({},uki.theme.Base,{backgrounds:{"select-normal":function(){return new uki.background.Multi(e("select-handle-normal"),uki.theme.background("button-normal"))},
"select-hover":function(){return new uki.background.Multi(e("select-handle-normal"),uki.theme.background("button-hover"))},"select-checked-normal":function(){return new uki.background.Multi(e("select-handle-normal"),uki.theme.background("button-down"))},"select-disabled":function(){return new uki.background.Multi(e("select-handle-normal","opacity:0.4;"),uki.theme.background("button-disabled"))},"select-popup":function(){return uki.theme.background("popup-normal")}},imageSrcs:{"select-handle-normal":function(){return["select-down-m.png",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAABkCAYAAABtnKvPAAAAeUlEQVRo3u3SMQ2AMBAFUCQgAQlIQUKTthq6IhEpOIAOTIWFABPvkr/c8IZ/15VStu6rgcPhcDgcDofD4XA4HA6HnybnvNRsF1ke4yGEoUJrA691379SS4xxavDx1c5TSvMBh08Oegv253A4HA6Hw+FwOBwOh8P/ie9z0RuWFOYPhAAAAABJRU5ErkJggg==","select-down-m.gif"]}}});b.backgrounds["select-checked-hover"]=b.backgrounds["select-checked-normal"];uki.theme.register(b)})();monitor_app.view={};monitor_app.view.hostCurrentMetricsBox={};uki.view.declare("monitor_app.view.HostCurrentMetricsBox",
uki.view.Box,function(e){this._createDom=function(){e._createDom.call(this);var b=this.rect().clone();this.rect().clone().height=30;var d=this.rect().clone();d.height=30;d.width=b.width/2;d=this.rect().clone();d.height=30;d.width=b.width/2;d.x=b.width/2;b=this.rect().clone();b.y=280;b.height=455;b=uki.build({view:"Box",rect:"0 0 800 735",anchors:"left top right bottom",childViews:[{view:"Box",rect:"0 0 800 30",anchors:"left top right bottom",childViews:[{view:"Box",rect:"0 0 400 30",anchors:"left top right bottom",
childViews:[{view:"Label",rect:"10 5 90 25",anchors:"left top right bottom",text:"Selected Host:"},{view:"Label",rect:"100 5 300 25",anchors:"left top right bottom",id:"hostNameLabel",style:{"font-weight":"bold"}}]},{view:"Box",rect:"400 0 400 30",anchors:"left top right bottom",childViews:[{view:"Button",rect:"330 5 60 22",anchors:"top right",text:"Refresh",id:"refreshButton"}]}]},{view:"Box",rect:"0 30 1000 250",anchors:"left top",childViews:[{view:"uki.view.NativeIframe",rect:"0 0 1000 250",anchors:"left top right bottom",
id:"hostChartFrame",name:"hostChartFrame",src:"/host_chart.html"}]},{view:"Table",id:"hostCurrentMetricsTable",rect:b,anchors:"left top right bottom",columns:[{view:"table.Column",label:"group",key:"groupName",resizable:true,width:100},{view:"table.Column",label:"resource",key:"resourceName",resizable:true,width:200},{view:"table.Column",label:"item",key:"itemName",resizable:true,width:150},{view:"table.NumberColumn",label:"data",key:"monitorData",resizable:true,width:150},{view:"table.Column",label:"log time",
key:"timestamp",resizable:true,width:200}],multiselect:true,style:{fontSize:"12px",lineHeight:"12px"}}]})[0];this.appendChild(b);uki("#refreshButton",b).bind("click",function(){if(uki("#hostSummaryMetricsTable").selectedIndexes().length==1){var f=uki("#hostSummaryMetricsTable").selectedRows()[0];if(f){I.getHostCurrentMetrics(f.hostName,"",function(j){uki("#hostCurrentMetricsTable").data(eval(j))});uki("#hostHistoryMetricsTable").data([]);I.getHostItemGroup(f.hostName,function(j){j=uki.map(eval(j),
function(h){return{value:h.groupName,text:h.groupName}});uki("#hostHistoryMetricBoxGroupName").options(j)})}}})}});uki.view.declare("monitor_app.view.HostHistoryMetricsBox",uki.view.Box,function(e){this._createDom=function(){e._createDom.call(this);this.rect().clone().height=30;var b=this.rect().clone();b.y=260;b.height=475;var d=new Date,f=$.format.date(d,"yyyy-MM-dd 00:00");d=$.format.date(d,"yyyy-MM-dd 04:00");this.mainBox=uki.build({view:"Box",rect:"0 0 800 735",anchors:"left top right bottom",
childViews:[{view:"Box",rect:"0 0 800 30",anchors:"left top right bottom",childViews:[{view:"TextField",rect:"10 5 120 22",anchors:"left top",value:f,maxlength:16,id:"hostHistoryMetricBoxStartTime"},{view:"Label",text:"~",rect:"135 5 15 22",anchors:"left top"},{view:"TextField",rect:"150 5 120 22",anchors:"left top",value:d,maxlength:16,id:"hostHistoryMetricBoxEndTime"},{view:"Select",rect:"280 5 200 22",anchors:"left top",rowHeight:22,id:"hostHistoryMetricBoxGroupName",options:[{value:"0",text:"option 0"}]},
{view:"Button",text:"Query",rect:"485 5 50 22",anchors:"left top",id:"hostHistoryQueryButton"}]},{view:"Box",rect:"0 30 800 230",anchors:"left top",childViews:[{view:"uki.view.NativeIframe",rect:"0 0 800 230",anchors:"left top right bottom",id:"itemChartFrame",name:"itemChartFrame",src:"/item_chart.html"}]},{view:"Table",id:"hostHistoryMetricsTable",rect:b,anchors:"left top right bottom",multiselect:true,style:{fontSize:"12px",lineHeight:"12px"},columns:[{view:"table.Column",label:"time",key:"logTime",
resizable:true,width:100},{view:"table.Column",label:"",key:"resource",resizable:true,width:200},{view:"table.NumberColumn",label:"",key:"data",resizable:true,minWidth:100,width:100}]}]})[0];this.appendChild(this.mainBox);uki("#hostHistoryQueryButton").bind("click",function(){getHistoryMetrics()})};getHistoryMetrics=function(){checkMetricHistoryTime()};checkMetricHistoryTime=function(){I.checkMetricHistoryTime(uki("#hostHistoryMetricBoxStartTime").value(),uki("#hostHistoryMetricBoxEndTime").value(),
function(b){uki("#hostHistoryMetricBoxEndTime").value(b);getHistoryMetrics2()})};getHistoryMetrics2=function(){if(uki("#hostSummaryMetricsTable").selectedIndexes().length==1){var b=uki("#hostSummaryMetricsTable").selectedRows()[0];if(b){for(var d=uki("#hostHistoryMetricsTable").data().length,f=0;f<d;f++)uki("#hostHistoryMetricsTable").removeRow(0);var j=b.hostName,h=uki("#hostHistoryMetricBoxGroupName").value(),k=uki("#hostHistoryMetricBoxStartTime").value(),m=uki("#hostHistoryMetricBoxEndTime").value();
I.getHostHistoryMetrics(j,h,"",k,m,function(n){n=eval(n);if(n.length==0)uki("#hostHistoryMetricsTable").columns([]);else{var s=[],v=[];for(var r in n[0])v.push(r);r=800/v.length;for(var w=true,g=0;g<v.length;g++){g==0?s.push({view:"table.Column",label:v[g],key:v[g],resizable:true,width:r}):s.push({view:"table.NumberColumn",label:v[g],key:v[g],resizable:true,width:r});w||(w=false)}uki("#hostHistoryMetricsTable").columns(s);uki("#hostHistoryMetricsTable").data(n);window.frames.itemChartFrame.showGraph(h,
j,k,m,n)}})}}}});monitor_app.view.menuBox={};uki.view.declare("monitor_app.view.MetricsBox",uki.view.Box,function(e){var b;this._createDom=function(){e._createDom.call(this);b=uki.build({view:"VSplitPane",rect:"0 0 800 960",anchors:"left top right bottom",handleWidth:5,handlePosition:195,minTop:100,topChildViews:[{view:"Box",rect:"0 0 800 30",anchors:"left top  right bottom",childViews:[{view:"Button",rect:"710 5 80 22",anchors:"right top",background:"theme(field)",text:"Refresh",id:"metricSummaryRefreshButton"}]},
{view:"Box",rect:"0 30 800 170",anchors:"left top right bottom",childViews:[{view:"Table",rect:"0 0 800 170",anchors:"left top right bottom",id:"hostSummaryMetricsTable",style:{fontSize:"12px",lineHeight:"12px"},multiselect:false,columns:[{view:"table.Column",label:"Host Name",width:150,minWidth:50,resizable:true,key:"hostName"},{view:"table.Column",label:"Status",width:50,resizable:true,key:"liveStatus"},{view:"table.Column",label:"Host Ip",width:100,minWidth:50,resizable:true,key:"hostIp"},{view:"table.NumberColumn",
label:"Cpu Load",width:80,minWidth:50,resizable:true,key:"cpuLoad"},{view:"table.NumberColumn",label:"Cpu User",width:80,minWidth:50,resizable:true,key:"cpuUser"},{view:"table.NumberColumn",label:"Disk Used",width:80,minWidth:50,resizable:true,key:"diskUsed"},{view:"table.NumberColumn",label:"NetIn",width:80,minWidth:50,resizable:true,key:"netIn"},{view:"table.NumberColumn",label:"NetOut",width:80,minWidth:50,resizable:true,key:"netOut"},{view:"table.Column",label:"Time",width:150,minWidth:50,resizable:true,
key:"logTime"}]}]}],bottomChildViews:[{view:"monitor_app.view.TabPanel",rect:"0 0 800 760",anchors:"left top right bottom",tabLables:[{text:"Current"},{text:"History"}],tabViews:[{view:"monitor_app.view.HostCurrentMetricsBox",rect:"0 0 800 735",anchors:"left top right bottom"},{view:"monitor_app.view.HostHistoryMetricsBox",rect:"0 0 800 735",anchors:"left top right bottom",id:"hostHistoryMetricsBox"}]}]})[0];this.appendChild(b);uki("#metricSummaryRefreshButton",b).bind("click",function(){I.getHostSummaryMetrics(function(d){uki("#hostSummaryMetricsTable",
b).data(eval(d))})});uki("#hostSummaryMetricsTable List",b).bind("click",function(){if(this.selectedIndexes().length==1){var d=this.selectedRows()[0];if(d){uki("#hostNameLabel").text(d.hostName);for(var f=uki("#hostHistoryMetricsTable").data().length,j=0;j<f;j++)uki("#hostHistoryMetricsTable").removeRow(0);I.getHostCurrentMetrics(d.hostName,"",function(h){uki("#hostCurrentMetricsTable",b).data(eval(h)).layout()});I.getHostItemGroup(d.hostName,function(h){var k=0,m=uki.map(eval(h),function(n){if(n.groupName.length>
k)k=n.groupName.length;return{value:n.groupName,text:n.groupName}});h=uki("#hostHistoryMetricBoxGroupName",b).rect();h.width=k*8;uki("#hostHistoryMetricBoxGroupName",b).options(m);uki("#hostHistoryMetricBoxGroupName",b).rect(h).layout();m=uki("#hostHistoryQueryButton").rect();m.x=h.x+h.width+10;uki("#hostHistoryQueryButton").rect(m).layout()});window.frames.hostChartFrame.setHostName(d.hostName)}}})}});monitor_app.view.tabPanel={};uki.view.declare("monitor_app.view.TabPanel",uki.view.Container,function(e){this.typeName=
function(){return"monitor_app.view.TabPanel"};var b,d;this._setup=function(){e._setup.call(this);this._widths=[]};this.tabLables=uki.newProp("_tabLables",function(f){b=uki.build(uki.map(f,this._createTabButton,this)).resizeToContents("width");this._tabLableBox.childViews(b);for(f=0;f<b.length;f++)b[f].checked(false);for(f=0;f<b.length;f++){f==0&&b[f].checked(true);b[f].bind("click",function(){for(var j=0;j<b.length;j++){b[j].text()==this.text()?b[j].checked(true):b[j].checked(false);b[j].checked()?
d[j].visible(true).layout():d[j].visible(false).layout()}})}this.setTabViewVisible()});this.tabViews=uki.newProp("_tabViews",function(f){d=uki.build(f);this._tabViewBox.childViews(d);this.setTabViewVisible()});this.setTabViewVisible=function(){if(!(d==undefined||d.length==undefined||b==undefined||b.length==undefined))if(d.length!=0)for(var f=0;f<b.length;f++)b[f].checked()?d[f].visible(true).layout():d[f].visible(false).layout()};this._createDom=function(){e._createDom.call(this);var f=this.rect().clone();
f.height=25;tabTitleFlow={view:"HFlow",rect:f,anchors:"left top right bottom"};this._tabLableBox=uki.build(tabTitleFlow)[0];this.appendChild(this._tabLableBox);var j=this.rect().clone();j.y=f.height;j.height-=f.height;tabViewBox={view:"Box",rect:j,anchors:"left topp right bottom",background:"cssBox(background:#FFFFFF;border-top:1px solid #999)"};this._tabViewBox=uki.build(tabViewBox)[0];this.appendChild(this._tabViewBox)};this._createTabButton=function(f){var j=this.rect().clone();j.height=25;return uki.extend({view:"uki.more.view.ToggleButton",
rect:j,focusable:false,anchors:"left top",inset:"0 15 0 15"},f)}});uki.view.declare("uki.view.NativeIframe",uki.view.Base,function(){this._createDom=function(){this._dom=uki.createElement("iframe",this.defaultCss+"border:none;left:0;top:0;width:100%;height:100%")};uki.delegateProp(this,"src","_dom");uki.delegateProp(this,"name","_dom");this._layoutDom=function(){}});uki.Collection.addAttrs(["src","name"]);uki.view.declare("monitor_app.view.MenuBox",uki.view.Box,function(e){this._createDom=function(){e._createDom.call(this);
this.appendChild(uki.build({view:"ScrollPane",rect:"195 960",anchors:"left top right bottom",childViews:[{view:"Label",rect:"0 10 9999 25",anchors:"left top",id:"menu_metrics",text:"Metrics",inset:"0 0 0 10",background:"cssBox(background:#E1E1E1;)"},{view:"Label",rect:"0 40 9999 25",anchors:"left top",id:"menu_item",text:"Item",inset:"0 0 0 10"},{view:"Label",rect:"0 70 9999 25",anchors:"left top",id:"menu_service",text:"Service",inset:"0 0 0 10"},{view:"Label",rect:"0 100 9999 25",anchors:"left top",
id:"menu_host",text:"Host",inset:"0 0 0 10"},{view:"Label",rect:"0 130 9999 25",anchors:"left top",id:"menu_zookeeper",text:"ZooKeeper",inset:"0 0 0 10"},{view:"Label",rect:"0 160 9999 25",anchors:"left top",id:"menu_hadoop",text:"Hadoop",inset:"0 0 0 10"}]})[0])}});uki.view.declare("monitor_app.view.ItemBox",uki.view.Box,function(e){var b,d,f,j,h=["cpu","memory","swap","disk","network"],k={cpu:["load","user","sys","idle","wait"],memory:["used","free","total"],swap:["swapUsed","swapPageOut","swapPageIn",
"swapFree","swapTotal"],disk:["size","avail","used","usePercent"],network:["rxBytes","txBytes"]},m=[],n=0;uki.each(k,function(r){m[n++]={value:r,text:r}});var s=[];uki.each(k[h[0]],function(r,w){s[r]={value:w,text:w}});var v=[];uki.ajax({url:"/monitor?action=GetMonitorItemAdaptors",async:false,success:function(r){if(r==""||r==undefined)r=[];uki.each(eval(r),function(w,g){uki.each(g,function(t){v[w]={value:t,text:t}})})}});this._createDom=function(){e._createDom.call(this);j=uki.build({view:"VSplitPane",
rect:"800 960",anchors:"left top right bottom",handleWidth:5,handlePosition:395,minTop:100,topChildViews:[{view:"Box",rect:"0 0 800 30",anchors:"left top right bottom",childViews:[{view:"Button",rect:"5 5 60 22",anchors:"left top",text:"Query",id:"itemQueryButton"},{view:"Button",rect:"70 5 60 22",anchors:"left top",text:"Add",id:"itemAddViewButton"},{view:"Button",rect:"135 5 60 22",anchors:"left top",text:"Modify",id:"itemModifyViewButton"},{view:"Button",rect:"200 5 60 22",anchors:"left top",text:"Delete",
id:"itemDeleteButton"},{view:"Button",rect:"265 5 60 22",anchors:"left top",text:"Deploy",id:"itemDeployViewButton"}]},{view:"Table",rect:"0 30 800 365",anchors:"left top right bottom",id:"itemsTable",style:{fontSize:"12px",lineHeight:"12px"},multiselect:false,columns:[{view:"table.Column",label:"Item Id",key:"itemId",width:100,resizable:true},{view:"table.Column",label:"Item Group",key:"groupName",width:100,resizable:true},{view:"table.Column",label:"Item Name",key:"itemName",width:100,resizable:true},
{view:"table.Column",label:"Adaptor",key:"adaptorClass",width:200,resizable:true},{view:"table.Column",label:"Period",key:"period",width:100,resizable:true},{view:"table.Column",label:"Default",key:"defaultItem",width:100,resizable:true},{view:"table.Column",label:"alarm",key:"alarmExpr",width:150,resizable:true},{view:"table.Column",label:"mail",key:"alarmTo",width:150,resizable:true}]}],bottomChildViews:[{view:"Box",rect:"0 0 800 70",anchors:"left top",childViews:[{view:"Label",rect:"0 0 6000 30",
anchors:"left top",text:"Selected Monitor Item",style:{"font-weight":"bold"},inset:"8 10",background:"cssBox(background:#D2D2D2;border:1px solid #999)"},{view:"Button",rect:"200 5 130 22",anchors:"left top",text:"Modify Host Alarm",id:"itemModifyHostViewButton"},{view:"Box",rect:"0 30 6000 40",anchors:"left top right bottom",background:"cssBox(background:#E1E1E1;border-bottom:1px solid #999)",childViews:[{view:"Label",rect:"10 10 100 20",anchors:"left top",text:"Item Name:",style:{"font-weight":"bold"}},
{view:"Label",rect:"100 10 300 20",anchors:"left top",id:"itemDetailViewItemName"},{view:"Label",rect:"310 10 100 20",anchors:"left top",text:"Parameter:",style:{"font-weight":"bold"}},{view:"Label",rect:"400 10 280 20",anchors:"left top",id:"itemDetailViewParams"}]}]},{view:"Table",rect:"0 70 800 490",anchors:"left top right bottom",id:"itemHostsTable",style:{fontSize:"12px",lineHeight:"12px"},multiselect:true,columns:[{view:"table.Column",label:"Host Name",key:"hostName",width:200,resizable:true},
{view:"table.Column",label:"Ip",key:"hostIp",width:100,resizable:true},{view:"table.Column",label:"alarm expr",key:"alarmExpr",width:300,resizable:true},{view:"table.Column",label:"alarm to",key:"alarmTo",width:300,resizable:true},{view:"table.Column",label:"occur",key:"occurTimes",width:50,resizable:true}]}]})[0];this.appendChild(j);this.appendChild(uki.build({view:"Box",rect:"0 0 1000 1000",anchors:"left top right bottom",visible:false,id:"itemBoxPopupProtectBox"})[0]);initAddItemView(this);initModifyItemView(this);
initDeployItemView(this);initModifyHostItemView(this);uki("#itemsTable List",j).bind("click",function(){var r=this.selectedRows()[0];if(r){uki("#itemDetailViewItemId").text(r.itemId);uki("#itemDetailViewGroupName").text(r.groupName);uki("#itemDetailViewItemName").text(r.itemName);uki("#itemDetailViewAdaptor").text(r.adaptorClass);uki("#itemDetailViewPeriod").text(r.period+" sec");uki("#itemDetailViewDefault").text(r.defaultItem);uki("#itemDetailViewParams").text(r.params);uki("#itemDetailViewDescription").text(r.description);
I.getMonitorItemHosts(r.itemId,function(w){uki("#itemHostsTable").data(eval(w))})}});uki("#itemQueryButton",j).bind("click",function(){I.getMonitorItems(function(r){uki("#itemsTable").data(eval(r))})});uki("#itemAddViewButton",j).bind("click",function(){showItemPopup();uki("#itemAddViewBox").visible(true).layout();uki("#itemAddViewAdaptor").value("SystemMonitorAdaptor");uki("#itemAddViewItemGroupSelect").value(h[0])});uki("#itemModifyViewButton",j).bind("click",function(){var r=uki("#itemsTable").selectedRows()[0];
r?I.getMonitorItem(r.itemId,function(w){if(w==""||w==undefined)alert("No item data");else{w=eval(w)[0];showItemPopup();uki("#itemModifyViewBox").visible(true).layout();w.adaptorClass=="SystemMonitorAdaptor"?uki("#itemModifyViewParam").attributes({readonly:true}).layout():uki("#itemModifyViewParam").attributes({readonly:false}).layout();uki("#itemModifyViewItemId").value(w.itemId);uki("#itemModifyViewItemName").text("Modify Item: "+w.groupName+"."+w.itemName);uki("#itemModifyViewPeriod").value(w.period);
uki("#itemModifyViewParam").value(w.params);uki("#itemModifyViewDescription").value(w.description);uki("#itemModifyViewAlarmExpr").value(w.alarmExpr);uki("#itemModifyViewAlarmOccurTimes").value(w.occurTimes);uki("#itemModifyViewAlarmTo").value(w.alarmTo)}}):alert("Select item")});uki("#itemModifyHostViewButton").bind("click",function(){var r=uki("#itemHostsTable").selectedRows()[0];if(r){var w=uki("#itemsTable").selectedRows()[0].itemId;showItemPopup();uki("#hostItemModifyViewBox").visible(true).layout();
uki("#hostItemModifyViewItemId").value(w);uki("#hostItemModifyViewHostName").value(r.hostName);uki("#hostItemModifyViewAlarmExpr").value(r.alarmExpr);uki("#hostItemModifyViewAlarmOccurTimes").value(r.occurTimes);uki("#hostItemModifyViewAlarmTo").value(r.alarmTo)}else alert("Select host")});uki("#itemDeleteButton",j).bind("click",function(){var r=uki("#itemsTable").selectedRows()[0];if(r)confirm("Delete Item ["+r.itemName+"]")&&I.deleteMonitorItem(r.itemId,function(w){if(w=="success"){alert("Deleted");
uki("#itemQueryButton",j).trigger("click")}});else alert("Select item")});uki("#itemDeployViewButton",j).bind("click",function(){var r=uki("#itemsTable").selectedRow().itemId;uki("#itemDeployViewTitle").text("Deploy Item("+uki("#itemsTable").selectedRow().groupName+"."+uki("#itemsTable").selectedRow().itemName+")");uki("#itemDeployViewItemId").text(r);I.getMonitorItemHosts(r,function(w){var g=[];w=eval(w);for(var t=0;t<w.length;t++)g[t]=w[t].hostName;uki("#itemDeployViewAddedHosts").data(g)});I.getServiceHosts("",
function(w){var g=[];uki.each(eval(w),function(t,D){g[t]=D.hostName});uki("#itemDeployViewHosts").data(g)});showItemPopup();uki("#itemDeployViewBox").visible(true).layout();I.getServiceGroupAsArray(function(w){var g=[];g[0]={value:"all",text:"all"};w!=""&&w.length!=undefined&&uki.each(w,function(t,D){g[t+1]={value:D,text:D}});uki("#itemDeployViewService").options(g)})})};initDeployItemView=function(r){var w=r.rect().clone();w.x+=w.width/2-250;w.y=100;w.width=500;w.height=400;f=uki.build({view:"Box",
rect:w,anchors:"left top",id:"itemDeployViewBox",background:"cssBox(background:#E1E1E1;border:1px solid #999)",visible:false,childViews:[{view:"Label",rect:"10 0 300 30",anchors:"left top",text:"Deploy Item",style:{"font-weight":"bold"},id:"itemDeployViewTitle"},{view:"Label",rect:"10 0 100 30",anchors:"left top",text:"",visible:false,id:"itemDeployViewItemId"},{view:"Box",rect:"0 30 500 330",anchors:"left top",childViews:[{view:"Box",rect:"0 0 210 330",anchors:"left top",childViews:[{view:"Select",
rect:"10 0 190 22",anchors:"left top",rowHeight:22,id:"itemDeployViewService"},{view:"Box",rect:"10 30 190 300",anchors:"top left right",background:"#CCC",childViews:[{view:"uki.view.List",rect:"1 1 188 298",anchors:"left top",rowHeight:22,id:"itemDeployViewHosts",throttle:0,multiselect:true,textSelectable:false}]}]},{view:"Box",rect:"210 0 80 330",anchors:"left top",childViews:[{view:"Button",rect:"10 150 60 20",anchors:"left top",text:"add",id:"itemDeployViewAddButton"},{view:"Button",rect:"10 175 60 20",
anchors:"left top",text:"del",id:"itemDeployViewDelButton"}]},{view:"Box",rect:"290 0 210 330",anchors:"left top",childViews:[{view:"Box",rect:"10 30 190 300",anchors:"top left right",background:"#CCC",childViews:[{view:"uki.view.List",rect:"1 1 188 298",anchors:"left top",rowHeight:22,id:"itemDeployViewAddedHosts",throttle:0,multiselect:true,textSelectable:false}]}]}]},{view:"Button",rect:"190 370 60 22",anchors:"left top",text:"Save",id:"itemDeployViewSaveButton"},{view:"Button",rect:"255 370 60 22",
anchors:"left top",text:"Cancel",id:"itemDeployViewCancelButton"}]})[0];r.appendChild(f);uki("#itemDeployViewService",f).bind("change",function(){var g=uki("#itemDeployViewService").value();if(g=="all")g="";I.getServiceHosts(g,function(t){var D=[];uki.each(eval(t),function(G,S){D[G]=S.hostName});uki("#itemDeployViewHosts").data(D)})});uki("#itemDeployViewAddButton",f).bind("click",function(){var g=uki("#itemDeployViewHosts"),t=uki("#itemDeployViewAddedHosts"),D=g.selectedRows(),G=g.selectedIndexes();
uki.each(D,function(S,O){uki.inArray(g.data()[G[S]],t.data())>=0||t.addRow(t.data().length,O)})});uki("#itemDeployViewDelButton",f).bind("click",function(){var g=uki("#itemDeployViewAddedHosts"),t=g.selectedIndexes();uki.each(t,function(D,G){g.removeRow(G)})});uki("#itemDeployViewSaveButton",f).bind("click",function(){var g=uki("#itemDeployViewItemId").text(),t=[];uki.each(uki("#itemDeployViewAddedHosts").data(),function(D,G){t[D]=G});I.addItemToHost(g,t,function(D){if(D=="success"){alert("Success");
uki("#itemsTable List").trigger("click")}});hideDeployView()});uki("#itemDeployViewCancelButton",f).bind("click",function(){hideDeployView()})};initAddItemView=function(r){var w=r.rect().clone();w.x+=w.width/2-250;w.y=100;w.width=500;w.height=340;b=uki.build({view:"Box",rect:w,anchors:"left top",id:"itemAddViewBox",background:"cssBox(background:#E1E1E1;border:1px solid #999)",visible:false,style:{zIndex:"9001"},childViews:[{view:"Label",rect:"10 0 100 30",anchors:"left top",text:"Add Item",style:{"font-weight":"bold"}},
{view:"VFlow",rect:"10 30 500 200",anchors:"left top",id:"addItemLabelVFlow",childViews:[{view:"Box",rect:"0 0 400 25",anchors:"right top",childViews:[{view:"Label",rect:"0 0 70 25",anchors:"right top",inset:"1 5",text:"Adaptor"},{view:"Select",rect:"70 0 400 22",anchors:"left top",rowHeight:22,id:"itemAddViewAdaptor",options:v}]},{view:"Box",rect:"0 0 400 25",anchors:"right top",childViews:[{view:"TextField",rect:"0 0 10 10",anchors:"right top",visible:false,id:"itemAddViewItemId"},{view:"Label",
rect:"0 0 70 25",anchors:"right top",inset:"1 5",text:"Item Group"},{view:"TextField",rect:"70 0 160 22",anchors:"left top",id:"itemAddViewItemGroup",visible:false},{view:"Select",rect:"70 0 160 22",anchors:"left top",id:"itemAddViewItemGroupSelect",options:m,value:h[0]},{view:"Label",rect:"240 0 70 25",anchors:"right top",inset:"1 5",text:"Item Name"},{view:"TextField",rect:"310 0 160 22",anchors:"left top",id:"itemAddViewItemName",visible:false},{view:"Select",rect:"310 0 160 22",anchors:"left top",
id:"itemAddViewItemNameSelect",options:s,value:k[h[0]][0]}]},{view:"Box",rect:"0 0 400 25",anchors:"right top",childViews:[{view:"Label",rect:"0 0 70 25",anchors:"right top",inset:"1 5",text:"Period"},{view:"TextField",rect:"70 0 50 22",anchors:"left top",id:"itemAddViewPeriod"},{view:"Label",rect:"122 0 50 20",anchors:"right top",inset:"1 5",text:"Sec"},{view:"Label",rect:"240 0 70 25",anchors:"right top",inset:"1 5",text:"Default"},{view:"Checkbox",rect:"310 0 24 22",anchors:"left top",id:"itemAddViewDefault"}]},
{view:"Box",rect:"0 0 400 55",anchors:"right top",childViews:[{view:"Label",rect:"0 0 70 25",anchors:"right top",inset:"1 5",text:"Command"},{view:"MultilineTextField",rect:"10 25 460 30",anchors:"left top",id:"itemAddViewParam",attributes:{readonly:true}}]},{view:"Box",rect:"0 0 400 55",anchors:"right top",childViews:[{view:"Label",rect:"0 0 70 25",anchors:"right top",inset:"1 5",text:"Description"},{view:"MultilineTextField",rect:"10 25 460 30",anchors:"left top",id:"itemAddViewDescription"}]},
{view:"Box",rect:"0 0 400 75",anchors:"right top",childViews:[{view:"Label",rect:"0 0 70 25",anchors:"right top",inset:"1 5",text:"Alarm Condition"},{view:"MultilineTextField",rect:"10 25 460 30",anchors:"left top",id:"itemAddViewAlarmExpr"},{view:"Label",rect:"0 60 70 25",anchors:"right top",inset:"1 5",text:"Occur Times"},{view:"TextField",rect:"100 60 130 22",anchors:"left top",id:"itemAddViewAlarmOccurTimes"},{view:"Label",rect:"240 60 30 25",anchors:"right top",inset:"1 5",text:"To"},{view:"TextField",
rect:"270 60 200 22",anchors:"left top",id:"itemAddViewAlarmTo"}]}]},{view:"Button",rect:"190 310 60 22",anchors:"left top",text:"Save",id:"itemAddViewSaveButton",style:{zIndex:"8999"}},{view:"Button",rect:"255 310 60 22",anchors:"left top",text:"Cancel",id:"itemAddViewCancelButton"}]})[0];r.appendChild(b);uki("#itemAddViewSaveButton",b).bind("click",function(){if(uki("#itemAddViewItemName").value()=="")alert("no item name");else if(uki("#itemAddViewItemGroup").value()=="")alert("no item group");
else if(uki("#itemAddViewPeriod").value()=="")alert("no period");else uki("#itemAddViewAdaptor").value()!="SystemMonitorAdaptor"&&uki("#itemAddViewParam").value()==""?alert("no param"):I.addMonitorItem(uki("#itemAddViewItemId").value(),uki("#itemAddViewItemName").value(),uki("#itemAddViewItemGroup").value(),uki("#itemAddViewAdaptor").value(),uki("#itemAddViewDefault").checked(),uki("#itemAddViewPeriod").value(),uki("#itemAddViewParam").value(),uki("#itemAddViewDescription").value(),uki("#itemAddViewAlarmExpr").value(),
uki("#itemAddViewAlarmOccurTimes").value(),uki("#itemAddViewAlarmTo").value(),function(g){if(g=="success"){alert("Success adding monitor item: "+uki("#itemAddViewItemName").value());I.getServiceGroup(function(){I.getMonitorItems(function(t){uki("#itemsTable").data(eval(t))})});hideAddView()}else alert("fail:"+g)})});uki("#itemAddViewCancelButton",b).bind("click",function(){hideAddView()});uki("#itemAddViewAdaptor").change(function(){if(this.value()=="SystemMonitorAdaptor"){uki("#itemAddViewItemGroupSelect").visible(true);
uki("#itemAddViewItemNameSelect").visible(true);uki("#itemAddViewItemGroup").visible(false).layout();uki("#itemAddViewItemName").visible(false).layout();uki.attr(uki("#itemAddViewParam"),"attributes",{readonly:true}).layout();uki("#itemAddViewItemGroupSelect").value(h[0])}else{uki("#itemAddViewItemGroupSelect").visible(false);uki("#itemAddViewItemNameSelect").visible(false);uki("#itemAddViewItemGroup").value("");uki("#itemAddViewItemName").value("");uki("#itemAddViewItemGroup").visible(true).layout();
uki("#itemAddViewItemName").visible(true).layout();uki.attr(uki("#itemAddViewParam"),"attributes",{readonly:false}).layout()}});uki("#itemAddViewItemGroupSelect").change(function(){var g=[],t;uki.each(k[this.value()],function(D,G){g[D]={value:G,text:G};if(D==0)t=G});uki("#itemAddViewItemNameSelect").options(g);uki("#itemAddViewItemNameSelect").value(t);uki("#itemAddViewItemGroup").value(this.value());uki("#itemAddViewItemName").value(t)});uki("#itemAddViewItemNameSelect").change(function(){uki("#itemAddViewItemName").value(this.value())});
uki("#itemAddViewItemGroup").value(uki("#itemAddViewItemGroupSelect").value());uki("#itemAddViewItemName").value(uki("#itemAddViewItemNameSelect").value())};initModifyItemView=function(r){var w=r.rect().clone();w.x+=w.width/2-250;w.y=100;w.width=500;w.height=320;d=uki.build({view:"Box",rect:w,anchors:"left top",id:"itemModifyViewBox",background:"cssBox(background:#E1E1E1;border:1px solid #999)",visible:false,childViews:[{view:"Label",rect:"10 0 500 30",anchors:"left top",text:"Modify Item",style:{"font-weight":"bold"},
id:"itemModifyViewItemName"},{view:"Box",rect:"10 30 500 240",anchors:"left top",childViews:[{view:"Box",rect:"0 0 500 25",anchors:"right top",childViews:[{view:"TextField",rect:"0 0 10 10",anchors:"right top",visible:false,id:"itemModifyViewItemId"},{view:"Label",rect:"0 0 70 25",anchors:"right top",inset:"1 5",text:"Period"},{view:"TextField",rect:"70 0 50 22",anchors:"left top",id:"itemModifyViewPeriod"},{view:"Label",rect:"122 0 50 20",anchors:"right top",inset:"1 5",text:"Sec"},{view:"Label",
rect:"175 0 150 25",anchors:"right top",inset:"1 5",text:"Deploy alarm to hosts"},{view:"Checkbox",rect:"330 0 24 22",anchors:"left top",id:"itemModifyViewDeployAlarmHost"}]},{view:"Box",rect:"0 30 500 55",anchors:"right top",childViews:[{view:"Label",rect:"0 0 70 25",anchors:"right top",inset:"1 5",text:"Command"},{view:"MultilineTextField",rect:"10 25 460 30",anchors:"left top",id:"itemModifyViewParam"}]},{view:"Box",rect:"0 90 500 55",anchors:"right top",childViews:[{view:"Label",rect:"0 0 70 25",
anchors:"right top",inset:"1 5",text:"Description"},{view:"MultilineTextField",rect:"10 25 460 30",anchors:"left top",id:"itemModifyViewDescription"}]},{view:"Box",rect:"0 150 500 75",anchors:"right top",childViews:[{view:"Label",rect:"0 0 70 25",anchors:"right top",inset:"1 5",text:"Alarm Condition"},{view:"MultilineTextField",rect:"10 25 460 30",anchors:"left top",id:"itemModifyViewAlarmExpr"},{view:"Label",rect:"0 60 70 25",anchors:"right top",inset:"1 5",text:"Occur Times"},{view:"TextField",
rect:"100 60 130 22",anchors:"left top",id:"itemModifyViewAlarmOccurTimes"},{view:"Label",rect:"240 60 30 25",anchors:"right top",inset:"1 5",text:"To"},{view:"TextField",rect:"270 60 200 22",anchors:"left top",id:"itemModifyViewAlarmTo"}]}]},{view:"Button",rect:"190 280 60 22",anchors:"left top",text:"Save",id:"itemModifyViewSaveButton"},{view:"Button",rect:"255 280 60 22",anchors:"left top",text:"Cancel",id:"itemModifyViewCancelButton"}]})[0];r.appendChild(d);uki("#itemModifyViewSaveButton",d).bind("click",
function(){if(uki("#itemModifyViewPeriod").value()=="")alert("no period");else{var g="N";if(uki("#itemModifyViewDeployAlarmHost").checked())g="Y";I.modifyMonitorItem(uki("#itemModifyViewItemId").value(),uki("#itemModifyViewPeriod").value(),uki("#itemModifyViewParam").value(),uki("#itemModifyViewDescription").value(),uki("#itemModifyViewAlarmExpr").value(),uki("#itemModifyViewAlarmOccurTimes").value(),uki("#itemModifyViewAlarmTo").value(),g,function(t){if(t=="success"){alert("Success modify("+uki("#itemAddViewItemName").value()+
" item)");I.getServiceGroup(function(){I.getMonitorItems(function(D){uki("#itemsTable").data(eval(D))})});hideModifyView()}else alert("fail:"+t)})}});uki("#itemModifyViewCancelButton",d).bind("click",function(){hideModifyView()})};initModifyHostItemView=function(r){var w=r.rect().clone();w.x+=w.width/2-250;w.y=100;w.width=500;w.height=170;hostItemModifyView=uki.build({view:"Box",rect:w,anchors:"left top",id:"hostItemModifyViewBox",background:"cssBox(background:#E1E1E1;border:1px solid #999)",visible:false,
childViews:[{view:"Label",rect:"10 0 500 30",anchors:"left top",text:"Modify Item",style:{"font-weight":"bold"}},{view:"Box",rect:"10 30 500 85",anchors:"left top",childViews:[{view:"TextField",rect:"0 0 10 10",anchors:"right top",visible:false,id:"hostItemModifyViewItemId"},{view:"TextField",rect:"0 0 10 10",anchors:"right top",visible:false,id:"hostItemModifyViewHostName"},{view:"Label",rect:"0 0 70 25",anchors:"right top",inset:"1 5",text:"Alarm Condition"},{view:"MultilineTextField",rect:"10 25 460 30",
anchors:"left top",id:"hostItemModifyViewAlarmExpr"},{view:"Label",rect:"0 60 70 25",anchors:"right top",inset:"1 5",text:"Occur Times"},{view:"TextField",rect:"100 60 130 22",anchors:"left top",id:"hostItemModifyViewAlarmOccurTimes"},{view:"Label",rect:"240 60 30 25",anchors:"right top",inset:"1 5",text:"To"},{view:"TextField",rect:"270 60 200 22",anchors:"left top",id:"hostItemModifyViewAlarmTo"}]},{view:"Button",rect:"190 130 60 22",anchors:"left top",text:"Save",id:"hostItemModifyViewSaveButton"},
{view:"Button",rect:"255 130 60 22",anchors:"left top",text:"Cancel",id:"hostItemModifyViewCancelButton"}]})[0];r.appendChild(hostItemModifyView);uki("#hostItemModifyViewSaveButton",hostItemModifyView).bind("click",function(){I.modifyHostMonitorItem(uki("#hostItemModifyViewItemId").value(),uki("#hostItemModifyViewHostName").value(),uki("#hostItemModifyViewAlarmExpr").value(),uki("#hostItemModifyViewAlarmOccurTimes").value(),uki("#hostItemModifyViewAlarmTo").value(),function(g){if(g=="success"){alert("Success");
I.getMonitorItemHosts(uki("#hostItemModifyViewItemId").value(),function(t){uki("#itemHostsTable").data(eval(t))});hideHostItemModifyView()}else alert("fail:"+g)})});uki("#hostItemModifyViewCancelButton",hostItemModifyView).bind("click",function(){hideHostItemModifyView()})};hideAddView=function(){hideItemPopup();uki("#itemAddViewItemId").value("");uki("#itemAddViewItemName").value("");uki("#itemAddViewItemGroup").value("");uki("#itemAddViewAdaptor").value("");uki("#itemAddViewDefault").checked(false);
uki("#itemAddViewPeriod").value("");uki("#itemAddViewParam").value("");uki("#itemAddViewDescription").value("");uki("#itemAddViewAlarmExpr").value("");uki("#itemAddViewAlarmOccurTimes").value("");uki("#itemAddViewAlarmTo").value("");uki("#itemAddViewBox").visible(false).layout()};hideModifyView=function(){hideItemPopup();uki("#itemModifyViewItemId").value("");uki("#itemModifyViewPeriod").value("");uki("#itemModifyViewParam").value("");uki("#itemModifyViewDescription").value("");uki("#itemModifyViewAlarmExpr").value("");
uki("#itemModifyViewAlarmOccurTimes").value("");uki("#itemModifyViewAlarmTo").value("");uki("#itemModifyViewBox").visible(false).layout()};hideHostItemModifyView=function(){hideItemPopup();uki("#hostItemModifyViewItemId").value("");uki("#hostItemModifyViewHostName").value("");uki("#hostItemModifyViewAlarmExpr").value("");uki("#hostItemModifyViewAlarmOccurTimes").value("");uki("#hostItemModifyViewAlarmTo").value("");uki("#hostItemModifyViewBox").visible(false).layout()};hideDeployView=function(){hideItemPopup();
uki("#itemDeployViewBox").visible(false).layout()};showItemPopup=function(){uki("#itemBoxPopupProtectBox").visible(true).layout()};hideItemPopup=function(){uki("#itemBoxPopupProtectBox").visible(false).layout()}});uki.view.declare("monitor_app.view.ServiceBox",uki.view.Box,function(e){var b,d,f;this._createDom=function(){e._createDom.call(this);b=uki.build({view:"Box",rect:"0 0 800 960",anchors:"left top right bottom",childViews:[{view:"Box",rect:"0 0 800 30",anchors:"left top right bottom",childViews:[{view:"Button",
rect:"5 5 60 22",anchors:"left top",text:"Refresh",id:"serviceRefreshButton"},{view:"Button",rect:"70 5 60 22",anchors:"left top",text:"Add",id:"serviceAddViewButton"},{view:"Button",rect:"140 5 60 22",anchors:"left top",text:"Delete",id:"serviceDeleteButton"},{view:"Button",rect:"240 5 100 22",anchors:"left top",text:"Add Host",id:"serviceAddHostViewButton"},{view:"Button",rect:"345 5 100 22",anchors:"left top",text:"Delete Host",id:"serviceDeleteHostButton"}]},{view:"HSplitPane",rect:"0 30 800 930",
anchors:"left top right bottom",handleWidth:3,handlePosition:300,leftMin:300,leftChildViews:[{view:"ScrollPane",rect:"0 0 300 930",anchors:"top left right bottom",childViews:{view:"List",rect:"0 0 300 930",anchors:"top left right bottom",rowHeight:22,id:"serviceList",throttle:0,multiselect:false,textSelectable:true}}],rightChildViews:[{view:"Box",rect:"0 0 500 930",anchors:"top left right",background:"#CCC",childViews:{view:"Table",rect:"0 0 500 930",anchors:"left top right bottom",id:"serviceHostsTable",
style:{fontSize:"12px",lineHeight:"12px"},multiselect:true,columns:[{view:"table.Column",label:"Host Name",key:"hostName",width:300,resizable:true},{view:"table.Column",label:"Ip",key:"hostIp",width:200,resizable:true}]}}]}]})[0];this.appendChild(b);this.appendChild(uki.build({view:"Box",rect:"0 0 1000 1000",anchors:"left top right bottom",visible:false,id:"serviceBoxPopupProtectBox"})[0]);initAddServiceView(this);initAddServiceHostView(this);uki("#serviceList").bind("click",function(){I.getServiceHosts(this.selectedRow(),
function(j){uki("#serviceHostsTable").data(eval(j))})});uki("#serviceRefreshButton").bind("click",function(){I.getServiceGroupAsArray(function(j){uki("#serviceList").data(j);j&&uki("#serviceList").selectedIndex(0)})});uki("#serviceAddViewButton",b).bind("click",function(){showPopup();uki("#serviceAddViewBox").visible(true).layout()});uki("#serviceDeleteButton",b).bind("click",function(){var j=uki("#serviceList").selectedRows()[0];if(j)confirm("Delete Service group ["+j+"]")&&I.deleteServiceGroup(j,
function(h){if(h=="success"){alert("Deleted");uki("#serviceRefreshButton").trigger("click")}});else alert("Select Service")});uki("#serviceAddHostViewButton",b).bind("click",function(){showPopup();uki("#serviceAddHostViewBox").visible(true).layout();uki("#serviceAddHostViewServiceName").text("Add Hosts("+uki("#serviceList").selectedRow()+")");I.getHosts(function(j){var h=[];uki.each(eval(j),function(k,m){h[k]=m.hostName});uki("#serviceAddHostViewHosts").data(h)})});uki("#serviceDeleteHostButton",
b).bind("click",function(){var j=uki("#serviceList").selectedRows()[0];if(j){var h=uki("#serviceHostsTable").selectedRows();if(h.length==0)alert("Select Host");else if(confirm("Delete Service hosts ["+h.length+"]")){for(var k="",m=0;m<h.length;m++)k=k+h[m].hostName+",";I.deleteServiceGroupHosts(j,k,function(n){if(n=="success"){alert("Deleted");I.getServiceHosts(uki("#serviceList").selectedRow(),function(s){uki("#serviceHostsTable").data(eval(s))})}else alert(n)})}}else alert("Select Service")})};
initAddServiceView=function(j){var h=j.rect().clone();h.x+=h.width/2-150;h.y=100;h.width=300;h.height=100;d=uki.build({view:"Box",rect:h,anchors:"left top",id:"serviceAddViewBox",background:"cssBox(background:#E1E1E1;border:1px solid #999)",visible:false,childViews:[{view:"Label",rect:"10 0 300 30",anchors:"left top",text:"Add Service",style:{"font-weight":"bold"}},{view:"Box",rect:"0 30 300 25",anchors:"right top",childViews:[{view:"Label",rect:"10 0 90 25",anchors:"right top",inset:"1 5",text:"Service Name"},
{view:"TextField",rect:"100 0 180 22",anchors:"left top",id:"serviceAddViewServiceName"},{view:"Button",rect:"80 30 60 22",anchors:"left top",text:"Save",id:"serviceAddViewSaveButton"},{view:"Button",rect:"145 30 60 22",anchors:"left top",text:"Cancel",id:"serviceAddViewCancelButton"}]}]})[0];j.appendChild(d);uki("#serviceAddViewSaveButton",d).bind("click",function(){I.addServiceGroup(uki("#serviceAddViewServiceName",d).value(),function(k){if(k=="success"){alert("Success");I.getServiceGroupAsArray(function(m){uki("#serviceList").data(m);
m&&uki("#serviceList").selectedIndex(0)});hideAddServiceView()}else alert("fail:"+k)})});uki("#serviceAddViewCancelButton",d).bind("click",function(){hideAddServiceView()})};initAddServiceHostView=function(j){var h=j.rect().clone();h.x+=h.width/2-250;h.y=100;h.width=500;h.height=400;f=uki.build({view:"Box",rect:h,anchors:"left top",id:"serviceAddHostViewBox",background:"cssBox(background:#E1E1E1;border:1px solid #999)",visible:false,childViews:[{view:"Label",rect:"10 0 350 30",anchors:"left top",
text:"Add Hosts: ",id:"serviceAddHostViewServiceName",style:{"font-weight":"bold"}},{view:"Box",rect:"0 30 500 330",anchors:"left top",childViews:[{view:"Box",rect:"0 0 210 330",anchors:"left top",childViews:[{view:"Label",rect:"10 0 200 30",anchors:"top left right bottom",text:"Hosts"},{view:"ScrollPane",rect:"10 30 195 300",anchors:"top left right bottom",childViews:{view:"Box",rect:"0 0 195 300",anchors:"top left right",background:"#CCC",childViews:{view:"List",rect:"1 1 194 298",anchors:"top left right",
rowHeight:22,id:"serviceAddHostViewHosts",throttle:0,multiselect:true,textSelectable:false}}}]},{view:"Box",rect:"210 0 80 330",anchors:"left top",childViews:[{view:"Button",rect:"10 150 60 20",anchors:"left top",text:"add",id:"serviceAddHostViewAddButton"},{view:"Button",rect:"10 175 60 20",anchors:"left top",text:"del",id:"serviceAddHostViewDelButton"}]},{view:"Box",rect:"290 0 210 330",anchors:"left top",childViews:[{view:"Label",rect:"10 0 200 30",anchors:"top left right bottom",text:"Added Hosts"},
{view:"ScrollPane",rect:"10 30 195 300",anchors:"top left right bottom",childViews:{view:"Box",rect:"0 0 195 300",anchors:"top left right",background:"#CCC",childViews:{view:"List",rect:"1 1 194 298",anchors:"top left right",rowHeight:22,id:"serviceAddHostViewAddedHosts",throttle:0,multiselect:true,textSelectable:false}}}]}]},{view:"Button",rect:"150 370 80 22",anchors:"left top",text:"Save",id:"serviceAddHostViewSaveButton"},{view:"Button",rect:"235 370 80 22",anchors:"left top",text:"Cancel",id:"serviceAddHostViewCancelButton"}]})[0];
j.appendChild(f);uki("#serviceAddHostViewSaveButton",f).bind("click",function(){var k=[];uki.each(uki("#serviceAddHostViewAddedHosts").data(),function(m,n){k[m]=n});I.addHostsToService(uki("#serviceList").selectedRow(),k,function(m){if(m=="success"){alert("Success");I.getServiceHosts(uki("#serviceList").selectedRow(),function(n){uki("#serviceHostsTable").data(eval(n))})}});hideAddHostView()});uki("#serviceAddHostViewCancelButton",f).bind("click",function(){hideAddHostView()});uki("#serviceAddHostViewAddButton",
f).bind("click",function(){var k=uki("#serviceAddHostViewHosts"),m=uki("#serviceAddHostViewAddedHosts"),n=k.selectedRows(),s=k.selectedIndexes();uki.each(n,function(v,r){uki.inArray(k.data()[s[v]],m.data())>=0||m.addRow(m.data().length,r)})});uki("#serviceAddHostViewDelButton",f).bind("click",function(){var k=uki("#serviceAddHostViewAddedHosts"),m=k.selectedIndexes();uki.each(m,function(n,s){k.removeRow(s)})})};hideAddServiceView=function(){hidePopup();uki("#serviceAddViewServiceName").value("");
uki("#serviceAddViewBox").visible(false).layout()};hideAddHostView=function(){hidePopup();uki("#serviceAddHostViewAddedHosts").data([]);uki("#serviceAddHostViewBox").visible(false).layout()};showPopup=function(){uki("#serviceBoxPopupProtectBox").visible(true).layout()};hidePopup=function(){uki("#serviceBoxPopupProtectBox").visible(false).layout()}});uki.view.declare("monitor_app.view.ZkBox",uki.view.Box,function(e){this._createDom=function(){e._createDom.call(this);mainBox=uki.build({view:"Box",rect:"0 0 800 960",
anchors:"left top right bottom",childViews:[{view:"Box",rect:"800 30",anchors:"left top right",background:"#E1E1E1",childViews:[{view:"Label",rect:"10 3 90 22",anchors:"left top",text:" zk servers: "},{view:"TextField",rect:"90 3 300 22",anchors:"left top",id:"zkservers",value:"127.0.0.1:2181"},{view:"Button",rect:"410 3 80 22",anchors:"left top",id:"zkRefreshButton",text:"Query"}]},{view:"ScrollPane",rect:"0 30 800 930",anchors:"left top right bottom",childViews:[{view:"uki.view.NativeIframe",rect:"800 930",
anchors:"left top right bottom",id:"zkTreeFrame",name:"zkTreeFrame",src:"/zk_tree.html"}]}]})[0];this.appendChild(mainBox);uki("#zkRefreshButton").bind("click",function(){window.frames.zkTreeFrame.makeTree(uki("#zkservers").value(),"/")})}});monitor_app.view.hostBox={};uki.view.declare("monitor_app.view.HostBox",uki.view.Box,function(e){var b,d;this._createDom=function(){e._createDom.call(this);b=uki.build({view:"VSplitPane",rect:"0 0 800 960",anchors:"left top right bottom",handleWidth:5,handlePosition:195,
topChildViews:[{view:"Box",rect:"0 0 800 30",anchors:"left top right bottom",childViews:[{view:"Button",rect:"530 5 60 22",anchors:"right top",background:"theme(field)",text:"Delete",id:"deleteHostButton"},{view:"Button",rect:"600 5 100 22",anchors:"right top",background:"theme(field)",text:"Modify Alarm",id:"hostAlarmButton"},{view:"Button",rect:"710 5 80 22",anchors:"right top",background:"theme(field)",text:"Refresh",id:"hostRefreshButton"}]},{view:"Box",rect:"0 30 800 170",anchors:"left top right bottom",
childViews:[{view:"Table",rect:"0 0 800 170",anchors:"left top right bottom",id:"hostTable",style:{fontSize:"12px",lineHeight:"12px"},multiselect:false,columns:[{view:"table.Column",label:"Host Name",width:150,resizable:true,key:"hostName"},{view:"table.Column",label:"Status",width:50,resizable:true,key:"liveStatus"},{view:"table.Column",label:"Host Ip",width:100,resizable:true,key:"hostIps"},{view:"table.NumberColumn",label:"Cpu",width:60,resizable:true,key:"cpuinfo_totalCores"},{view:"table.NumberColumn",
label:"Memory",width:60,resizable:true,key:"meminfo_memory"},{view:"table.NumberColumn",label:"Swap",width:120,resizable:true,key:"meminfo_swapTotal"},{view:"table.Column",label:"File system",width:200,resizable:true,key:"fileSystemInfo"},{view:"table.Column",label:"Network",width:200,resizable:true,key:"networkInfo"},{view:"table.Column",label:"Alarm",width:100,resizable:true,key:"hostAlarm"},{view:"table.Column",label:"On",width:50,resizable:true,key:"alarmOn"}]}]}],bottomChildViews:[{view:"ScrollPane",
rect:"0 0 800 760",anchors:"top left right bottom",scrollableH:true,scrollableV:true,childViews:[{view:"VFlow",rect:"0 0 800 760",anchors:"top left right bottom",id:"hostDetailInfo",childViews:[]}]}]})[0];this.appendChild(b);this.appendChild(uki.build({view:"Box",rect:"0 0 1000 1000",anchors:"left top right bottom",visible:false,id:"hostBoxPopupProtectBox"})[0]);initModifyAlarmView(this);uki("#hostAlarmButton").bind("click",function(){var f=uki("#hostTable").selectedRows();if(f.length==0)alert("Select Host");
else{uki("#hostBoxPopupProtectBox").visible(true).layout();uki("#modifyAlarmViewBox").visible(true).layout();uki("#modifyAlarmViewBoxHostAlarm").value(f[0].hostAlarm);uki("#modifyAlarmViewBoxAlarmOn").checked(eval(f[0].alarmOn))}});uki("#deleteHostButton").bind("click",function(){var f=uki("#hostTable").selectedRows();if(f.length==0)alert("Select Host");else if(confirm("Delete hosts ["+f.length+"]")){for(var j="",h=0;h<f.length;h++)j=j+f[h].hostName+",";I.deleteHosts(j,function(k){if(k=="success"){alert("Deleted");
uki("#hostRefreshButton").trigger("click")}else alert(k)})}});uki("#hostRefreshButton").bind("click",function(){for(var f=uki("#hostDetailInfo").childViews().length,j=0;j<f;j++)uki("#hostDetailInfo").removeChild(uki("#hostDetailInfo").childViews()[0]);I.getHosts(function(h){pa=eval(h);uki("#hostTable").data(pa);h&&uki("#hostTable").selectedIndex(0)})});uki("#hostTable List",b).bind("click",function(){var f=this.selectedIndexes();if(f.length==1)if(this.selectedRows()[0]){for(var j=uki("#hostDetailInfo").childViews().length,
h=0;h<j;h++)uki("#hostDetailInfo").removeChild(uki("#hostDetailInfo").childViews()[0]);for(name in pa[f[0]]){j=uki({view:"Label",rect:"0 0 300 22",anchors:"left top",inset:"1 5",text:name+": "+pa[f[0]][name],textSelectable:true});uki("#hostDetailInfo").append(j)}}})};initModifyAlarmView=function(f){var j=f.rect().clone();j.x+=j.width/2-200;j.y=100;j.width=400;j.height=140;d=uki.build({view:"Box",rect:j,anchors:"left top",id:"modifyAlarmViewBox",background:"cssBox(background:#E1E1E1;border:1px solid #999)",
visible:false,childViews:[{view:"Label",rect:"10 0 300 30",anchors:"left top",text:"Host Alarm",style:{"font-weight":"bold"}},{view:"Box",rect:"0 30 300 25",anchors:"right top",childViews:[{view:"Label",rect:"10 0 90 25",anchors:"right top",inset:"1 5",text:"Alarm To:"},{view:"TextField",rect:"100 0 280 22",anchors:"left top",id:"modifyAlarmViewBoxHostAlarm"},{view:"Label",rect:"10 40 90 25",anchors:"right top",inset:"1 5",text:"Alarm On:"},{view:"Checkbox",rect:"100 40 20 22",anchors:"left top",
id:"modifyAlarmViewBoxAlarmOn"},{view:"Button",rect:"160 70 60 22",anchors:"left top",text:"Save",id:"modifyAlarmViewSaveButton"},{view:"Button",rect:"225 70 60 22",anchors:"left top",text:"Cancel",id:"modifyAlarmViewCancelButton"}]}]})[0];f.appendChild(d);uki("#modifyAlarmViewSaveButton",d).bind("click",function(){var h=uki("#hostTable").selectedRows(),k=uki("#modifyAlarmViewBoxHostAlarm",d).value(),m=uki("#modifyAlarmViewBoxAlarmOn",d).checked();I.modifyHostAlarm(h[0].hostName,k,m,function(n){if(n==
"success"){alert("Success");uki("#hostRefreshButton").trigger("click")}else alert("fail:"+n);uki("#modifyAlarmViewBox").visible(false).layout();uki("#hostBoxPopupProtectBox").visible(false).layout()})});uki("#modifyAlarmViewCancelButton",d).bind("click",function(){uki("#modifyAlarmViewBox").visible(false).layout();uki("#hostBoxPopupProtectBox").visible(false).layout()})}});monitor_app.view.menuBox={};uki.view.declare("monitor_app.view.HadoopMetricsBox",uki.view.Box,function(e){var b;this._createDom=
function(){e._createDom.call(this);b=uki.build({view:"Box",rect:"0 0 800 960",anchors:"left top right bottom",childViews:[{view:"Box",rect:"0 0 800 30",anchors:"left top right bottom",childViews:[{view:"Button",rect:"2 2 80 27",anchors:"left top",background:"theme(field)",text:"hdfs",id:"hdfsTabButton"},{view:"Button",rect:"84 2 80 27",anchors:"left top",background:"theme(field)",text:"mapred",id:"mapredTabButton"}]},{view:"monitor_app.view.HdfsMetricsBox",rect:"0 30 800 930",anchors:"left top right bottom",
visible:true}]})[0];this.appendChild(b)}});monitor_app.view.menuBox={};uki.view.declare("monitor_app.view.HdfsMetricsBox",uki.view.Box,function(e){var b;this._createDom=function(){e._createDom.call(this);b=uki.build({view:"VSplitPane",rect:"0 0 800 930",anchors:"left top right bottom",handleWidth:5,handlePosition:230,minTop:100,topChildViews:[{view:"Box",rect:"0 0 800 230",anchors:"left top right bottom",background:"cssBox(background:#FFFFFF;border:1px solid #999)",childViews:[{view:"Box",rect:"0 0 800 30",
anchors:"left top right bottom",childViews:[{view:"Button",rect:"730 5 60 22",anchors:"right top",text:"Query",id:"nameNodeRefreshButton"}]},{view:"Box",rect:"0 30 800 200",anchors:"left top right bottom",childViews:[{view:"uki.view.NativeIframe",rect:"0 0 800 200",anchors:"left top right bottom",id:"nameNodeChartFrame",name:"nameNodeChartFrame",src:"/namenode_chart.html"}]}]}],bottomChildViews:[{view:"Box",rect:"0 0 800 700",anchors:"left top right bottom",childViews:[{view:"Box",rect:"0 0 250 700",
anchors:"left top right bottom",background:"cssBox(background:#FFFFFF;border:1px solid #999)",childViews:[{view:"Table",rect:"0 0 250 700",anchors:"left top right bottom",id:"dataNodeHostsTable",multiselect:false,style:{fontSize:"12px",lineHeight:"12px"},columns:[{view:"table.Column",label:"Host",key:"hostName",width:150,resizable:true},{view:"table.Column",label:"Type",key:"nodeType",width:50,resizable:true},{view:"table.Column",label:"Status",key:"live",width:50,resizable:true}]}]},{view:"Box",
rect:"250 0 5 700",anchors:"left top right bottom",background:"cssBox(background:#FFFFFF;border:1px solid #999)"},{view:"Box",rect:"255 0 300 700",anchors:"left top right bottom",background:"cssBox(background:#FFFFFF;border:1px solid #999)",childViews:[{view:"Table",rect:"0 0 260 700",anchors:"left top right bottom",id:"dataNodeMetricsTable",multiselect:false,style:{fontSize:"12px",lineHeight:"12px"},columns:[{view:"table.Column",label:"Item Name",key:"itemName",width:220,resizable:true},{view:"table.Column",
label:"Data",key:"monitorData",width:60,resizable:true}]}]},{view:"Box",rect:"555 0 5 700",anchors:"left top right bottom",background:"cssBox(background:#FFFFFF;border:1px solid #999)"},{view:"Box",rect:"560 0 240 700",anchors:"left top right bottom",background:"cssBox(background:#FFFFFF;border:1px solid #999)",childViews:[{view:"uki.view.NativeIframe",rect:"0 0 240 700",anchors:"left top right bottom",id:"dataNodeChartFrame",name:"dataNodeChartFrame",src:"/datanode_chart.html"}]}]}]})[0];this.appendChild(b);
uki("#dataNodeHostsTable List",b).bind("click",function(){if(this.selectedIndexes().length==1){var d=this.selectedRows()[0];if(d){for(var f=uki("#dataNodeMetricsTable").data().length,j=0;j<f;j++)uki("#dataNodeMetricsTable").removeRow(0);I.getHostCurrentMetrics(d.hostName,d.nodeType,function(h){uki("#dataNodeMetricsTable",b).data(eval(h)).layout()})}}});uki("#dataNodeMetricsTable List",b).bind("click",function(){var d=uki("#dataNodeHostsTable").selectedRows()[0].hostName,f=uki("#dataNodeHostsTable").selectedRows()[0].nodeType;
if(this.selectedIndexes().length==1){var j=this.selectedRows()[0];j&&I.getHostHistoryMetrics(d,f,j.itemName,"","",function(h){h=eval(h);window.frames.dataNodeChartFrame.showGraph(h)})}});uki("#nameNodeRefreshButton",b).bind("click",function(){loadDataNode();loadNameNode()});loadNameNode=function(){I.getHostHistoryMetrics("namenode","namenode","CapacityRemainingGB,CapacityTotalGB,CapacityUsedGB","","",function(d){d=eval(d);window.frames.nameNodeChartFrame.showGraph(1,d)});I.getHostHistoryMetrics("namenode",
"namenode","FilesTotal,BlocksTotal","","",function(d){d=eval(d);window.frames.nameNodeChartFrame.showGraph(2,d)});I.getHostHistoryMetrics("namenode","namenode","Transactions_avg_time,Transactions_num_ops","","",function(d){d=eval(d);window.frames.nameNodeChartFrame.showGraph(3,d)});I.getHostHistoryMetrics("namenode","namenode","memHeapCommittedM,memHeapUsedM,memHeapCommittedM,memNonHeapUsedM","","",function(d){d=eval(d);window.frames.nameNodeChartFrame.showGraph(4,d)})};loadDataNode=function(){I.getDataNodeHosts(function(d){d=
eval(d);uki("#dataNodeHostsTable").data(d)})}}});monitor_app.view.menuBox={};uki.view.declare("monitor_app.view.MapredMetricsBox",uki.view.Box,function(e){var b;this._createDom=function(){e._createDom.call(this);b=uki.build({view:"Box",rect:"0 0 800 935",anchors:"left top right bottom"})[0];this.appendChild(b)}});var Aa=function(){};Aa.prototype={getHosts:function(e){uki.ajax({url:"/monitor?action=GetHosts",async:false,success:function(b){if(b==""||b==undefined)b=[];e(b)}})},getMonitorItemHosts:function(e,
b){uki.ajax({url:"/monitor?action=GetMonitorItemHosts&itemId="+e,async:false,success:function(d){if(d==""||d==undefined)d=[];b(d)}})},getMonitorItems:function(e){uki.ajax({url:"/monitor?action=GetMonitorItems",async:false,success:function(b){if(b==""||b==undefined)b=[];e(b)}})},getMonitorItem:function(e,b){uki.ajax({url:"/monitor?action=GetMonitorItem&itemId="+e,async:false,success:function(d){b(d)}})},modifyHostAlarm:function(e,b,d,f){var j="action=ModifyHostAlarm";j+="&hostName="+e;j+="&hostAlarm="+
b;j+="&alarmOn="+d;uki.ajax({url:"/monitor",async:false,type:"POST",data:j,success:function(h){f(h)}})},addMonitorItem:function(e,b,d,f,j,h,k,m,n,s,v,r){e="action=AddMonitorItem";e+="&itemName="+b;e+="&itemGroup="+d;e+="&adaptor="+f;e+="&defaultItem="+j;e+="&period="+h;e+="&params="+k;e+="&description="+m;e+="&alarmExpr="+n;e+="&occurTimes="+s;e+="&alarmTo="+v;uki.ajax({url:"/monitor",async:false,type:"POST",data:e,success:function(w){w!="success"?alert("fail: "+w):r(w)}})},modifyMonitorItem:function(e,
b,d,f,j,h,k,m,n){var s="action=ModifyMonitorItem";s+="&itemId="+e;s+="&period="+b;s+="&params="+d;s+="&description="+f;s+="&alarmExpr="+j;s+="&occurTimes="+h;s+="&alarmTo="+k;s+="&autoDeployAlarm="+m;uki.ajax({url:"/monitor",async:false,type:"POST",data:s,success:function(v){v!="success"?alert("fail: "+v):n(v)}})},modifyHostMonitorItem:function(e,b,d,f,j,h){var k="action=ModifyHostMonitorItem";k+="&itemId="+e;k+="&hostName="+b;k+="&alarmExpr="+d;k+="&occurTimes="+f;k+="&alarmTo="+j;uki.ajax({url:"/monitor",
async:false,type:"POST",data:k,success:function(m){m!="success"?alert("fail: "+m):h(m)}})},deleteMonitorItem:function(e,b){uki.ajax({url:"/monitor?action=DeleteMonitorItem&itemId="+e,async:false,success:function(d){b(d)}})},addItemToHost:function(e,b,d){var f="";uki.each(b,function(j,h){f+=h+","});if(f=="")if(!confirm("remove items from all hosts"))return;uki.ajax({url:"/monitor",async:false,type:"POST",data:"action=AddMonitorItemToHost&itemId="+e+"&hosts="+f,success:function(j){if(j!="success")alert("fail: "+
j);else d!=undefined&&d(j)}})},getHostItemGroup:function(e,b){uki.ajax({url:"/monitor?action=GetHostItemGroup&hostName="+e,async:false,success:function(d){if(d==""||d==undefined)d=[];b(d)}})},getHostSummaryMetrics:function(e){uki.ajax({url:"/monitor?action=GetHostSummaryMetrics",async:false,success:function(b){if(b==""||b==undefined)b=[];e(b)}})},getHostCurrentMetrics:function(e,b,d){uki.ajax({url:"/monitor?action=GetHostCurrentMetrics&hostName="+e+"&groupName="+b,async:false,success:function(f){if(f==
""||f==undefined)f=[];d(f)}})},getHostHistoryMetrics:function(e,b,d,f,j,h){e="&hostName="+e;e+="&groupName="+b;e+="&startTime="+f;e+="&endTime="+j;e+="&items="+d;uki.ajax({url:"/monitor?action=GetHostHistoryMetrics"+e,async:false,success:function(k){if(k==""||k==undefined)k=[];h(k)}})},getServiceGroup:function(e){uki.ajax({url:"/monitor?action=GetServiceGroup",async:false,success:function(b){if(b==""||b==undefined)b=[];e(b)}})},getServiceGroupAsArray:function(e){uki.ajax({url:"/monitor?action=GetServiceGroup",
async:false,success:function(b){if(b==""||b==undefined)b=[];var d=[];uki.each(eval(b),function(f,j){uki.each(j,function(h,k){d[f]=k})});e(d)}})},getServiceHosts:function(e,b){uki.ajax({url:"/monitor?action=GetServiceHosts&serviceGroupName="+e,async:false,success:function(d){if(d==""||d==undefined)d=[];b(d)}})},addServiceGroup:function(e,b){uki.ajax({url:"/monitor",async:false,type:"POST",data:"action=AddServiceGroup&serviceGroupName="+e,success:function(d){d!="success"?alert("fail: "+d):b(d)}})},
addHostsToService:function(e,b,d){var f="";uki.each(b,function(j,h){f+=h+","});uki.ajax({url:"/monitor",async:false,type:"POST",data:"action=AddServiceGroupHost&serviceGroupName="+e+"&hosts="+f,success:function(j){if(j!="success")alert("fail: "+j);else d!=undefined&&d(j)}})},deleteHosts:function(e,b){uki.ajax({url:"/monitor?action=DeleteHosts&hostNames="+e,async:false,success:function(d){b(d)}})},deleteServiceGroup:function(e,b){uki.ajax({url:"/monitor?action=DeleteServiceGroup&serviceGroupName="+
e,async:false,success:function(d){b(d)}})},deleteServiceGroupHosts:function(e,b,d){uki.ajax({url:"/monitor?action=DeleteServiceGroupHosts&serviceGroupName="+e+"&hostNames="+b,async:false,success:function(f){d(f)}})},checkMetricHistoryTime:function(e,b,d){uki.ajax({url:"/monitor?action=CheckMetricHistoryTime&startTime="+e+"&endTime="+b,async:false,success:function(f){d(f)}})},getDataNodeHosts:function(e){uki.ajax({url:"/monitor?action=GetDataNodeHosts",async:false,success:function(b){if(b==""||b==
undefined)b=[];e(b)}})}};var Ba=function(){};Ba.prototype={currentData:[],getZKNodes:function(e,b,d){uki.ajax({url:"/zkmanager?action=GetZKNodes&zkservers="+e+"&path="+b,async:false,success:function(f){if(f==""||f==undefined)f=[];d(f)}})}};monitor_app.layout={};monitor_app.layout.main=function(){return uki({view:"Box",rect:"0 0 1000 1000",anchors:"left top right bottom",childViews:[{view:"Box",rect:"0 0 1000 40",anchors:"left top right",id:"topBox",background:"cssBox(background:#FFFFFF;border-bottom:1px solid #999)",
childViews:[{view:"Image",rect:"10 8 100 27",anchors:"left top",src:"/images/cloumon.gif"},{view:"Label",rect:"850 20 150 20",anchors:"right bottom",text:"\u00a9 2010 www.cloumon.org"}]},{view:"HSplitPane",rect:"0 40 1000 960",anchors:"left top right bottom",handlePosition:195,handleWidth:5,leftChildViews:[{view:"monitor_app.view.MenuBox",rect:"0 0 195 960",anchors:"left top right bottom",id:"menuBox"}],rightChildViews:[{view:"Box",rect:"0 0 800 960",anchors:"left top right bottom",id:"contentsBox",
childViews:[{view:"monitor_app.view.MetricsBox",rect:"0 0 800 960",anchors:"left top right bottom",id:"metricsBox",visible:true},{view:"monitor_app.view.ItemBox",rect:"0 0 800 960",anchors:"left top right bottom",id:"itemBox",visible:false},{view:"monitor_app.view.ServiceBox",rect:"0 0 800 960",anchors:"left top right bottom",id:"serviceBox",visible:false},{view:"monitor_app.view.HostBox",rect:"0 0 800 960",anchors:"left top right bottom",id:"hostBox",visible:false},{view:"monitor_app.view.ZkBox",
rect:"0 0 800 960",anchors:"left top right bottom",id:"zkBox",visible:false},{view:"monitor_app.view.HadoopMetricsBox",rect:"0 0 800 960",anchors:"left top right bottom",id:"hadoopBox",visible:false}]}]}]})};monitor_app.controller={};var I=new Aa;new Ba;var pa;monitor_app.controller.main=function(){var e=false,b=false,d=false,f=monitor_app.layout.main();f.attachTo(window,"1000 1000");var j=uki("#metricsBox",f),h=[];h[0]=uki("#menu_metrics",f);h[1]=uki("#menu_item",f);h[2]=uki("#menu_service",f);h[3]=
uki("#menu_host",f);h[4]=uki("#menu_zookeeper",f);h[5]=uki("#menu_hadoop",f);I.getHostSummaryMetrics(function(k){uki("#hostSummaryMetricsTable",f).data(eval(k))});uki("#menu_metrics",f).bind("click",function(){toggleMenu(0);j.visible(false);j=uki("#metricsBox",f);j.visible(true).layout()});uki("#menu_item",f).bind("click",function(){toggleMenu(1);j.visible(false);j=uki("#itemBox",f);j.visible(true).layout();if(!b){I.getMonitorItems(function(k){k=eval(k);uki("#itemsTable").data(k);k.length>0&&uki("#itemsTable List").selectedIndex(0)});
b=true}});uki("#menu_service",f).bind("click",function(){toggleMenu(2);j.visible(false);j=uki("#serviceBox",f);j.visible(true).layout();if(!e){I.getServiceGroupAsArray(function(k){uki("#serviceList",f).data(k);k&&uki("#serviceList",f).selectedIndex(0)});e=true}});uki("#menu_host",f).bind("click",function(){toggleMenu(3);j.visible(false);j=uki("#hostBox",f);j.visible(true).layout();if(!d){I.getHosts(function(k){pa=eval(k);uki("#hostTable",f).data(pa);k&&uki("#hostTable",f).selectedIndex(0)});d=true}});
uki("#menu_zookeeper",f).bind("click",function(){toggleMenu(4);j.visible(false);j=uki("#zkBox",f);j.visible(true).layout()});uki("#menu_hadoop",f).bind("click",function(){toggleMenu(5);j.visible(false);j=uki("#hadoopBox",f);j.visible(true).layout()});toggleMenu=function(k){uki.each(h,function(m,n){m==k?n.background("cssBox(background:#E1E1E1;)"):n.background("")})}};(function(){function e(c,l){l.src?g.ajax({url:l.src,async:false,dataType:"script"}):g.globalEval(l.text||l.textContent||l.innerHTML||
"");l.parentNode&&l.parentNode.removeChild(l)}function b(){return+new Date}function d(c,l){return c[0]&&parseInt(g.curCSS(c[0],l,true),10)||0}function f(){return false}function j(){return true}function h(c){var l=RegExp("(^|\\.)"+c.type+"(\\.|$)"),o=true,q=[];g.each(g.data(this,"events").live||[],function(x,z){if(l.test(z.type))(x=g(c.target).closest(z.data)[0])&&q.push({elem:x,fn:z})});q.sort(function(x,z){return g.data(x.elem,"closest")-g.data(z.elem,"closest")});g.each(q,function(){if(this.fn.call(this.elem,
c,this.fn.data)===false)return o=false});return o}function k(c,l){return["live",c,l.replace(/\./g,"`").replace(/ /g,"|")].join(".")}function m(){if(!ra){ra=true;if(document.addEventListener)document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,false);g.ready()},false);else if(document.attachEvent){document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",arguments.callee);
g.ready()}});document.documentElement.doScroll&&s==s.top&&function(){if(!g.isReady){try{document.documentElement.doScroll("left")}catch(c){setTimeout(arguments.callee,0);return}g.ready()}}()}g.event.add(s,"load",g.ready)}}function n(c,l){var o={};g.each(wa.concat.apply([],wa.slice(0,l)),function(){o[this]=c});return o}var s=this,v,r=s.jQuery,w=s.$,g=s.jQuery=s.$=function(c,l){return new g.fn.init(c,l)},t=/^[^<]*(<(.|\s)+>)[^>]*$|^#([\w-]+)$/,D=/^.[^:#\[\.,]*$/;g.fn=g.prototype={init:function(c,l){c=
c||document;if(c.nodeType){this[0]=c;this.length=1;this.context=c;return this}if(typeof c==="string"){var o=t.exec(c);if(o&&(o[1]||!l))if(o[1])c=g.clean([o[1]],l);else{if((l=document.getElementById(o[3]))&&l.id!=o[3])return g().find(c);o=g(l||[]);o.context=document;o.selector=c;return o}else return g(l).find(c)}else if(g.isFunction(c))return g(document).ready(c);if(c.selector&&c.context){this.selector=c.selector;this.context=c.context}return this.setArray(g.isArray(c)?c:g.makeArray(c))},selector:"",
jquery:"1.3.2",size:function(){return this.length},get:function(c){return c===v?Array.prototype.slice.call(this):this[c]},pushStack:function(c,l,o){c=g(c);c.prevObject=this;c.context=this.context;if(l==="find")c.selector=this.selector+(this.selector?" ":"")+o;else if(l)c.selector=this.selector+"."+l+"("+o+")";return c},setArray:function(c){this.length=0;Array.prototype.push.apply(this,c);return this},each:function(c,l){return g.each(this,c,l)},index:function(c){return g.inArray(c&&c.jquery?c[0]:c,
this)},attr:function(c,l,o){var q=c;if(typeof c==="string")if(l===v)return this[0]&&g[o||"attr"](this[0],c);else{q={};q[c]=l}return this.each(function(x){for(c in q)g.attr(o?this.style:this,c,g.prop(this,q[c],o,x,c))})},css:function(c,l){if((c=="width"||c=="height")&&parseFloat(l)<0)l=v;return this.attr(c,l,"curCSS")},text:function(c){if(typeof c!=="object"&&c!=null)return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(c));var l="";g.each(c||this,function(){g.each(this.childNodes,
function(){if(this.nodeType!=8)l+=this.nodeType!=1?this.nodeValue:g.fn.text([this])})});return l},wrapAll:function(c){if(this[0]){c=g(c,this[0].ownerDocument).clone();this[0].parentNode&&c.insertBefore(this[0]);c.map(function(){for(var l=this;l.firstChild;)l=l.firstChild;return l}).append(this)}return this},wrapInner:function(c){return this.each(function(){g(this).contents().wrapAll(c)})},wrap:function(c){return this.each(function(){g(this).wrapAll(c)})},append:function(){return this.domManip(arguments,
true,function(c){this.nodeType==1&&this.appendChild(c)})},prepend:function(){return this.domManip(arguments,true,function(c){this.nodeType==1&&this.insertBefore(c,this.firstChild)})},before:function(){return this.domManip(arguments,false,function(c){this.parentNode.insertBefore(c,this)})},after:function(){return this.domManip(arguments,false,function(c){this.parentNode.insertBefore(c,this.nextSibling)})},end:function(){return this.prevObject||g([])},push:[].push,sort:[].sort,splice:[].splice,find:function(c){if(this.length===
1){var l=this.pushStack([],"find",c);l.length=0;g.find(c,this[0],l);return l}else return this.pushStack(g.unique(g.map(this,function(o){return g.find(c,o)})),"find",c)},clone:function(c){var l=this.map(function(){if(!g.support.noCloneEvent&&!g.isXMLDoc(this)){var x=this.outerHTML;if(!x){x=this.ownerDocument.createElement("div");x.appendChild(this.cloneNode(true));x=x.innerHTML}return g.clean([x.replace(/ jQuery\d+="(?:\d+|null)"/g,"").replace(/^\s*/,"")])[0]}else return this.cloneNode(true)});if(c===
true){var o=this.find("*").andSelf(),q=0;l.find("*").andSelf().each(function(){if(this.nodeName===o[q].nodeName){var x=g.data(o[q],"events");for(var z in x)for(var B in x[z])g.event.add(this,z,x[z][B],x[z][B].data);q++}})}return l},filter:function(c){return this.pushStack(g.isFunction(c)&&g.grep(this,function(l,o){return c.call(l,o)})||g.multiFilter(c,g.grep(this,function(l){return l.nodeType===1})),"filter",c)},closest:function(c){var l=g.expr.match.POS.test(c)?g(c):null,o=0;return this.map(function(){for(var q=
this;q&&q.ownerDocument;){if(l?l.index(q)>-1:g(q).is(c)){g.data(q,"closest",o);return q}q=q.parentNode;o++}})},not:function(c){if(typeof c==="string")if(D.test(c))return this.pushStack(g.multiFilter(c,this,true),"not",c);else c=g.multiFilter(c,this);var l=c.length&&c[c.length-1]!==v&&!c.nodeType;return this.filter(function(){return l?g.inArray(this,c)<0:this!=c})},add:function(c){return this.pushStack(g.unique(g.merge(this.get(),typeof c==="string"?g(c):g.makeArray(c))))},is:function(c){return!!c&&
g.multiFilter(c,this).length>0},hasClass:function(c){return!!c&&this.is("."+c)},val:function(c){if(c===v){var l=this[0];if(l){if(g.nodeName(l,"option"))return(l.attributes.value||{}).specified?l.value:l.text;if(g.nodeName(l,"select")){var o=l.selectedIndex,q=[],x=l.options;l=l.type=="select-one";if(o<0)return null;var z=l?o:0;for(o=l?o+1:x.length;z<o;z++){var B=x[z];if(B.selected){c=g(B).val();if(l)return c;q.push(c)}}return q}return(l.value||"").replace(/\r/g,"")}return v}if(typeof c==="number")c+=
"";return this.each(function(){if(this.nodeType==1)if(g.isArray(c)&&/radio|checkbox/.test(this.type))this.checked=g.inArray(this.value,c)>=0||g.inArray(this.name,c)>=0;else if(g.nodeName(this,"select")){var C=g.makeArray(c);g("option",this).each(function(){this.selected=g.inArray(this.value,C)>=0||g.inArray(this.text,C)>=0});if(!C.length)this.selectedIndex=-1}else this.value=c})},html:function(c){return c===v?this[0]?this[0].innerHTML.replace(/ jQuery\d+="(?:\d+|null)"/g,""):null:this.empty().append(c)},
replaceWith:function(c){return this.after(c).remove()},eq:function(c){return this.slice(c,+c+1)},slice:function(){return this.pushStack(Array.prototype.slice.apply(this,arguments),"slice",Array.prototype.slice.call(arguments).join(","))},map:function(c){return this.pushStack(g.map(this,function(l,o){return c.call(l,o,l)}))},andSelf:function(){return this.add(this.prevObject)},domManip:function(c,l,o){function q(Q,W){return l&&g.nodeName(Q,"table")&&g.nodeName(W,"tr")?Q.getElementsByTagName("tbody")[0]||
Q.appendChild(Q.ownerDocument.createElement("tbody")):Q}if(this[0]){var x=(this[0].ownerDocument||this[0]).createDocumentFragment();c=g.clean(c,this[0].ownerDocument||this[0],x);var z=x.firstChild;if(z)for(var B=0,C=this.length;B<C;B++)o.call(q(this[B],z),this.length>1||B>0?x.cloneNode(true):x);c&&g.each(c,e)}return this}};g.fn.init.prototype=g.fn;g.extend=g.fn.extend=function(){var c=arguments[0]||{},l=1,o=arguments.length,q=false,x;if(typeof c==="boolean"){q=c;c=arguments[1]||{};l=2}if(typeof c!==
"object"&&!g.isFunction(c))c={};if(o==l){c=this;--l}for(;l<o;l++)if((x=arguments[l])!=null)for(var z in x){var B=c[z],C=x[z];if(c!==C)if(q&&C&&typeof C==="object"&&!C.nodeType)c[z]=g.extend(q,B||(C.length!=null?[]:{}),C);else if(C!==v)c[z]=C}return c};var G=/z-?index|font-?weight|opacity|zoom|line-?height/i,S=document.defaultView||{},O=Object.prototype.toString;g.extend({noConflict:function(c){s.$=w;if(c)s.jQuery=r;return g},isFunction:function(c){return O.call(c)==="[object Function]"},isArray:function(c){return O.call(c)===
"[object Array]"},isXMLDoc:function(c){return c.nodeType===9&&c.documentElement.nodeName!=="HTML"||!!c.ownerDocument&&g.isXMLDoc(c.ownerDocument)},globalEval:function(c){if(c&&/\S/.test(c)){var l=document.getElementsByTagName("head")[0]||document.documentElement,o=document.createElement("script");o.type="text/javascript";if(g.support.scriptEval)o.appendChild(document.createTextNode(c));else o.text=c;l.insertBefore(o,l.firstChild);l.removeChild(o)}},nodeName:function(c,l){return c.nodeName&&c.nodeName.toUpperCase()==
l.toUpperCase()},each:function(c,l,o){var q,x=0,z=c.length;if(o)if(z===v)for(q in c){if(l.apply(c[q],o)===false)break}else for(;x<z;){if(l.apply(c[x++],o)===false)break}else if(z===v)for(q in c){if(l.call(c[q],q,c[q])===false)break}else for(o=c[0];x<z&&l.call(o,x,o)!==false;o=c[++x]);return c},prop:function(c,l,o,q,x){if(g.isFunction(l))l=l.call(c,q);return typeof l==="number"&&o=="curCSS"&&!G.test(x)?l+"px":l},className:{add:function(c,l){g.each((l||"").split(/\s+/),function(o,q){if(c.nodeType==
1&&!g.className.has(c.className,q))c.className+=(c.className?" ":"")+q})},remove:function(c,l){if(c.nodeType==1)c.className=l!==v?g.grep(c.className.split(/\s+/),function(o){return!g.className.has(l,o)}).join(" "):""},has:function(c,l){return c&&g.inArray(l,(c.className||c).toString().split(/\s+/))>-1}},swap:function(c,l,o){var q={};for(var x in l){q[x]=c.style[x];c.style[x]=l[x]}o.call(c);for(x in l)c.style[x]=q[x]},css:function(c,l,o,q){if(l=="width"||l=="height"){var x;o={position:"absolute",visibility:"hidden",
display:"block"};var z=l=="width"?["Left","Right"]:["Top","Bottom"];function B(){x=l=="width"?c.offsetWidth:c.offsetHeight;q!=="border"&&g.each(z,function(){q||(x-=parseFloat(g.curCSS(c,"padding"+this,true))||0);if(q==="margin")x+=parseFloat(g.curCSS(c,"margin"+this,true))||0;else x-=parseFloat(g.curCSS(c,"border"+this+"Width",true))||0})}c.offsetWidth!==0?B():g.swap(c,o,B);return Math.max(0,Math.round(x))}return g.curCSS(c,l,o)},curCSS:function(c,l,o){var q,x=c.style;if(l=="opacity"&&!g.support.opacity){q=
g.attr(x,"opacity");return q==""?"1":q}if(l.match(/float/i))l=ha;if(!o&&x&&x[l])q=x[l];else if(S.getComputedStyle){if(l.match(/float/i))l="float";l=l.replace(/([A-Z])/g,"-$1").toLowerCase();if(c=S.getComputedStyle(c,null))q=c.getPropertyValue(l);if(l=="opacity"&&q=="")q="1"}else if(c.currentStyle){q=l.replace(/\-(\w)/g,function(z,B){return B.toUpperCase()});q=c.currentStyle[l]||c.currentStyle[q];if(!/^\d+(px)?$/i.test(q)&&/^\d/.test(q)){l=x.left;o=c.runtimeStyle.left;c.runtimeStyle.left=c.currentStyle.left;
x.left=q||0;q=x.pixelLeft+"px";x.left=l;c.runtimeStyle.left=o}}return q},clean:function(c,l,o){l=l||document;if(typeof l.createElement==="undefined")l=l.ownerDocument||l[0]&&l[0].ownerDocument||document;if(!o&&c.length===1&&typeof c[0]==="string"){var q=/^<(\w+)\s*\/?>$/.exec(c[0]);if(q)return[l.createElement(q[1])]}var x=[];q=[];var z=l.createElement("div");g.each(c,function(B,C){if(typeof C==="number")C+="";if(C){if(typeof C==="string"){C=C.replace(/(<(\w+)[^>]*?)\/>/g,function(V,ca,ga){return ga.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i)?
V:ca+"></"+ga+">"});B=C.replace(/^\s+/,"").substring(0,10).toLowerCase();var Q=!B.indexOf("<opt")&&[1,"<select multiple='multiple'>","</select>"]||!B.indexOf("<leg")&&[1,"<fieldset>","</fieldset>"]||B.match(/^<(thead|tbody|tfoot|colg|cap)/)&&[1,"<table>","</table>"]||!B.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!B.indexOf("<td")||!B.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||!B.indexOf("<col")&&[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]||!g.support.htmlSerialize&&
[1,"div<div>","</div>"]||[0,"",""];for(z.innerHTML=Q[1]+C+Q[2];Q[0]--;)z=z.lastChild;if(!g.support.tbody){var W=/<tbody/i.test(C);B=!B.indexOf("<table")&&!W?z.firstChild&&z.firstChild.childNodes:Q[1]=="<table>"&&!W?z.childNodes:[];for(Q=B.length-1;Q>=0;--Q)g.nodeName(B[Q],"tbody")&&!B[Q].childNodes.length&&B[Q].parentNode.removeChild(B[Q])}!g.support.leadingWhitespace&&/^\s/.test(C)&&z.insertBefore(l.createTextNode(C.match(/^\s*/)[0]),z.firstChild);C=g.makeArray(z.childNodes)}if(C.nodeType)x.push(C);
else x=g.merge(x,C)}});if(o){for(c=0;x[c];c++)if(g.nodeName(x[c],"script")&&(!x[c].type||x[c].type.toLowerCase()==="text/javascript"))q.push(x[c].parentNode?x[c].parentNode.removeChild(x[c]):x[c]);else{x[c].nodeType===1&&x.splice.apply(x,[c+1,0].concat(g.makeArray(x[c].getElementsByTagName("script"))));o.appendChild(x[c])}return q}return x},attr:function(c,l,o){if(!c||c.nodeType==3||c.nodeType==8)return v;var q=!g.isXMLDoc(c),x=o!==v;l=q&&g.props[l]||l;if(c.tagName){var z=/href|src|style/.test(l);
if(l in c&&q&&!z){if(x){if(l=="type"&&g.nodeName(c,"input")&&c.parentNode)throw"type property can't be changed";c[l]=o}if(g.nodeName(c,"form")&&c.getAttributeNode(l))return c.getAttributeNode(l).nodeValue;if(l=="tabIndex")return(l=c.getAttributeNode("tabIndex"))&&l.specified?l.value:c.nodeName.match(/(button|input|object|select|textarea)/i)?0:c.nodeName.match(/^(a|area)$/i)&&c.href?0:v;return c[l]}if(!g.support.style&&q&&l=="style")return g.attr(c.style,"cssText",o);x&&c.setAttribute(l,""+o);c=!g.support.hrefNormalized&&
q&&z?c.getAttribute(l,2):c.getAttribute(l);return c===null?v:c}if(!g.support.opacity&&l=="opacity"){if(x){c.zoom=1;c.filter=(c.filter||"").replace(/alpha\([^)]*\)/,"")+(parseInt(o)+""=="NaN"?"":"alpha(opacity="+o*100+")")}return c.filter&&c.filter.indexOf("opacity=")>=0?parseFloat(c.filter.match(/opacity=([^)]*)/)[1])/100+"":""}l=l.replace(/-([a-z])/ig,function(B,C){return C.toUpperCase()});if(x)c[l]=o;return c[l]},trim:function(c){return(c||"").replace(/^\s+|\s+$/g,"")},makeArray:function(c){var l=
[];if(c!=null){var o=c.length;if(o==null||typeof c==="string"||g.isFunction(c)||c.setInterval)l[0]=c;else for(;o;)l[--o]=c[o]}return l},inArray:function(c,l){for(var o=0,q=l.length;o<q;o++)if(l[o]===c)return o;return-1},merge:function(c,l){var o=0,q,x=c.length;if(g.support.getAll)for(;(q=l[o++])!=null;)c[x++]=q;else for(;(q=l[o++])!=null;)if(q.nodeType!=8)c[x++]=q;return c},unique:function(c){var l=[],o={};try{for(var q=0,x=c.length;q<x;q++){var z=g.data(c[q]);if(!o[z]){o[z]=true;l.push(c[q])}}}catch(B){l=
c}return l},grep:function(c,l,o){for(var q=[],x=0,z=c.length;x<z;x++)!o!=!l(c[x],x)&&q.push(c[x]);return q},map:function(c,l){for(var o=[],q=0,x=c.length;q<x;q++){var z=l(c[q],q);if(z!=null)o[o.length]=z}return o.concat.apply([],o)}});var P=navigator.userAgent.toLowerCase();g.browser={version:(P.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],safari:/webkit/.test(P),opera:/opera/.test(P),msie:/msie/.test(P)&&!/opera/.test(P),mozilla:/mozilla/.test(P)&&!/(compatible|webkit)/.test(P)};g.each({parent:function(c){return c.parentNode},
parents:function(c){return g.dir(c,"parentNode")},next:function(c){return g.nth(c,2,"nextSibling")},prev:function(c){return g.nth(c,2,"previousSibling")},nextAll:function(c){return g.dir(c,"nextSibling")},prevAll:function(c){return g.dir(c,"previousSibling")},siblings:function(c){return g.sibling(c.parentNode.firstChild,c)},children:function(c){return g.sibling(c.firstChild)},contents:function(c){return g.nodeName(c,"iframe")?c.contentDocument||c.contentWindow.document:g.makeArray(c.childNodes)}},
function(c,l){g.fn[c]=function(o){var q=g.map(this,l);if(o&&typeof o=="string")q=g.multiFilter(o,q);return this.pushStack(g.unique(q),c,o)}});g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,l){g.fn[c]=function(o){for(var q=[],x=g(o),z=0,B=x.length;z<B;z++){var C=(z>0?this.clone(true):this).get();g.fn[l].apply(g(x[z]),C);q=q.concat(C)}return this.pushStack(q,c,o)}});g.each({removeAttr:function(c){g.attr(this,c,"");this.nodeType==
1&&this.removeAttribute(c)},addClass:function(c){g.className.add(this,c)},removeClass:function(c){g.className.remove(this,c)},toggleClass:function(c,l){if(typeof l!=="boolean")l=!g.className.has(this,c);g.className[l?"add":"remove"](this,c)},remove:function(c){if(!c||g.filter(c,[this]).length){g("*",this).add([this]).each(function(){g.event.remove(this);g.removeData(this)});this.parentNode&&this.parentNode.removeChild(this)}},empty:function(){for(g(this).children().remove();this.firstChild;)this.removeChild(this.firstChild)}},
function(c,l){g.fn[c]=function(){return this.each(l,arguments)}});var R="jQuery"+b(),ma=0,fa={};g.extend({cache:{},data:function(c,l,o){c=c==s?fa:c;var q=c[R];q||(q=c[R]=++ma);if(l&&!g.cache[q])g.cache[q]={};if(o!==v)g.cache[q][l]=o;return l?g.cache[q][l]:q},removeData:function(c,l){c=c==s?fa:c;var o=c[R];if(l){if(g.cache[o]){delete g.cache[o][l];l="";for(l in g.cache[o])break;l||g.removeData(c)}}else{try{delete c[R]}catch(q){c.removeAttribute&&c.removeAttribute(R)}delete g.cache[o]}},queue:function(c,
l,o){if(c){l=(l||"fx")+"queue";var q=g.data(c,l);if(!q||g.isArray(o))q=g.data(c,l,g.makeArray(o));else o&&q.push(o)}return q},dequeue:function(c,l){var o=g.queue(c,l),q=o.shift();if(!l||l==="fx")q=o[0];q!==v&&q.call(c)}});g.fn.extend({data:function(c,l){var o=c.split(".");o[1]=o[1]?"."+o[1]:"";if(l===v){var q=this.triggerHandler("getData"+o[1]+"!",[o[0]]);if(q===v&&this.length)q=g.data(this[0],c);return q===v&&o[1]?this.data(o[0]):q}else return this.trigger("setData"+o[1]+"!",[o[0],l]).each(function(){g.data(this,
c,l)})},removeData:function(c){return this.each(function(){g.removeData(this,c)})},queue:function(c,l){if(typeof c!=="string"){l=c;c="fx"}if(l===v)return g.queue(this[0],c);return this.each(function(){var o=g.queue(this,c,l);c=="fx"&&o.length==1&&o[0].call(this)})},dequeue:function(c){return this.each(function(){g.dequeue(this,c)})}});(function(){function c(p,u,y,A,E,F){E=p=="previousSibling"&&!F;for(var H=0,aa=A.length;H<aa;H++){var J=A[H];if(J){if(E&&J.nodeType===1){J.sizcache=y;J.sizset=H}J=J[p];
for(var da=false;J;){if(J.sizcache===y){da=A[J.sizset];break}if(J.nodeType===1&&!F){J.sizcache=y;J.sizset=H}if(J.nodeName===u){da=J;break}J=J[p]}A[H]=da}}}function l(p,u,y,A,E,F){E=p=="previousSibling"&&!F;for(var H=0,aa=A.length;H<aa;H++){var J=A[H];if(J){if(E&&J.nodeType===1){J.sizcache=y;J.sizset=H}J=J[p];for(var da=false;J;){if(J.sizcache===y){da=A[J.sizset];break}if(J.nodeType===1){if(!F){J.sizcache=y;J.sizset=H}if(typeof u!=="string"){if(J===u){da=true;break}}else if(z.filter(u,[J]).length>
0){da=J;break}}J=J[p]}A[H]=da}}}var o=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?/g,q=0,x=Object.prototype.toString,z=function(p,u,y,A){y=y||[];u=u||document;if(u.nodeType!==1&&u.nodeType!==9)return[];if(!p||typeof p!=="string")return y;var E=[],F,H,aa,J=true;for(o.lastIndex=0;(F=o.exec(p))!==null;){E.push(F[1]);if(F[2]){aa=RegExp.rightContext;break}}if(E.length>1&&C.exec(p))if(E.length===2&&B.relative[E[0]])F=ka(E[0]+E[1],u);
else for(F=B.relative[E[0]]?[u]:z(E.shift(),u);E.length;){p=E.shift();if(B.relative[p])p+=E.shift();F=ka(p,F)}else{F=A?{expr:E.pop(),set:W(A)}:z.find(E.pop(),E.length===1&&u.parentNode?u.parentNode:u,M(u));F=z.filter(F.expr,F.set);if(E.length>0)H=W(F);else J=false;for(;E.length;){var da=E.pop(),ia=da;if(B.relative[da])ia=E.pop();else da="";if(ia==null)ia=u;B.relative[da](H,ia,M(u))}}H||(H=F);if(!H)throw"Syntax error, unrecognized expression: "+(da||p);if(x.call(H)==="[object Array]")if(J)if(u.nodeType===
1)for(p=0;H[p]!=null;p++){if(H[p]&&(H[p]===true||H[p].nodeType===1&&ga(u,H[p])))y.push(F[p])}else for(p=0;H[p]!=null;p++)H[p]&&H[p].nodeType===1&&y.push(F[p]);else y.push.apply(y,H);else W(H,y);if(aa){z(aa,u,y,A);if(ca){hasDuplicate=false;y.sort(ca);if(hasDuplicate)for(p=1;p<y.length;p++)y[p]===y[p-1]&&y.splice(p--,1)}}return y};z.matches=function(p,u){return z(p,null,null,u)};z.find=function(p,u,y){var A,E;if(!p)return[];for(var F=0,H=B.order.length;F<H;F++){var aa=B.order[F];if(E=B.match[aa].exec(p)){var J=
RegExp.leftContext;if(J.substr(J.length-1)!=="\\"){E[1]=(E[1]||"").replace(/\\/g,"");A=B.find[aa](E,u,y);if(A!=null){p=p.replace(B.match[aa],"");break}}}}A||(A=u.getElementsByTagName("*"));return{set:A,expr:p}};z.filter=function(p,u,y,A){for(var E=p,F=[],H=u,aa,J,da=u&&u[0]&&M(u[0]);p&&u.length;){for(var ia in B.filter)if((aa=B.match[ia].exec(p))!=null){var Da=B.filter[ia],sa,xa;J=false;if(H==F)F=[];if(B.preFilter[ia])if(aa=B.preFilter[ia](aa,H,y,F,A,da)){if(aa===true)continue}else J=sa=true;if(aa)for(var ya=
0;(xa=H[ya])!=null;ya++)if(xa){sa=Da(xa,aa,ya,H);var Ca=A^!!sa;if(y&&sa!=null)if(Ca)J=true;else H[ya]=false;else if(Ca){F.push(xa);J=true}}if(sa!==v){y||(H=F);p=p.replace(B.match[ia],"");if(!J)return[];break}}if(p==E)if(J==null)throw"Syntax error, unrecognized expression: "+p;else break;E=p}return H};var B=z.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF_-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF_-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,
TAG:/^((?:[\w\u00c0-\uFFFF\*_-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF_-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(p){return p.getAttribute("href")}},relative:{"+":function(p,u,y){var A=typeof u==="string",E=A&&!/\W/.test(u);A=A&&!E;if(E&&!y)u=u.toUpperCase();y=0;E=p.length;for(var F;y<
E;y++)if(F=p[y]){for(;(F=F.previousSibling)&&F.nodeType!==1;);p[y]=A||F&&F.nodeName===u?F||false:F===u}A&&z.filter(u,p,true)},">":function(p,u,y){var A=typeof u==="string";if(A&&!/\W/.test(u)){u=y?u:u.toUpperCase();y=0;for(var E=p.length;y<E;y++){var F=p[y];if(F){A=F.parentNode;p[y]=A.nodeName===u?A:false}}}else{y=0;for(E=p.length;y<E;y++)if(F=p[y])p[y]=A?F.parentNode:F.parentNode===u;A&&z.filter(u,p,true)}},"":function(p,u,y){var A=q++,E=l;if(!u.match(/\W/)){var F=u=y?u:u.toUpperCase();E=c}E("parentNode",
u,A,p,F,y)},"~":function(p,u,y){var A=q++,E=l;if(typeof u==="string"&&!u.match(/\W/)){var F=u=y?u:u.toUpperCase();E=c}E("previousSibling",u,A,p,F,y)}},find:{ID:function(p,u,y){if(typeof u.getElementById!=="undefined"&&!y)return(p=u.getElementById(p[1]))?[p]:[]},NAME:function(p,u){if(typeof u.getElementsByName!=="undefined"){var y=[];u=u.getElementsByName(p[1]);for(var A=0,E=u.length;A<E;A++)u[A].getAttribute("name")===p[1]&&y.push(u[A]);return y.length===0?null:y}},TAG:function(p,u){return u.getElementsByTagName(p[1])}},
preFilter:{CLASS:function(p,u,y,A,E,F){p=" "+p[1].replace(/\\/g,"")+" ";if(F)return p;F=0;for(var H;(H=u[F])!=null;F++)if(H)if(E^(H.className&&(" "+H.className+" ").indexOf(p)>=0))y||A.push(H);else if(y)u[F]=false;return false},ID:function(p){return p[1].replace(/\\/g,"")},TAG:function(p,u){for(var y=0;u[y]===false;y++);return u[y]&&M(u[y])?p[1]:p[1].toUpperCase()},CHILD:function(p){if(p[1]=="nth"){var u=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(p[2]=="even"&&"2n"||p[2]=="odd"&&"2n+1"||!/\D/.test(p[2])&&"0n+"+
p[2]||p[2]);p[2]=u[1]+(u[2]||1)-0;p[3]=u[3]-0}p[0]=q++;return p},ATTR:function(p,u,y,A,E,F){u=p[1].replace(/\\/g,"");if(!F&&B.attrMap[u])p[1]=B.attrMap[u];if(p[2]==="~=")p[4]=" "+p[4]+" ";return p},PSEUDO:function(p,u,y,A,E){if(p[1]==="not")if(p[3].match(o).length>1||/^\w/.test(p[3]))p[3]=z(p[3],null,null,u);else{p=z.filter(p[3],u,y,true^E);y||A.push.apply(A,p);return false}else if(B.match.POS.test(p[0])||B.match.CHILD.test(p[0]))return true;return p},POS:function(p){p.unshift(true);return p}},filters:{enabled:function(p){return p.disabled===
false&&p.type!=="hidden"},disabled:function(p){return p.disabled===true},checked:function(p){return p.checked===true},selected:function(p){return p.selected===true},parent:function(p){return!!p.firstChild},empty:function(p){return!p.firstChild},has:function(p,u,y){return!!z(y[3],p).length},header:function(p){return/h\d/i.test(p.nodeName)},text:function(p){return"text"===p.type},radio:function(p){return"radio"===p.type},checkbox:function(p){return"checkbox"===p.type},file:function(p){return"file"===
p.type},password:function(p){return"password"===p.type},submit:function(p){return"submit"===p.type},image:function(p){return"image"===p.type},reset:function(p){return"reset"===p.type},button:function(p){return"button"===p.type||p.nodeName.toUpperCase()==="BUTTON"},input:function(p){return/input|select|textarea|button/i.test(p.nodeName)}},setFilters:{first:function(p,u){return u===0},last:function(p,u,y,A){return u===A.length-1},even:function(p,u){return u%2===0},odd:function(p,u){return u%2===1},
lt:function(p,u,y){return u<y[3]-0},gt:function(p,u,y){return u>y[3]-0},nth:function(p,u,y){return y[3]-0==u},eq:function(p,u,y){return y[3]-0==u}},filter:{PSEUDO:function(p,u,y,A){var E=u[1],F=B.filters[E];if(F)return F(p,y,u,A);else if(E==="contains")return(p.textContent||p.innerText||"").indexOf(u[3])>=0;else if(E==="not"){u=u[3];y=0;for(A=u.length;y<A;y++)if(u[y]===p)return false;return true}},CHILD:function(p,u){var y=u[1],A=p;switch(y){case "only":case "first":for(;A=A.previousSibling;)if(A.nodeType===
1)return false;if(y=="first")return true;A=p;case "last":for(;A=A.nextSibling;)if(A.nodeType===1)return false;return true;case "nth":y=u[2];var E=u[3];if(y==1&&E==0)return true;u=u[0];var F=p.parentNode;if(F&&(F.sizcache!==u||!p.nodeIndex)){var H=0;for(A=F.firstChild;A;A=A.nextSibling)if(A.nodeType===1)A.nodeIndex=++H;F.sizcache=u}p=p.nodeIndex-E;return y==0?p==0:p%y==0&&p/y>=0}},ID:function(p,u){return p.nodeType===1&&p.getAttribute("id")===u},TAG:function(p,u){return u==="*"&&p.nodeType===1||p.nodeName===
u},CLASS:function(p,u){return(" "+(p.className||p.getAttribute("class"))+" ").indexOf(u)>-1},ATTR:function(p,u){var y=u[1];p=B.attrHandle[y]?B.attrHandle[y](p):p[y]!=null?p[y]:p.getAttribute(y);y=p+"";var A=u[2];u=u[4];return p==null?A==="!=":A==="="?y===u:A==="*="?y.indexOf(u)>=0:A==="~="?(" "+y+" ").indexOf(u)>=0:!u?y&&p!==false:A==="!="?y!=u:A==="^="?y.indexOf(u)===0:A==="$="?y.substr(y.length-u.length)===u:A==="|="?y===u||y.substr(0,u.length+1)===u+"-":false},POS:function(p,u,y,A){var E=B.setFilters[u[2]];
if(E)return E(p,y,u,A)}}},C=B.match.POS;for(var Q in B.match)B.match[Q]=RegExp(B.match[Q].source+/(?![^\[]*\])(?![^\(]*\))/.source);var W=function(p,u){p=Array.prototype.slice.call(p);if(u){u.push.apply(u,p);return u}return p};try{Array.prototype.slice.call(document.documentElement.childNodes)}catch(V){W=function(p,u){u=u||[];if(x.call(p)==="[object Array]")Array.prototype.push.apply(u,p);else if(typeof p.length==="number")for(var y=0,A=p.length;y<A;y++)u.push(p[y]);else for(y=0;p[y];y++)u.push(p[y]);
return u}}var ca;if(document.documentElement.compareDocumentPosition)ca=function(p,u){p=p.compareDocumentPosition(u)&4?-1:p===u?0:1;if(p===0)hasDuplicate=true;return p};else if("sourceIndex"in document.documentElement)ca=function(p,u){p=p.sourceIndex-u.sourceIndex;if(p===0)hasDuplicate=true;return p};else if(document.createRange)ca=function(p,u){var y=p.ownerDocument.createRange(),A=u.ownerDocument.createRange();y.selectNode(p);y.collapse(true);A.selectNode(u);A.collapse(true);p=y.compareBoundaryPoints(Range.START_TO_END,
A);if(p===0)hasDuplicate=true;return p};(function(){var p=document.createElement("form"),u="script"+(new Date).getTime();p.innerHTML="<input name='"+u+"'/>";var y=document.documentElement;y.insertBefore(p,y.firstChild);if(document.getElementById(u)){B.find.ID=function(A,E,F){if(typeof E.getElementById!=="undefined"&&!F)return(E=E.getElementById(A[1]))?E.id===A[1]||typeof E.getAttributeNode!=="undefined"&&E.getAttributeNode("id").nodeValue===A[1]?[E]:v:[]};B.filter.ID=function(A,E){var F=typeof A.getAttributeNode!==
"undefined"&&A.getAttributeNode("id");return A.nodeType===1&&F&&F.nodeValue===E}}y.removeChild(p)})();(function(){var p=document.createElement("div");p.appendChild(document.createComment(""));if(p.getElementsByTagName("*").length>0)B.find.TAG=function(u,y){y=y.getElementsByTagName(u[1]);if(u[1]==="*"){u=[];for(var A=0;y[A];A++)y[A].nodeType===1&&u.push(y[A]);y=u}return y};p.innerHTML="<a href='#'></a>";if(p.firstChild&&typeof p.firstChild.getAttribute!=="undefined"&&p.firstChild.getAttribute("href")!==
"#")B.attrHandle.href=function(u){return u.getAttribute("href",2)}})();document.querySelectorAll&&function(){var p=z,u=document.createElement("div");u.innerHTML="<p class='TEST'></p>";if(!(u.querySelectorAll&&u.querySelectorAll(".TEST").length===0)){z=function(y,A,E,F){A=A||document;if(!F&&A.nodeType===9&&!M(A))try{return W(A.querySelectorAll(y),E)}catch(H){}return p(y,A,E,F)};z.find=p.find;z.filter=p.filter;z.selectors=p.selectors;z.matches=p.matches}}();document.getElementsByClassName&&document.documentElement.getElementsByClassName&&
function(){var p=document.createElement("div");p.innerHTML="<div class='test e'></div><div class='test'></div>";if(p.getElementsByClassName("e").length!==0){p.lastChild.className="e";if(p.getElementsByClassName("e").length!==1){B.order.splice(1,0,"CLASS");B.find.CLASS=function(u,y,A){if(typeof y.getElementsByClassName!=="undefined"&&!A)return y.getElementsByClassName(u[1])}}}}();var ga=document.compareDocumentPosition?function(p,u){return p.compareDocumentPosition(u)&16}:function(p,u){return p!==
u&&(p.contains?p.contains(u):true)},M=function(p){return p.nodeType===9&&p.documentElement.nodeName!=="HTML"||!!p.ownerDocument&&M(p.ownerDocument)},ka=function(p,u){var y=[],A="",E;for(u=u.nodeType?[u]:u;E=B.match.PSEUDO.exec(p);){A+=E[0];p=p.replace(B.match.PSEUDO,"")}p=B.relative[p]?p+"*":p;E=0;for(var F=u.length;E<F;E++)z(p,u[E],y);return z.filter(A,y)};g.find=z;g.filter=z.filter;g.expr=z.selectors;g.expr[":"]=g.expr.filters;z.selectors.filters.hidden=function(p){return p.offsetWidth===0||p.offsetHeight===
0};z.selectors.filters.visible=function(p){return p.offsetWidth>0||p.offsetHeight>0};z.selectors.filters.animated=function(p){return g.grep(g.timers,function(u){return p===u.elem}).length};g.multiFilter=function(p,u,y){if(y)p=":not("+p+")";return z.matches(p,u)};g.dir=function(p,u){var y=[];for(p=p[u];p&&p!=document;){p.nodeType==1&&y.push(p);p=p[u]}return y};g.nth=function(p,u,y){u=u||1;for(var A=0;p;p=p[y])if(p.nodeType==1&&++A==u)break;return p};g.sibling=function(p,u){for(var y=[];p;p=p.nextSibling)p.nodeType==
1&&p!=u&&y.push(p);return y}})();g.event={add:function(c,l,o,q){if(!(c.nodeType==3||c.nodeType==8)){if(c.setInterval&&c!=s)c=s;if(!o.guid)o.guid=this.guid++;if(q!==v){o=this.proxy(o);o.data=q}var x=g.data(c,"events")||g.data(c,"events",{}),z=g.data(c,"handle")||g.data(c,"handle",function(){return typeof g!=="undefined"&&!g.event.triggered?g.event.handle.apply(arguments.callee.elem,arguments):v});z.elem=c;g.each(l.split(/\s+/),function(B,C){B=C.split(".");C=B.shift();o.type=B.slice().sort().join(".");
var Q=x[C];g.event.specialAll[C]&&g.event.specialAll[C].setup.call(c,q,B);if(!Q){Q=x[C]={};if(!g.event.special[C]||g.event.special[C].setup.call(c,q,B)===false)if(c.addEventListener)c.addEventListener(C,z,false);else c.attachEvent&&c.attachEvent("on"+C,z)}Q[o.guid]=o;g.event.global[C]=true});c=null}},guid:1,global:{},remove:function(c,l,o){if(!(c.nodeType==3||c.nodeType==8)){var q=g.data(c,"events"),x;if(q){if(l===v||typeof l==="string"&&l.charAt(0)==".")for(var z in q)this.remove(c,z+(l||""));else{if(l.type){o=
l.handler;l=l.type}g.each(l.split(/\s+/),function(B,C){B=C.split(".");C=B.shift();var Q=RegExp("(^|\\.)"+B.slice().sort().join(".*\\.")+"(\\.|$)");if(q[C]){if(o)delete q[C][o.guid];else for(var W in q[C])Q.test(q[C][W].type)&&delete q[C][W];g.event.specialAll[C]&&g.event.specialAll[C].teardown.call(c,B);for(x in q[C])break;if(!x){if(!g.event.special[C]||g.event.special[C].teardown.call(c,B)===false)if(c.removeEventListener)c.removeEventListener(C,g.data(c,"handle"),false);else c.detachEvent&&c.detachEvent("on"+
C,g.data(c,"handle"));x=null;delete q[C]}}})}for(x in q)break;if(!x){if(l=g.data(c,"handle"))l.elem=null;g.removeData(c,"events");g.removeData(c,"handle")}}}},trigger:function(c,l,o,q){var x=c.type||c;if(!q){c=typeof c==="object"?c[R]?c:g.extend(g.Event(x),c):g.Event(x);if(x.indexOf("!")>=0){c.type=x=x.slice(0,-1);c.exclusive=true}if(!o){c.stopPropagation();this.global[x]&&g.each(g.cache,function(){this.events&&this.events[x]&&g.event.trigger(c,l,this.handle.elem)})}if(!o||o.nodeType==3||o.nodeType==
8)return v;c.result=v;c.target=o;l=g.makeArray(l);l.unshift(c)}c.currentTarget=o;var z=g.data(o,"handle");z&&z.apply(o,l);if((!o[x]||g.nodeName(o,"a")&&x=="click")&&o["on"+x]&&o["on"+x].apply(o,l)===false)c.result=false;if(!q&&o[x]&&!c.isDefaultPrevented()&&!(g.nodeName(o,"a")&&x=="click")){this.triggered=true;try{o[x]()}catch(B){}}this.triggered=false;if(!c.isPropagationStopped())(o=o.parentNode||o.ownerDocument)&&g.event.trigger(c,l,o,true)},handle:function(c){var l,o;c=arguments[0]=g.event.fix(c||
s.event);c.currentTarget=this;o=c.type.split(".");c.type=o.shift();l=!o.length&&!c.exclusive;var q=RegExp("(^|\\.)"+o.slice().sort().join(".*\\.")+"(\\.|$)");o=(g.data(this,"events")||{})[c.type];for(var x in o){var z=o[x];if(l||q.test(z.type)){c.handler=z;c.data=z.data;z=z.apply(this,arguments);if(z!==v){c.result=z;if(z===false){c.preventDefault();c.stopPropagation()}}if(c.isImmediatePropagationStopped())break}}},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
fix:function(c){if(c[R])return c;var l=c;c=g.Event(l);for(var o=this.props.length,q;o;){q=this.props[--o];c[q]=l[q]}if(!c.target)c.target=c.srcElement||document;if(c.target.nodeType==3)c.target=c.target.parentNode;if(!c.relatedTarget&&c.fromElement)c.relatedTarget=c.fromElement==c.target?c.toElement:c.fromElement;if(c.pageX==null&&c.clientX!=null){l=document.documentElement;o=document.body;c.pageX=c.clientX+(l&&l.scrollLeft||o&&o.scrollLeft||0)-(l.clientLeft||0);c.pageY=c.clientY+(l&&l.scrollTop||
o&&o.scrollTop||0)-(l.clientTop||0)}if(!c.which&&(c.charCode||c.charCode===0?c.charCode:c.keyCode))c.which=c.charCode||c.keyCode;if(!c.metaKey&&c.ctrlKey)c.metaKey=c.ctrlKey;if(!c.which&&c.button)c.which=c.button&1?1:c.button&2?3:c.button&4?2:0;return c},proxy:function(c,l){l=l||function(){return c.apply(this,arguments)};l.guid=c.guid=c.guid||l.guid||this.guid++;return l},special:{ready:{setup:m,teardown:function(){}}},specialAll:{live:{setup:function(c,l){g.event.add(this,l[0],h)},teardown:function(c){if(c.length){var l=
0,o=RegExp("(^|\\.)"+c[0]+"(\\.|$)");g.each(g.data(this,"events").live||{},function(){o.test(this.type)&&l++});l<1&&g.event.remove(this,c[0],h)}}}}};g.Event=function(c){if(!this.preventDefault)return new g.Event(c);if(c&&c.type){this.originalEvent=c;this.type=c.type}else this.type=c;this.timeStamp=b();this[R]=true};g.Event.prototype={preventDefault:function(){this.isDefaultPrevented=j;var c=this.originalEvent;if(c){c.preventDefault&&c.preventDefault();c.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=
j;var c=this.originalEvent;if(c){c.stopPropagation&&c.stopPropagation();c.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=j;this.stopPropagation()},isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f};var ba=function(c){for(var l=c.relatedTarget;l&&l!=this;)try{l=l.parentNode}catch(o){l=this}if(l!=this){c.type=c.data;g.event.handle.apply(this,arguments)}};g.each({mouseover:"mouseenter",mouseout:"mouseleave"},function(c,l){g.event.special[l]=
{setup:function(){g.event.add(this,c,ba,l)},teardown:function(){g.event.remove(this,c,ba)}}});g.fn.extend({bind:function(c,l,o){return c=="unload"?this.one(c,l,o):this.each(function(){g.event.add(this,c,o||l,o&&l)})},one:function(c,l,o){var q=g.event.proxy(o||l,function(x){g(this).unbind(x,q);return(o||l).apply(this,arguments)});return this.each(function(){g.event.add(this,c,q,o&&l)})},unbind:function(c,l){return this.each(function(){g.event.remove(this,c,l)})},trigger:function(c,l){return this.each(function(){g.event.trigger(c,
l,this)})},triggerHandler:function(c,l){if(this[0]){c=g.Event(c);c.preventDefault();c.stopPropagation();g.event.trigger(c,l,this[0]);return c.result}},toggle:function(c){for(var l=arguments,o=1;o<l.length;)g.event.proxy(c,l[o++]);return this.click(g.event.proxy(c,function(q){this.lastToggle=(this.lastToggle||0)%o;q.preventDefault();return l[this.lastToggle++].apply(this,arguments)||false}))},hover:function(c,l){return this.mouseenter(c).mouseleave(l)},ready:function(c){m();g.isReady?c.call(document,
g):g.readyList.push(c);return this},live:function(c,l){l=g.event.proxy(l);l.guid+=this.selector+c;g(document).bind(k(c,this.selector),this.selector,l);return this},die:function(c,l){g(document).unbind(k(c,this.selector),l?{guid:l.guid+this.selector+c}:null);return this}});g.extend({isReady:false,readyList:[],ready:function(){if(!g.isReady){g.isReady=true;if(g.readyList){g.each(g.readyList,function(){this.call(document,g)});g.readyList=null}g(document).triggerHandler("ready")}}});var ra=false;g.each("blur,focus,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error".split(","),
function(c,l){g.fn[l]=function(o){return o?this.bind(l,o):this.trigger(l)}});g(s).bind("unload",function(){for(var c in g.cache)c!=1&&g.cache[c].handle&&g.event.remove(g.cache[c].handle.elem)});(function(){g.support={};var c=document.documentElement,l=document.createElement("script"),o=document.createElement("div"),q="script"+(new Date).getTime();o.style.display="none";o.innerHTML='   <link/><table></table><a href="/a" style="color:red;float:left;opacity:.5;">a</a><select><option>text</option></select><object><param/></object>';
var x=o.getElementsByTagName("*"),z=o.getElementsByTagName("a")[0];if(!(!x||!x.length||!z)){g.support={leadingWhitespace:o.firstChild.nodeType==3,tbody:!o.getElementsByTagName("tbody").length,objectAll:!!o.getElementsByTagName("object")[0].getElementsByTagName("*").length,htmlSerialize:!!o.getElementsByTagName("link").length,style:/red/.test(z.getAttribute("style")),hrefNormalized:z.getAttribute("href")==="/a",opacity:z.style.opacity==="0.5",cssFloat:!!z.style.cssFloat,scriptEval:false,noCloneEvent:true,
boxModel:null};l.type="text/javascript";try{l.appendChild(document.createTextNode("window."+q+"=1;"))}catch(B){}c.insertBefore(l,c.firstChild);if(s[q]){g.support.scriptEval=true;delete s[q]}c.removeChild(l);if(o.attachEvent&&o.fireEvent){o.attachEvent("onclick",function(){g.support.noCloneEvent=false;o.detachEvent("onclick",arguments.callee)});o.cloneNode(true).fireEvent("onclick")}g(function(){var C=document.createElement("div");C.style.width=C.style.paddingLeft="1px";document.body.appendChild(C);
g.boxModel=g.support.boxModel=C.offsetWidth===2;document.body.removeChild(C).style.display="none"})}})();var ha=g.support.cssFloat?"cssFloat":"styleFloat";g.props={"for":"htmlFor","class":"className","float":ha,cssFloat:ha,styleFloat:ha,readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",tabindex:"tabIndex"};g.fn.extend({_load:g.fn.load,load:function(c,l,o){if(typeof c!=="string")return this._load(c);var q=c.indexOf(" ");if(q>=0){var x=c.slice(q,c.length);c=c.slice(0,
q)}q="GET";if(l)if(g.isFunction(l)){o=l;l=null}else if(typeof l==="object"){l=g.param(l);q="POST"}var z=this;g.ajax({url:c,type:q,dataType:"html",data:l,complete:function(B,C){if(C=="success"||C=="notmodified")z.html(x?g("<div/>").append(B.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(x):B.responseText);o&&z.each(o,[B.responseText,C,B])}});return this},serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?
g.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password|search/i.test(this.type))}).map(function(c,l){c=g(this).val();return c==null?null:g.isArray(c)?g.map(c,function(o){return{name:l.name,value:o}}):{name:l.name,value:c}}).get()}});g.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(c,l){g.fn[l]=function(o){return this.bind(l,o)}});var N=b();g.extend({get:function(c,
l,o,q){if(g.isFunction(l)){o=l;l=null}return g.ajax({type:"GET",url:c,data:l,success:o,dataType:q})},getScript:function(c,l){return g.get(c,null,l,"script")},getJSON:function(c,l,o){return g.get(c,l,o,"json")},post:function(c,l,o,q){if(g.isFunction(l)){o=l;l={}}return g.ajax({type:"POST",url:c,data:l,success:o,dataType:q})},ajaxSetup:function(c){g.extend(g.ajaxSettings,c)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,
xhr:function(){return s.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},ajax:function(c){function l(){c.success&&c.success(B,z);c.global&&g.event.trigger("ajaxSuccess",[M,c])}function o(){c.complete&&c.complete(M,z);c.global&&g.event.trigger("ajaxComplete",[M,c]);c.global&&!--g.active&&
g.event.trigger("ajaxStop")}c=g.extend(true,c,g.extend(true,{},g.ajaxSettings,c));var q,x=/=\?(&|$)/g,z,B,C=c.type.toUpperCase();if(c.data&&c.processData&&typeof c.data!=="string")c.data=g.param(c.data);if(c.dataType=="jsonp"){if(C=="GET")c.url.match(x)||(c.url+=(c.url.match(/\?/)?"&":"?")+(c.jsonp||"callback")+"=?");else if(!c.data||!c.data.match(x))c.data=(c.data?c.data+"&":"")+(c.jsonp||"callback")+"=?";c.dataType="json"}if(c.dataType=="json"&&(c.data&&c.data.match(x)||c.url.match(x))){q="jsonp"+
N++;if(c.data)c.data=(c.data+"").replace(x,"="+q+"$1");c.url=c.url.replace(x,"="+q+"$1");c.dataType="script";s[q]=function(A){B=A;l();o();s[q]=v;try{delete s[q]}catch(E){}W&&W.removeChild(V)}}if(c.dataType=="script"&&c.cache==null)c.cache=false;if(c.cache===false&&C=="GET"){x=b();var Q=c.url.replace(/(\?|&)_=.*?(&|$)/,"$1_="+x+"$2");c.url=Q+(Q==c.url?(c.url.match(/\?/)?"&":"?")+"_="+x:"")}if(c.data&&C=="GET"){c.url+=(c.url.match(/\?/)?"&":"?")+c.data;c.data=null}c.global&&!g.active++&&g.event.trigger("ajaxStart");
x=/^(\w+:)?\/\/([^\/?#]+)/.exec(c.url);if(c.dataType=="script"&&C=="GET"&&x&&(x[1]&&x[1]!=location.protocol||x[2]!=location.host)){var W=document.getElementsByTagName("head")[0],V=document.createElement("script");V.src=c.url;if(c.scriptCharset)V.charset=c.scriptCharset;if(!q){var ca=false;V.onload=V.onreadystatechange=function(){if(!ca&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){ca=true;l();o();V.onload=V.onreadystatechange=null;W.removeChild(V)}}}W.appendChild(V);
return v}var ga=false,M=c.xhr();c.username?M.open(C,c.url,c.async,c.username,c.password):M.open(C,c.url,c.async);try{c.data&&M.setRequestHeader("Content-Type",c.contentType);if(c.ifModified)M.setRequestHeader("If-Modified-Since",g.lastModified[c.url]||"Thu, 01 Jan 1970 00:00:00 GMT");M.setRequestHeader("X-Requested-With","XMLHttpRequest");M.setRequestHeader("Accept",c.dataType&&c.accepts[c.dataType]?c.accepts[c.dataType]+", */*":c.accepts._default)}catch(ka){}if(c.beforeSend&&c.beforeSend(M,c)===
false){c.global&&!--g.active&&g.event.trigger("ajaxStop");M.abort();return false}c.global&&g.event.trigger("ajaxSend",[M,c]);var p=function(A){if(M.readyState==0){if(u){clearInterval(u);u=null;c.global&&!--g.active&&g.event.trigger("ajaxStop")}}else if(!ga&&M&&(M.readyState==4||A=="timeout")){ga=true;if(u){clearInterval(u);u=null}z=A=="timeout"?"timeout":!g.httpSuccess(M)?"error":c.ifModified&&g.httpNotModified(M,c.url)?"notmodified":"success";if(z=="success")try{B=g.httpData(M,c.dataType,c)}catch(E){z=
"parsererror"}if(z=="success"){var F;try{F=M.getResponseHeader("Last-Modified")}catch(H){}if(c.ifModified&&F)g.lastModified[c.url]=F;q||l()}else g.handleError(c,M,z);o();A&&M.abort();if(c.async)M=null}};if(c.async){var u=setInterval(p,13);c.timeout>0&&setTimeout(function(){M&&!ga&&p("timeout")},c.timeout)}try{M.send(c.data)}catch(y){g.handleError(c,M,null,y)}c.async||p();return M},handleError:function(c,l,o,q){c.error&&c.error(l,o,q);c.global&&g.event.trigger("ajaxError",[l,c,q])},active:0,httpSuccess:function(c){try{return!c.status&&
location.protocol=="file:"||c.status>=200&&c.status<300||c.status==304||c.status==1223}catch(l){}return false},httpNotModified:function(c,l){try{var o=c.getResponseHeader("Last-Modified");return c.status==304||o==g.lastModified[l]}catch(q){}return false},httpData:function(c,l,o){var q=c.getResponseHeader("content-type");c=(q=l=="xml"||!l&&q&&q.indexOf("xml")>=0)?c.responseXML:c.responseText;if(q&&c.documentElement.tagName=="parsererror")throw"parsererror";if(o&&o.dataFilter)c=o.dataFilter(c,l);if(typeof c===
"string"){l=="script"&&g.globalEval(c);if(l=="json")c=s.eval("("+c+")")}return c},param:function(c){function l(x,z){o[o.length]=encodeURIComponent(x)+"="+encodeURIComponent(z)}var o=[];if(g.isArray(c)||c.jquery)g.each(c,function(){l(this.name,this.value)});else for(var q in c)g.isArray(c[q])?g.each(c[q],function(){l(q,this)}):l(q,g.isFunction(c[q])?c[q]():c[q]);return o.join("&").replace(/%20/g,"+")}});var va={},ja,wa=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft",
"marginRight","paddingLeft","paddingRight"],["opacity"]];g.fn.extend({show:function(c,l){if(c)return this.animate(n("show",3),c,l);else{c=0;for(l=this.length;c<l;c++){var o=g.data(this[c],"olddisplay");this[c].style.display=o||"";if(g.css(this[c],"display")==="none"){o=this[c].tagName;var q;if(va[o])q=va[o];else{var x=g("<"+o+" />").appendTo("body");q=x.css("display");if(q==="none")q="block";x.remove();va[o]=q}g.data(this[c],"olddisplay",q)}}c=0;for(l=this.length;c<l;c++)this[c].style.display=g.data(this[c],
"olddisplay")||"";return this}},hide:function(c,l){if(c)return this.animate(n("hide",3),c,l);else{c=0;for(l=this.length;c<l;c++){var o=g.data(this[c],"olddisplay");!o&&o!=="none"&&g.data(this[c],"olddisplay",g.css(this[c],"display"))}c=0;for(l=this.length;c<l;c++)this[c].style.display="none";return this}},_toggle:g.fn.toggle,toggle:function(c,l){var o=typeof c==="boolean";return g.isFunction(c)&&g.isFunction(l)?this._toggle.apply(this,arguments):c==null||o?this.each(function(){var q=o?c:g(this).is(":hidden");
g(this)[q?"show":"hide"]()}):this.animate(n("toggle",3),c,l)},fadeTo:function(c,l,o){return this.animate({opacity:l},c,o)},animate:function(c,l,o,q){var x=g.speed(l,o,q);return this[x.queue===false?"each":"queue"](function(){var z=g.extend({},x),B,C=this.nodeType==1&&g(this).is(":hidden"),Q=this;for(B in c){if(c[B]=="hide"&&C||c[B]=="show"&&!C)return z.complete.call(this);if((B=="height"||B=="width")&&this.style){z.display=g.css(this,"display");z.overflow=this.style.overflow}}if(z.overflow!=null)this.style.overflow=
"hidden";z.curAnim=g.extend({},c);g.each(c,function(W,V){var ca=new g.fx(Q,z,W);if(/toggle|show|hide/.test(V))ca[V=="toggle"?C?"show":"hide":V](c);else{var ga=V.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/),M=ca.cur(true)||0;if(ga){V=parseFloat(ga[2]);var ka=ga[3]||"px";if(ka!="px"){Q.style[W]=(V||1)+ka;M=(V||1)/ca.cur(true)*M;Q.style[W]=M+ka}if(ga[1])V=(ga[1]=="-="?-1:1)*V+M;ca.custom(M,V,ka)}else ca.custom(M,V,"")}});return true})},stop:function(c,l){var o=g.timers;c&&this.queue([]);this.each(function(){for(var q=
o.length-1;q>=0;q--)if(o[q].elem==this){l&&o[q](true);o.splice(q,1)}});l||this.dequeue();return this}});g.each({slideDown:n("show",1),slideUp:n("hide",1),slideToggle:n("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(c,l){g.fn[c]=function(o,q){return this.animate(l,o,q)}});g.extend({speed:function(c,l,o){var q=typeof c==="object"?c:{complete:o||!o&&l||g.isFunction(c)&&c,duration:c,easing:o&&l||l&&!g.isFunction(l)&&l};q.duration=g.fx.off?0:typeof q.duration==="number"?q.duration:
g.fx.speeds[q.duration]||g.fx.speeds._default;q.old=q.complete;q.complete=function(){q.queue!==false&&g(this).dequeue();g.isFunction(q.old)&&q.old.call(this)};return q},easing:{linear:function(c,l,o,q){return o+q*c},swing:function(c,l,o,q){return(-Math.cos(c*Math.PI)/2+0.5)*q+o}},timers:[],fx:function(c,l,o){this.options=l;this.elem=c;this.prop=o;if(!l.orig)l.orig={}}});g.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(g.fx.step[this.prop]||g.fx.step._default)(this);
if((this.prop=="height"||this.prop=="width")&&this.elem.style)this.elem.style.display="block"},cur:function(c){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];return(c=parseFloat(g.css(this.elem,this.prop,c)))&&c>-10000?c:parseFloat(g.curCSS(this.elem,this.prop))||0},custom:function(c,l,o){function q(z){return x.step(z)}this.startTime=b();this.start=c;this.end=l;this.unit=o||this.unit||"px";this.now=this.start;this.pos=this.state=0;var x=
this;q.elem=this.elem;if(q()&&g.timers.push(q)&&!ja)ja=setInterval(function(){for(var z=g.timers,B=0;B<z.length;B++)z[B]()||z.splice(B--,1);if(!z.length){clearInterval(ja);ja=v}},13)},show:function(){this.options.orig[this.prop]=g.attr(this.elem.style,this.prop);this.options.show=true;this.custom(this.prop=="width"||this.prop=="height"?1:0,this.cur());g(this.elem).show()},hide:function(){this.options.orig[this.prop]=g.attr(this.elem.style,this.prop);this.options.hide=true;this.custom(this.cur(),0)},
step:function(c){var l=b();if(c||l>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();c=this.options.curAnim[this.prop]=true;for(var o in this.options.curAnim)if(this.options.curAnim[o]!==true)c=false;if(c){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;this.elem.style.display=this.options.display;if(g.css(this.elem,"display")=="none")this.elem.style.display="block"}this.options.hide&&g(this.elem).hide();if(this.options.hide||
this.options.show)for(var q in this.options.curAnim)g.attr(this.elem.style,q,this.options.orig[q]);this.options.complete.call(this.elem)}return false}else{o=l-this.startTime;this.state=o/this.options.duration;this.pos=g.easing[this.options.easing||(g.easing.swing?"swing":"linear")](this.state,o,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update()}return true}};g.extend(g.fx,{speeds:{slow:600,fast:200,_default:400},step:{opacity:function(c){g.attr(c.elem.style,
"opacity",c.now)},_default:function(c){if(c.elem.style&&c.elem.style[c.prop]!=null)c.elem.style[c.prop]=c.now+c.unit;else c.elem[c.prop]=c.now}}});g.fn.offset=document.documentElement.getBoundingClientRect?function(){if(!this[0])return{top:0,left:0};if(this[0]===this[0].ownerDocument.body)return g.offset.bodyOffset(this[0]);var c=this[0].getBoundingClientRect(),l=this[0].ownerDocument,o=l.body;l=l.documentElement;return{top:c.top+(self.pageYOffset||g.boxModel&&l.scrollTop||o.scrollTop)-(l.clientTop||
o.clientTop||0),left:c.left+(self.pageXOffset||g.boxModel&&l.scrollLeft||o.scrollLeft)-(l.clientLeft||o.clientLeft||0)}}:function(){if(!this[0])return{top:0,left:0};if(this[0]===this[0].ownerDocument.body)return g.offset.bodyOffset(this[0]);g.offset.initialized||g.offset.initialize();var c=this[0],l=c.offsetParent,o=c.ownerDocument,q,x=o.documentElement,z=o.body;o=o.defaultView;q=o.getComputedStyle(c,null);for(var B=c.offsetTop,C=c.offsetLeft;(c=c.parentNode)&&c!==z&&c!==x;){q=o.getComputedStyle(c,
null);B-=c.scrollTop;C-=c.scrollLeft;if(c===l){B+=c.offsetTop;C+=c.offsetLeft;if(g.offset.doesNotAddBorder&&!(g.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(c.tagName))){B+=parseInt(q.borderTopWidth,10)||0;C+=parseInt(q.borderLeftWidth,10)||0}l=c.offsetParent}if(g.offset.subtractsBorderForOverflowNotVisible&&q.overflow!=="visible"){B+=parseInt(q.borderTopWidth,10)||0;C+=parseInt(q.borderLeftWidth,10)||0}q=q}if(q.position==="relative"||q.position==="static"){B+=z.offsetTop;C+=z.offsetLeft}if(q.position===
"fixed"){B+=Math.max(x.scrollTop,z.scrollTop);C+=Math.max(x.scrollLeft,z.scrollLeft)}return{top:B,left:C}};g.offset={initialize:function(){if(!this.initialized){var c=document.body,l=document.createElement("div"),o,q,x,z=c.style.marginTop;o={position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"};for(q in o)l.style[q]=o[q];l.innerHTML='<div style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;"><div></div></div><table style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>';
c.insertBefore(l,c.firstChild);o=l.firstChild;q=o.firstChild;x=o.nextSibling.firstChild.firstChild;this.doesNotAddBorder=q.offsetTop!==5;this.doesAddBorderForTableAndCells=x.offsetTop===5;o.style.overflow="hidden";o.style.position="relative";this.subtractsBorderForOverflowNotVisible=q.offsetTop===-5;c.style.marginTop="1px";this.doesNotIncludeMarginInBodyOffset=c.offsetTop===0;c.style.marginTop=z;c.removeChild(l);this.initialized=true}},bodyOffset:function(c){g.offset.initialized||g.offset.initialize();
var l=c.offsetTop,o=c.offsetLeft;if(g.offset.doesNotIncludeMarginInBodyOffset){l+=parseInt(g.curCSS(c,"marginTop",true),10)||0;o+=parseInt(g.curCSS(c,"marginLeft",true),10)||0}return{top:l,left:o}}};g.fn.extend({position:function(){var c;if(this[0]){c=this.offsetParent();var l=this.offset(),o=/^body|html$/i.test(c[0].tagName)?{top:0,left:0}:c.offset();l.top-=d(this,"marginTop");l.left-=d(this,"marginLeft");o.top+=d(c,"borderTopWidth");o.left+=d(c,"borderLeftWidth");c={top:l.top-o.top,left:l.left-
o.left}}return c},offsetParent:function(){for(var c=this[0].offsetParent||document.body;c&&!/^body|html$/i.test(c.tagName)&&g.css(c,"position")=="static";)c=c.offsetParent;return g(c)}});g.each(["Left","Top"],function(c,l){var o="scroll"+l;g.fn[o]=function(q){if(!this[0])return null;return q!==v?this.each(function(){this==s||this==document?s.scrollTo(!c?q:g(s).scrollLeft(),c?q:g(s).scrollTop()):(this[o]=q)}):this[0]==s||this[0]==document?self[c?"pageYOffset":"pageXOffset"]||g.boxModel&&document.documentElement[o]||
document.body[o]:this[0][o]}});g.each(["Height","Width"],function(c,l){var o=l.toLowerCase();g.fn["inner"+l]=function(){return this[0]?g.css(this[0],o,false,"padding"):null};g.fn["outer"+l]=function(x){return this[0]?g.css(this[0],o,false,x?"margin":"border"):null};var q=l.toLowerCase();g.fn[q]=function(x){return this[0]==s?document.compatMode=="CSS1Compat"&&document.documentElement["client"+l]||document.body["client"+l]:this[0]==document?Math.max(document.documentElement["client"+l],document.body["scroll"+
l],document.documentElement["scroll"+l],document.body["offset"+l],document.documentElement["offset"+l]):x===v?this.length?g.css(this[0],q):null:this.css(q,typeof x==="string"?x:x+"px")}})})();(function(e){e.format=function(){var b={date:{format:"dddd, MMMM dd, yyyy h:mm:ss tt",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],daysFull:["Sunday",
"Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],timeFormat:"h:mm tt",shortDateFormat:"M/d/yyyy",longDateFormat:"dddd, MMMM dd, yyyy"},number:{format:"#,##0.0#",groupingSeparator:",",decimalSeparator:"."}};return{locale:function(d){a={a:6};if(d)for(var f in d)for(var j in d[f])b[f][j]=d[f][j];return b},date:function(d,f){if(typeof d=="string"){var j=function(P,R,ma,fa){for(fa=fa;fa>=ma;fa--){var ba=P.substring(R,R+fa);if(ba.length>=
ma&&(new RegExp(/^\d+$/)).test(ba))return ba}return null};if(typeof f=="undefined")f=b.date.format;var h=0,k=0,m="",n="",s,v,r=new Date,w=r.getYear(),g=r.getMonth()+1,t=1,D=r.getHours(),G=r.getMinutes(),S=r.getSeconds();r=r.getMilliseconds();for(var O="";h<f.length;){n="";for(m=f.charAt(h);f.charAt(h)==m&&h<f.length;)n+=f.charAt(h++);if(n.indexOf("MMMM")>-1&&n.length>4)n="MMMM";if(n.indexOf("EEEE")>-1&&n.length>4)n="EEEE";if(n=="yyyy"||n=="yy"||n=="y"){if(n=="yyyy")v=s=4;if(n=="yy")v=s=2;if(n=="y"){s=
2;v=4}w=j(d,k,s,v);if(w==null)return 0;k+=w.length;if(w.length==2){w=parseInt(w);w=w>70?1900+w:2E3+w}}else if(n=="MMMM"){for(m=g=0;n=b.date.monthsFull[m];m++)if(d.substring(k,k+n.length).toLowerCase()==n.toLowerCase()){g=m+1;k+=n.length;break}if(g<1||g>12)return 0}else if(n=="MMM"){for(m=g=0;n=b.date.monthsShort[m];m++)if(d.substring(k,k+n.length).toLowerCase()==n.toLowerCase()){g=m+1;k+=n.length;break}if(g<1||g>12)return 0}else if(n=="EEEE")for(m=0;n=b.date.daysFull[m];m++){if(d.substring(k,k+n.length).toLowerCase()==
n.toLowerCase()){k+=n.length;break}}else if(n=="EEE")for(m=0;n=b.date.daysShort[m];m++){if(d.substring(k,k+n.length).toLowerCase()==n.toLowerCase()){k+=n.length;break}}else if(n=="MM"||n=="M"){g=j(d,k,1,2);if(g==null||g<1||g>12)return 0;k+=g.length}else if(n=="dd"||n=="d"){t=j(d,k,1,2);if(t==null||t<1||t>31)return 0;k+=t.length}else if(n=="hh"||n=="h"){D=j(d,k,1,2);if(D==null||D<1||D>12)return 0;k+=D.length}else if(n=="HH"||n=="H"){D=j(d,k,1,2);if(D==null||D<0||D>23)return 0;k+=D.length}else if(n==
"KK"||n=="K"){D=j(d,k,1,2);if(D==null||D<0||D>11)return 0;k+=D.length}else if(n=="kk"||n=="k"){D=j(d,k,1,2);if(D==null||D<1||D>24)return 0;k+=D.length;D--}else if(n=="mm"||n=="m"){G=j(d,k,1,2);if(G==null||G<0||G>59)return 0;k+=G.length}else if(n=="ss"||n=="s"){S=j(d,k,1,2);if(S==null||S<0||S>59)return 0;k+=S.length}else if(n=="SSS"||n=="SS"||n=="S"){r=j(d,k,1,3);if(r==null||r<0||r>999)return 0;k+=r.length}else if(n=="a"){O=d.substring(k,k+2).toLowerCase();if(O=="am")O="AM";else if(O=="pm")O="PM";
else return 0;k+=2}else if(n!=d.substring(k,k+n.length))return 0;else k+=n.length}if(k!=d.length)return 0;if(g==2)if(w%4==0&&w%100!=0||w%400==0){if(t>29)return 0}else if(t>28)return 0;if(g==4||g==6||g==9||g==11)if(t>30)return 0;if(D<12&&O=="PM")D=D-0+12;else if(D>11&&O=="AM")D-=12;return new Date(w,g-1,t,D,G,S,r)}else{h=function(P,R){if(typeof R=="undefined"||R==2)return(P>=0&&P<10?"0":"")+P;else{if(P>=0&&P<10)return"00"+P;if(P>=10&&P<100)return"0"+P;return P}};if(typeof f=="undefined")f=b.date.format;
v=d.getYear();if(v<1E3)v=String(v+1900);k=d.getMonth()+1;s=d.getDate();w=d.getDay();g=d.getHours();t=d.getMinutes();j=d.getSeconds();D=d.getMilliseconds();d={};d.y=v;d.yyyy=v;d.yy=String(v).substring(2,4);d.M=k;d.MM=h(k);d.MMM=b.date.monthsShort[k-1];d.MMMM=b.date.monthsFull[k-1];d.d=s;d.dd=h(s);d.EEE=b.date.daysShort[w];d.EEEE=b.date.daysFull[w];d.H=g;d.HH=h(g);d.h=g==0?12:g>12?g-12:g;d.hh=h(d.h);d.k=g+1;d.kk=h(d.k);d.K=g>11?g-12:g;d.KK=h(d.K);d.a=g>11?"PM":"AM";d.m=t;d.mm=h(t);d.s=j;d.ss=h(j);d.S=
D;d.SS=h(D);d.SSS=h(D,3);h=0;v=n=m="";for(j=false;h<f.length;){n="";m=f.charAt(h);if(m=="'"){h++;if(f.charAt(h)==m){v+=m;h++}else j=!j}else{for(;f.charAt(h)==m;)n+=f.charAt(h++);if(n.indexOf("MMMM")>-1&&n.length>4)n="MMMM";if(n.indexOf("EEEE")>-1&&n.length>4)n="EEEE";v+=d[n]!=null&&!j?d[n]:n}}return v}},number:function(d,f){if(typeof d=="string"){var j=b.number.groupingSeparator,h=b.number.decimalSeparator,k=d.indexOf(h),m=1;if(k!=-1)m=Math.pow(10,d.length-k-1);d=d.replace(new RegExp("["+j+"]","g"),
"");d=d.replace(new RegExp("["+h+"]"),".");return parseInt(d*m)/m}else{if(typeof f=="undefined"||f.length<1)f=b.number.format;var n="",s="";j=",";j=f.lastIndexOf(j);h=".";k=f.indexOf(h);if(k!=-1){s=b.number.decimalSeparator;h=f.substr(k+1).replace(/#/g,"").length;var v=f.substr(k+1).length;if(v>0){var r=Math.pow(10,v);m=1E3;r=String(Math.round(parseInt(d*r*m-parseInt(d)*r*m)/m));var w=d.toString().split(".");if(typeof w[1]!="undefined")for(m=0;m<w[1].length;m++)if(w[1].substr(m,1)=="0")r="0"+r;else break;
for(m=0;m<v-s.length;m++)r+="0";w="";for(m=0;m<r.length;m++){v=r.substr(m,1);if(m>=h&&v=="0")break;w+=v}s+=w}if(s==b.number.decimalSeparator)s=""}if(k!=0){n=s!=""?String(Math.floor(d)):String(Math.round(d));d=b.number.groupingSeparator;h=0;if(j!=-1){h=k!=-1?k-j:f.length-j;h--}if(h>0){j=0;v="";for(m=n.length;m--;){if(j!=0&&j%h==0)v=d+v;v=n.substr(m,1)+v;j++}n=v}f=k!=-1?f.substr(0,k).replace(new RegExp("#|"+d,"g"),"").length:f.replace(new RegExp("#|"+d,"g"),"").length;for(m=n.length;m<f;m++)n="0"+n}return result=
n+s}}}}()})(jQuery);uki.theme.airport.imagePath="i/";window.TESTING||monitor_app.controller.main()})();
